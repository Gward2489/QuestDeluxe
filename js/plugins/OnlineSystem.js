var Plugins=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$onlineParty=t.$gameNetwork=void 0;var r=a(2),n=a(3);o(a(1)),o(a(5));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.$gameNetwork=i,t.$onlineParty=s;var i=null,s=null,c=DataManager.createGameObjects;DataManager.createGameObjects=function(){c.call(this),t.$gameNetwork=i=i||new r.Game_Network,t.$onlineParty=s=s||new n.Online_Party}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_NetworkPlayer=t.Game_Map=t.Game_Player=t.Spriteset_Map=t.Scene_Map=void 0;var r=a(0);t.Scene_Map=Scene_Map,t.Spriteset_Map=Spriteset_Map,t.Game_Player=Game_Player,t.Game_Map=Game_Map,t.Game_NetworkPlayer=o;var n=Scene_Map.prototype.onMapLoaded;function o(){this.initialize.apply(this,arguments)}Scene_Map.prototype.onMapLoaded=function(){if(n.call(this),$gameMap._mapId!==r.$gameNetwork.currentMapId){var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e));for(var t=[],a=0;a<$dataMap.events.length;a++)null!==$dataMap.events[a]&&!0===$dataMap.events[a]._isNetworkPlayerEvent&&t.push(a);t.length>0&&t.forEach(function(e){$dataMap.events.splice(e,1)});for(var o=[],i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&!0===$gameMap._events[i]._isNetworkPlayerEvent&&o.push(i);o.length>0&&o.forEach(function(e){$gameMap._events.splice(e,1)});var s=[],c=r.$gameNetwork.networkMapEvents;for(var l in c)c.hasOwnProperty(l)&&!0===c[l]._isNetworkPlayerEvent&&s.push(c[l]._accountUserName);s.length>0&&s.forEach(function(e){delete r.$gameNetwork.networkMapEvents[e]}),SceneManager._scene._spriteset.clearAllNetworkPlayerEvents(),r.$gameNetwork.currentMapId=$gameMap._mapId,r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e))}r.$gameNetwork.game_loaded=!0},Spriteset_Map.prototype.clearNetworkPlayer=function(e){for(var t=0;t<this._characterSprites.length;t++){this._characterSprites[t]._character._accountUserName===e&&this._tilemap.removeChild(this._characterSprites[t])}},Spriteset_Map.prototype.clearAllNetworkPlayerEvents=function(){for(var e=0;e<this._characterSprites.length;e++){!0===this._characterSprites[e]._character._isNetworkPlayerEvent&&this._tilemap.removeChild(this._characterSprites[e])}},Game_Player.prototype.UpdateNetworkPlayer=function(e){var t=e.accountUserName,a=r.$gameNetwork.networkMapEvents;a[t].setMoveSpeed(e.moveSpeed),a[t].setMoveFrequency(e.moveFrequenzy),a[t].moveStraight(e.direction),a[t].x===e.x&&a[t].y===e.y||a[t].setPosition(e.x,e.y),a[t]._characterName=e.characterName,a[t]._characterIndex=e.characterIndex},Game_Player.prototype.moveByInput=function(){if(!this.isMoving()&&this.canMove()){var e=this.getInputDirection();if(e>0)$gameTemp.clearDestination();else if($gameTemp.isDestinationValid()){var t=$gameTemp.destinationX(),a=$gameTemp.destinationY();e=this.findDirectionTo(t,a)}if(e>0){if(this.executeMove(e),r.$gameNetwork.currentMapId!==$gameMap._mapId){var n=r.$gameNetwork.GetPlayerCasterData();try{r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}r.$gameNetwork.currentMapId=$gameMap._mapId;try{r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}}var o=r.$gameNetwork.GetPlayerCasterData(),i="mapRoom"+$gameMap._mapId;r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup",i,JSON.stringify(o))}}},Game_Player.prototype.seedNewPlayerEvent=function(e,t,a){var r=$dataMap.events.length,n='{"id":'+r+',"name":"'+a+'","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":'+e+',"y":'+t+',"meta":{},"_isNetworkPlayerEvent":true}';return $dataMap.events.push(JSON.parse(n)),r},Game_Map.prototype.addNetworkPlayer=function(e,t,a){var r=Game_Player.prototype.seedNewPlayerEvent(e,t,a),n=this._events.length;return this._events[n]=new o(this._mapId,r,e,t),this._events[n]._accountUserName=a,this._events[n]._isNetworkPlayerEvent=!0,SceneManager._scene._spriteset.createNetworkPlayer(n,a),this._events[n]},Spriteset_Map.prototype.createNetworkPlayer=function(e,t){var a=$gameMap._events[e],r=this._characterSprites.length;this._characterSprites[r]=new Sprite_Character(a),this._characterSprites[r]._accountUserName=t,this._characterSprites[r].update(),this._tilemap.addChild(this._characterSprites[r])},o.prototype=Object.create(Game_Event.prototype),o.prototype.constructor=o,o.prototype.initialize=function(e,t,a,r){Game_Event.prototype.initialize.call(this,e,t),this._isNetworkPlayer=!0,this.setPosition(a,r)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_Network=void 0;var r=a(0),n=(a(1),n||{});function o(){this.initialize.apply(this,arguments)}n.OnlineCore=!0,t.Game_Network=o,o.prototype.initialize=function(){this.apiUrl="http://localhost:5000/api",this.token="",this.userEmail="",this.userAccountName="",this.currentMapId=0,this.mapConnection={},this.networkMapEvents={},this.game_loaded=!1,this.loadedGames=[]},o.prototype.connectMapSocketAfterLogin=function(){var e=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/gameMapHub").build();r.$gameNetwork.mapConnection=e,async function(){try{await r.$gameNetwork.mapConnection.start();var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e)),r.$gameNetwork.mapConnection.on("NewPlayerOnMap",function(e){var t=JSON.parse(e);0!==t.x&&0!==t.y||(t.x=1,t.y=1);var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t);var n=o.prototype.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}),r.$gameNetwork.mapConnection.on("PlayerMapUpdate",function(e){if(SceneManager._scene._spriteset&&!(SceneManager._scene instanceof Scene_Battle)){var t=JSON.parse(e);if(r.$gameNetwork.networkMapEvents[t.accountUserName])Game_Player.prototype.UpdateNetworkPlayer(t);else{var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t)}}}),r.$gameNetwork.mapConnection.on("RemovePlayerFromMap",function(e){for(var t=JSON.parse(e),a=0,n=0;n<$dataMap.events.length;n++)null!==$dataMap.events[n]&&$dataMap.events[n].name===t.accountUserName&&(a=n);$dataMap.events.splice(a,1);for(var o=0,i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&$gameMap._events[i]._accountUserName===t.accountUserName&&(o=i);$gameMap._events.splice(o,1),delete r.$gameNetwork.networkMapEvents[t.accountUserName],SceneManager._scene._spriteset.clearNetworkPlayer(t.accountUserName)})}catch(e){console.error(e.toString())}}()},o.prototype.CaptureLoginResponse=function(e){r.$gameNetwork.token=e.token,r.$gameNetwork.userEmail=e.email,r.$gameNetwork.userAccountName=e.user},o.prototype.GetPlayerCasterData=function(){return{accountUserName:r.$gameNetwork.userAccountName,direction:$gamePlayer._direction,x:$gamePlayer._x,y:$gamePlayer._y,moveSpeed:$gamePlayer._moveSpeed,moveFrequenzy:$gamePlayer._moveFrequency,characterName:$gamePlayer._characterName,characterIndex:$gamePlayer._characterIndex}},o.prototype.LoadGameFilesFromServer=function(e,t){$.get(r.$gameNetwork.apiUrl+"/GameData/"+e,function(e){console.log(e),t(e)}).fail(function(){window.alert("Load failed")})},o.prototype.SaveGameToServer=function(e){$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveGame",type:"PUT",data:e,contentType:"application/json"})},o.prototype.SaveNewGameToServer=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+t,type:"POST",data:e,contentType:"application/json"})},o.prototype.CreateNewUser=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/register",type:"POST",data:e,contentType:"application/json",success:function(e){t()},error:function(e){console.log(e)}})},o.prototype.LogUserIn=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/login",type:"POST",data:e,contentType:"application/json",success:function(e){r.$gameNetwork.userEmail=e.email,o.prototype.CaptureLoginResponse(e),t()},error:function(e){console.log(e)}})},o.prototype.ClassSelect_old=function(e,t,a){if("Clansmen"===t){var r=[null,{altClassName:""+t,id:1,battlerName:"Actor1_1",characterIndex:0,characterName:"Actor1",classId:1,equips:[1,1,2,3,0],faceIndex:0,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=r}else if("Big Hat"===t){var n=[null,{altClassName:""+t,id:2,battlerName:"Actor2_5",characterIndex:4,characterName:"Actor2",classId:3,equips:[3,0,0,0,0],faceIndex:4,faceName:"Actor2",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=n}else if("Divine"===t){var o=[null,{altClassName:""+t,id:4,battlerName:"Actor2_4",characterIndex:3,characterName:"Actor3",classId:4,equips:[4,0,0,0,0],faceIndex:3,faceName:"Actor3",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=o}else if("Mercenary"===t){var i=[null,{altClassName:""+t,id:3,battlerName:"Actor1_7",characterIndex:6,characterName:"Actor1",classId:2,equips:[2,0,0,0,0],faceIndex:6,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=i}return e},o.prototype.ClassSelect=function(e,t,a){var r=[];"Clansmen"===t?r=[null,{altClassName:""+t,id:1,battlerName:"Actor1_1",characterIndex:0,characterName:"Actor1",classId:1,equips:[1,1,2,3,0],faceIndex:0,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Big Hat"===t?r=[null,{altClassName:""+t,id:2,battlerName:"Actor2_5",characterIndex:4,characterName:"Actor2",classId:3,equips:[3,0,0,0,0],faceIndex:4,faceName:"Actor2",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Divine"===t?r=[null,{altClassName:""+t,id:4,battlerName:"Actor2_4",characterIndex:3,characterName:"Actor3",classId:4,equips:[4,0,0,0,0],faceIndex:3,faceName:"Actor3",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Mercenary"===t&&(r=[null,{altClassName:""+t,id:3,battlerName:"Actor1_7",characterIndex:6,characterName:"Actor1",classId:2,equips:[2,0,0,0,0],faceIndex:6,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]),$dataActors=r;var n=new Game_Actors,o=new Game_Actor(1),i=Object.assign(o,r[1]);return r[1]=i,n._data=r,e.actors=n,e.dataActors=$dataActors,e},o.prototype.CaptureCoreGameMetaData=function(){r.$gameNetwork.dataFiles=[];for(var e=DataManager.isBattleTest()||DataManager.isEventTest()?"Test_":"",t=0;t<DataManager._databaseFiles.length;t++){var a=DataManager._databaseFiles[t].name,n=DataManager._databaseFiles[t].src;r.$gameNetwork.dataFiles.push([a,e+n])}DataManager.isEventTest()&&r.$gameNetwork.dataFiles.push(["$testEvent",e+"Event.json"])},o.prototype.CreateNewSaveFile=function(e,t,a,n){var o={},i=0,s=r.$gameNetwork.dataFiles.length;r.$gameNetwork.dataFiles.forEach(function(c){var l=new XMLHttpRequest,p="data/"+c[1];l.open("GET",p),l.overrideMimeType("application/json"),l.onload=function(){if(l.status<400&&(i++,o[c[0]]=JSON.parse(l.responseText),i===s)){var p=r.$gameNetwork.ClassSelect(o,t,n),d=JSON.stringify(p);$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+e,type:"POST",data:d,contentType:"application/json",success:function(){a()}}),i++}},l.onerror=DataManager._mapLoader||function(){DataManager._errorUrl=DataManager._errorUrl||p},l.send()})},o.prototype.PopulateDatabase=function(e){for(var t in e)window[t]=e[t],DataManager.onLoad(window[t])},o.prototype.LoadSavedGame=function(e){DataManager.createGameObjects(),DataManager.extractSaveContents(e),$dataActors=e.dataActors;var t=new Game_Actors,a=new Game_Actor(1);t._data=[null,a],$gameActors=t,console.log(e.actors),r.$gameNetwork.currentMapId=$dataSystem.startMapId,Graphics.frameCount=0,SceneManager.goto(Scene_Map),r.$gameNetwork.connectMapSocketAfterLogin()},o.prototype.CreateNewGame=function(e,t,a,n){var o=DataManager.makeSaveContents(),i=r.$gameNetwork.ClassSelect(o,t,n),s=JsonEx.stringify(i);console.log("yippe"),$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+e,type:"POST",data:s,processData:!1,contentType:"application/json",success:function(){a()}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Online_Party=void 0;var r=a(0),n=a(4);function o(){this.initialize.apply(this,arguments)}t.Online_Party=o,o.prototype.initialize=function(){this.members=[],this.partyConnection={},this.isHost=!1,this.partiesSeeking=[],this.playerOptions=[],this.partyOptions=[],this.currentPartyPortal={}},o.prototype.makeNewPartyConnection=function(e){var t=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/onlinePartyHub").build();r.$onlineParty.partyConnection=t,async function(){try{if(r.$onlineParty.partyConnection.start(),e){r.$onlineParty.partyConnection.invoke("AddToPartyAsHost","hello"),r.$onlineParty.partyConnection.on("NewPartyWithHost",function(e){"hello"==e&&(r.$onlineParty.isHost=!0)})}}catch(e){console.error(e.toString())}}()},o.prototype.makeOnlinePartyPortal=function(){r.$onlineParty.populatePlayerOptions();var e=new n.PartyPortalWindow(300,300);r.$onlineParty.currentPartyPortal=e,r.$onlineParty.currentPartyPortal.clearCommandList(),r.$onlineParty.currentPartyPortal.makeCommandList(),r.$onlineParty.currentPartyPortal.setHandler("addPlayerToParty",this.addPlayerToParty.bind(this)),SceneManager._scene.addChild(e)},o.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in r.$onlineParty.playerOptions=[],e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},o.prototype.addPlayerToParty=function(e){console.log("score");this.currentPartyPortal.currentExt()},o.prototype.newPartyAsHost=function(){},o.prototype.joinParty=function(){},o.prototype.createNewOnlinePartyMember=function(){}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartyPortalWindow=void 0;var r=a(0);function n(e,t){Window_Command.prototype.initialize.call(this,e,t,100,100)}t.PartyPortalWindow=n,n.prototype=Object.create(Window_Command.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){},n.prototype.makeCommandList=function(){this.makeCharacterCommands()},n.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},n.prototype.populatePartyOptions=function(){var e=this;r.$onlineParty.openParties.forEach(function(t){e.partyOptions.push(t)})},n.prototype.makeCharacterCommands=function(){var e=this;r.$onlineParty.playerOptions.forEach(function(t){e.addCommand(""+t._accountUserName,"addPlayerToParty",!0,""+t._accountUserName)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=t.QuestDeluxePortal=void 0;var r=a(0);function n(){this.initialize.apply(this,arguments)}t.QuestDeluxePortal=n,t.Input=Input,n.prototype=Object.create(Scene_Base.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){Scene_Base.prototype.initialize.call(this)},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.create=function(){Scene_Base.prototype.create.call(this),this.createBackground()},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.start=function(){Scene_Base.prototype.start.call(this),SceneManager.clearStack(),this.startFadeIn(this.fadeSpeed(),!1),this.LoginForm()},n.prototype.update=function(){Scene_Base.prototype.update.call(this)},n.prototype.isBusy=function(){return Scene_Base.prototype.isBusy.call(this)},n.prototype.terminate=function(){Scene_Base.prototype.terminate.call(this),SceneManager.snapForBackground()},n.prototype.createNewSaveFile=function(e){var t={};return t.system=$gameSystem,t.screen=$gameScreen,t.timer=$gameTimer,t.switches=$gameSwitches,t.variables=$gameVariables,t.selfSwitches=$gameSelfSwitches,t.actors=e,t.party=$gameParty,t.map=$gameMap,t.player=$gamePlayer,JSON.stringify(t)},n.prototype.RegistrationSuccess=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div class="registrationSuccessWrapper" style="width:'+e+'px">\n            <div class="registrationSuccessInnerWrapper">\n                <div class="registrationSuccessTextWrapper">\n                    <div class="registrationSuccessText">\n                        Registration Succesful! \n                    </div>\n                </div>\n                <div class="registrationSuccessButtonWrapper">\n                    <button class="registrationSuccessButton">\n                        LOG IN\n                    </button>\n                </div>\n            </div>\n        </div>\n        '),$(".registrationSuccessButton").click(function(){n.prototype.LoginForm()})},n.prototype.RegistrationForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="RegisterForm" style="width:'+t+'px">\n            <div class="registrationWrapper">\n                <div>\n                    <div class="register-text">\n                        Provide your email address, a desired user name, and a password. \n                    </div>\n                </div>\n\n                <div class="emailWrapper">\n                    <div class="emailInput">\n                        <input class="emailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="accountNameWrapper">\n                    <div class="accountNameInput">\n                        <input class="accountNameText" placeholder="user name">\n                    </div>\n                </div>\n                <div class="passwordWrapper">\n                    <div class="passwordInput">\n                        <input class="passwordText" type="password" placeholder="password">\n                    </div>\n                </div>\n                <div class="registerButtonWrapper">\n                    <div class="registerButton">\n                        <button class="registerSubmitButton">\n                            REGISTER NOW\n                        </button>\n                    </div>\n                </div>\n                <div class="toLoginButtonWrapper">\n                    <div class="toLoginButton">\n                        <button class="toLoginSubmitButton">\n                            LOGIN PORTAL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".registerSubmitButton").click(function(t){var a=function(){var e=$(".emailText").val(),t={accountName:$(".accountNameText").val(),password:$(".passwordText").val(),email:e};return JSON.stringify(t)}();r.$gameNetwork.CreateNewUser(a,e.RegistrationSuccess)}),$(".toLoginButton").click(function(e){n.prototype.LoginForm()})},n.prototype.LoginForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="LoginForm" style="width:'+t+'px">\n            <div class="LoginWrapper">\n                <div>\n                    <div class="welcome-text">\n                        Welcome. Log In below, or click the Sign Up button to create a new account. \n                    </div>\n                </div>\n                <div class="loginEmailWrapper">\n                    <div class="loginEmailInput">\n                        <input class="loginEmailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="loginPasswordWrapper">\n                    <div class="loginPasswordInput">\n                        <input class="loginPasswordText" placeholder="password" type="password">\n                    </div>\n                </div>\n                <div class="loginButtonWrapper">\n                    <div class="loginButton">\n                        <button class="loginSubmitButton">\n                            LOGIN\n                        </button>\n                    </div>\n                </div>\n                <div class="toRegisterWrapper">\n                    <div class="toRegisterButton">\n                        <button class="toRegisterSubmitButton">\n                            SIGN UP!\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".loginSubmitButton").click(function(t){var a=function(){var e={email:$(".loginEmailText").val(),password:$(".loginPasswordText").val()};return JSON.stringify(e)}();r.$gameNetwork.LogUserIn(a,e.CharacterSelect)}),$(".toRegisterSubmitButton").click(function(e){n.prototype.RegistrationForm()})},n.prototype.CharacterSelect=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="CharacterSelectScreen" style="width:'+e+'px">\n            <div class="charSelectWrapper">\n                <div class="welcome-text">\n                    Select your character, or create a new one by clicking the new character button. \n                </div>\n                <div class="charSelectButtonsWrapper">\n                    <div class="charSelectButtons">\n                        <button class="newCharacterButton">\n                            NEW CHARACTER\n                        </button>\n                        <button class="logoutButton">\n                            LOG OUT\n                        </button>\n                        <button class="accountOptionsButton">\n                            OPTIONS\n                        </button>\n                    </div>\n                </div>\n                <div class="charactersTableWrapper">\n                    <div class="charactersTableContainer">\n                        <table style="width:100%" class="charactersTable">\n                            <tr>\n                                <th>Select</th>\n                                <th>Level</th> \n                                <th>Class</th>\n                                <th>Character Name</th>\n                            </tr>\n                        </table>\n                        <div class="charactersLoading">\n                            <div>\n                                Loading your characters...\n                            </div>\n                            <div style="margin-top:12px;">\n                                <img src="../extra_images/loading.gif" alt="loading-gif" height="50px" width="50px">\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div> \n            </div>\n        </div>'),$(".charactersTable").hide();r.$gameNetwork.LoadGameFilesFromServer(r.$gameNetwork.userEmail,function(e){$(".charactersLoading").hide(),$(".charactersTable").show(),r.$gameNetwork.loadedGames=[];var t=1;r.$gameNetwork.loadedGames.push(null),e.forEach(function(e){var a=JsonEx.parse(e);r.$gameNetwork.loadedGames.push(a);var o=a.actors._data[1];$(".charactersTable").append(' \n            <tr>\n                <td><button class="game'+t+'">CHOOSE</button></td>\n                <td>'+o.initialLevel+"</td> \n                <td>"+o.altClassName+"</td>\n                <td>"+o.name+"</td>\n            </tr>\n            "),$(".game"+t).attr("gameIndex",""+t).click(function(e){$("#ErrorPrinter").html(""),n.prototype.reBindInput();var t=Number($(e.currentTarget).attr("gameIndex")),a=r.$gameNetwork.loadedGames[t];r.$gameNetwork.LoadSavedGame(a)}),t++})}),$(".newCharacterButton").click(function(){n.prototype.NewCharacter()})},n.prototype.runLoadedFile=function(e){Object.assign($gameSystem,e.system),Object.assign($gameScreen,e.screen),Object.assign($gameTimer,e.timer),Object.assign($gameSwitches,e.switches),Object.assign($gameVariables,e.variables),Object.assign($gameSelfSwitches,e.selfSwitches),Object.assign($gameActors,e.actors),Object.assign($gameParty,e.party),Object.assign($gameMap,e.map),Object.assign($gamePlayer,e.player)},n.prototype.NewCharacter=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="NewCharacterScreen" class="panel panel-primary" style="width:'+e+'px">\n            <div class="newCharacterWrapper">\n                <div class="nameWarning">\n                    <div class="infoText">\n                        You must enter a name for your character\n                    </div>\n                    <div>\n                    <button class="confirmNameWarning">\n                        OK\n                    </button>\n                    </div>   \n                </div>\n                <div class="charSelectMain">\n                    <div class="infoTextWrapper">\n                        <div class="infoTextInnerWrapper">\n                            <div class="infoText">\n                                Enter a character name and select your base class\n                            </div>\n                        </div>\n                    </div>\n                    <div class="characterNameWrapper">\n                        <div class="characterNameInput">\n                            <input class="characterNameInputText" type="text" placeholder="character name">\n                        </div>\n                    </div>\n\n                    <div class="clansmanClassWrapper">\n                        <div class="clansmanClassInnerWrapper">\n                            <button class="clansmenButton">\n                                CLANSMEN\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="bighatClassWrapper">\n                        <div class="bighatClassInnerWrapper">\n                            <button class="bighatButton">\n                                BIG HAT\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="divineClassWrapper">\n                        <div class="divinClassInnerWrapper">\n                            <button class="divineClassButton">\n                                DIVINE\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="mercenaryClassWrapper">\n                        <div class="mercenaryClassInnerWrapper">\n                            <button class="mercenaryClassButton">\n                                MERCENARY\n                            </button>\n                        </div>\n                    </div>     \n                </div>\n            </div>\n        </div>'),$(".nameWarning").hide();var t=function(){return $(".characterNameInputText").val()};$(".confirmNameWarning").click(function(){$(".nameWarning").hide(),$(".charSelectMain").show()}),$(".clansmenButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Clansmen",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".bighatButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Big Hat",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".divineClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Divine",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".mercenaryClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Mercenary",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()})},n.prototype.loadingScreen=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="loadingScreen" style="width:'+e+'px">\n            <div class="loadingScreenWrapper">\n                <div>\n                    Creating New Game...\n                </div>\n                <div style="margin-top:12px;">\n                    <img src="../extra_images/loading.gif" alt="loading-gif" height="80px" width="80px">\n                </div>\n            </div>\n        </div>')},n.prototype.createBackground=function(){this._backSprite1=new Sprite(ImageManager.loadTitle1($dataSystem.title1Name)),this._backSprite2=new Sprite(ImageManager.loadTitle2($dataSystem.title2Name)),this.addChild(this._backSprite1),this.addChild(this._backSprite2),this.centerSprite(this._backSprite1),this.centerSprite(this._backSprite2),this.createForeground()},n.prototype.createForeground=function(){this._gameTitleSprite=new Sprite(new Bitmap(Graphics.width,Graphics.height)),this.addChild(this._gameTitleSprite),$dataSystem.optDrawTitle&&this.drawGameTitle()},n.prototype.drawGameTitle=function(){var e=Graphics.height/4,t=Graphics.width-40,a=$dataSystem.gameTitle;this._gameTitleSprite.bitmap.outlineColor="black",this._gameTitleSprite.bitmap.outlineWidth=8,this._gameTitleSprite.bitmap.fontSize=72,this._gameTitleSprite.bitmap.drawText(a,20,e,t,48,"center")},n.prototype.centerSprite=function(e){e.x=Graphics.width/2,e.y=Graphics.height/2,e.anchor.x=.5,e.anchor.y=.5},n.prototype.playTitleMusic=function(){AudioManager.playBgm($dataSystem.titleBgm),AudioManager.stopBgs(),AudioManager.stopMe()},Scene_Boot.prototype.start=function(){Scene_Base.prototype.start.call(this),SoundManager.preloadImportantSounds(),DataManager.isBattleTest()?(DataManager.setupBattleTest(),SceneManager.goto(Scene_Battle)):DataManager.isEventTest()?(DataManager.setupEventTest(),SceneManager.goto(Scene_Map)):(this.checkPlayerLocation(),DataManager.setupNewGame(),SceneManager.goto(n)),this.updateDocumentTitle()},Input._onKeyDown=function(e){this._shouldPreventDefault(e)&&e.preventDefault(),144===e.keyCode&&this.clear();var t=this.keyMapper[e.keyCode];t&&(this._currentState[t]=!0)},Input._shouldPreventDefault=function(e){switch(e.keyCode){case 8:if($(e.target).is("input, textarea"))break;case 33:case 34:case 37:case 38:case 39:case 40:return!0}return!1}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QbHVnaW5zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL29ubGluZU1hcEJyb2FkY2FzdGVyLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVDb3JlLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVQYXJ0eS5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vanMvcGx1Z2lucy9PbmxpbmVTeXN0ZW0vcGFydHlQb3J0YWwuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL2xvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX29ubGluZUNvcmUiLCJfb25saW5lUGFydHkiLCIkZ2FtZU5ldHdvcmsiLCIkb25saW5lUGFydHkiLCJNYWdlQ29yZUNyZWF0ZUdhbWVPYmoiLCJEYXRhTWFuYWdlciIsImNyZWF0ZUdhbWVPYmplY3RzIiwidGhpcyIsIkdhbWVfTmV0d29yayIsIk9ubGluZV9QYXJ0eSIsIl9vbmxpbmVTeXN0ZW0iLCJTY2VuZV9NYXAiLCJTcHJpdGVzZXRfTWFwIiwiR2FtZV9QbGF5ZXIiLCJHYW1lX01hcCIsIkdhbWVfTmV0d29ya1BsYXllciIsIm9uTWFwTG9hZEFMaWFzIiwib25NYXBMb2FkZWQiLCJpbml0aWFsaXplIiwiYXBwbHkiLCJhcmd1bWVudHMiLCIkZ2FtZU1hcCIsIl9tYXBJZCIsImN1cnJlbnRNYXBJZCIsInBsYXllckRhdGEiLCJHZXRQbGF5ZXJDYXN0ZXJEYXRhIiwibWFwQ29ubmVjdGlvbiIsImludm9rZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0YXJnZXREYXRhRXZlbnRJbmRleGVzIiwiJGRhdGFNYXAiLCJldmVudHMiLCJsZW5ndGgiLCJfaXNOZXR3b3JrUGxheWVyRXZlbnQiLCJwdXNoIiwiZm9yRWFjaCIsInNwbGljZSIsInRhcmdldE1hcEV2ZW50SW5kZXhlcyIsIl9ldmVudHMiLCJfYWNjb3VudFVzZXJOYW1lIiwibmV0RXZlbnRzVG9SZW1vdmUiLCJldnMiLCJuZXR3b3JrTWFwRXZlbnRzIiwibmV0RXZlbnQiLCJTY2VuZU1hbmFnZXIiLCJfc2NlbmUiLCJfc3ByaXRlc2V0IiwiY2xlYXJBbGxOZXR3b3JrUGxheWVyRXZlbnRzIiwiZ2FtZV9sb2FkZWQiLCJjbGVhck5ldHdvcmtQbGF5ZXIiLCJhY2NvdW50VXNlck5hbWUiLCJfY2hhcmFjdGVyU3ByaXRlcyIsIl9jaGFyYWN0ZXIiLCJfdGlsZW1hcCIsInJlbW92ZUNoaWxkIiwiVXBkYXRlTmV0d29ya1BsYXllciIsImRhdGEiLCJ1c2VyQWNjb3VudCIsIm5ldEV2ZW50cyIsInNldE1vdmVTcGVlZCIsIm1vdmVTcGVlZCIsInNldE1vdmVGcmVxdWVuY3kiLCJtb3ZlRnJlcXVlbnp5IiwibW92ZVN0cmFpZ2h0IiwiZGlyZWN0aW9uIiwieCIsInkiLCJzZXRQb3NpdGlvbiIsIl9jaGFyYWN0ZXJOYW1lIiwiY2hhcmFjdGVyTmFtZSIsIl9jaGFyYWN0ZXJJbmRleCIsImNoYXJhY3RlckluZGV4IiwibW92ZUJ5SW5wdXQiLCJpc01vdmluZyIsImNhbk1vdmUiLCJnZXRJbnB1dERpcmVjdGlvbiIsIiRnYW1lVGVtcCIsImNsZWFyRGVzdGluYXRpb24iLCJpc0Rlc3RpbmF0aW9uVmFsaWQiLCJkZXN0aW5hdGlvblgiLCJkZXN0aW5hdGlvblkiLCJmaW5kRGlyZWN0aW9uVG8iLCJleGVjdXRlTW92ZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ0b1N0cmluZyIsIm1hcEdyb3VwTmFtZSIsInNlZWROZXdQbGF5ZXJFdmVudCIsIm5ld1BsYXllclgiLCJuZXdQbGF5ZXJZIiwicGxheWVyQWNjb3VudE5hbWUiLCJuZXdFdmVudElkIiwiZW1wdHlFdmVudCIsInBhcnNlIiwiYWRkTmV0d29ya1BsYXllciIsIm5ld1BsYXllckV2ZW50SWQiLCJuZXdQbGF5ZXJNYXBJZCIsImNyZWF0ZU5ldHdvcmtQbGF5ZXIiLCJ0YXJnZXRJbmRleCIsImV2ZW50Iiwic0lkIiwiU3ByaXRlX0NoYXJhY3RlciIsInVwZGF0ZSIsImFkZENoaWxkIiwiR2FtZV9FdmVudCIsImNvbnN0cnVjdG9yIiwibWFwSWQiLCJldmVudElkIiwiX2lzTmV0d29ya1BsYXllciIsIkltcG9ydGVkIiwiT25saW5lQ29yZSIsImFwaVVybCIsInRva2VuIiwidXNlckVtYWlsIiwidXNlckFjY291bnROYW1lIiwibG9hZGVkR2FtZXMiLCJjb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbiIsImNvbm5lY3Rpb24iLCJzaWduYWxSIiwiSHViQ29ubmVjdGlvbkJ1aWxkZXIiLCJ3aXRoVXJsIiwiYnVpbGQiLCJzdGFydCIsIm9uIiwibmV3TmV0d29ya1BsYXllciIsIm1lbWJlcnMiLCJwaW5nRGF0YSIsIlNjZW5lX0JhdHRsZSIsInRhcmdldERhdGFFdmVudEluZGV4IiwidGFyZ2V0TWFwRXZlbnRJbmRleCIsIkNhcHR1cmVMb2dpblJlc3BvbnNlIiwicmVzcG9uc2VEYXRhIiwiZW1haWwiLCJ1c2VyIiwiJGdhbWVQbGF5ZXIiLCJfZGlyZWN0aW9uIiwiX3giLCJfeSIsIl9tb3ZlU3BlZWQiLCJfbW92ZUZyZXF1ZW5jeSIsIkxvYWRHYW1lRmlsZXNGcm9tU2VydmVyIiwiY2FsbGJhY2siLCIkIiwicmVzcG9uc2UiLCJsb2ciLCJmYWlsIiwid2luZG93IiwiYWxlcnQiLCJTYXZlR2FtZVRvU2VydmVyIiwiR2FtZUZpbGUiLCJhamF4IiwidXJsIiwidHlwZSIsImNvbnRlbnRUeXBlIiwiU2F2ZU5ld0dhbWVUb1NlcnZlciIsIm93bmVyRW1haWwiLCJDcmVhdGVOZXdVc2VyIiwidXNlckRhdGEiLCJzdWNjZXNzIiwiTG9nVXNlckluIiwiQ2xhc3NTZWxlY3Rfb2xkIiwic2F2ZWZpbGUiLCJjbGFzc0Nob2ljZSIsImNoYXJOYW1lIiwibmV3QWN0b3IiLCJhbHRDbGFzc05hbWUiLCJpZCIsImJhdHRsZXJOYW1lIiwiY2xhc3NJZCIsImVxdWlwcyIsImZhY2VJbmRleCIsImZhY2VOYW1lIiwidHJhaXRzIiwiaW5pdGlhbExldmVsIiwibWF4TGV2ZWwiLCJuaWNrbmFtZSIsIm5vdGUiLCJwcm9maWxlIiwiQ2xhc3NTZWxlY3QiLCIkZGF0YUFjdG9ycyIsImFjdG9yc0FycmF5IiwiR2FtZV9BY3RvcnMiLCJnYW1lQWN0b3IiLCJHYW1lX0FjdG9yIiwiaW5pdGlhbGl6ZWRBY3RvciIsImFzc2lnbiIsIl9kYXRhIiwiYWN0b3JzIiwiZGF0YUFjdG9ycyIsIkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhIiwiZGF0YUZpbGVzIiwicHJlZml4IiwiaXNCYXR0bGVUZXN0IiwiaXNFdmVudFRlc3QiLCJfZGF0YWJhc2VGaWxlcyIsInNyYyIsIkNyZWF0ZU5ld1NhdmVGaWxlIiwiY2FsbEJhY2siLCJzYXZlRmlsZSIsImNvdW50ZXIiLCJjYXAiLCJmIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib3ZlcnJpZGVNaW1lVHlwZSIsIm9ubG9hZCIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsImpzb24iLCJvbmVycm9yIiwiX21hcExvYWRlciIsIl9lcnJvclVybCIsInNlbmQiLCJQb3B1bGF0ZURhdGFiYXNlIiwiZGIiLCJkYXRhVHlwZSIsIm9uTG9hZCIsIkxvYWRTYXZlZEdhbWUiLCJjb250ZW50cyIsImV4dHJhY3RTYXZlQ29udGVudHMiLCIkZ2FtZUFjdG9ycyIsIiRkYXRhU3lzdGVtIiwic3RhcnRNYXBJZCIsIkdyYXBoaWNzIiwiZnJhbWVDb3VudCIsImdvdG8iLCJDcmVhdGVOZXdHYW1lIiwic2F2ZUNvbnRlbnRzIiwibWFrZVNhdmVDb250ZW50cyIsIm5ld2dhbWUiLCJKc29uRXgiLCJwcm9jZXNzRGF0YSIsIl9wYXJ0eVBvcnRhbCIsInBhcnR5Q29ubmVjdGlvbiIsImlzSG9zdCIsInBhcnRpZXNTZWVraW5nIiwicGxheWVyT3B0aW9ucyIsInBhcnR5T3B0aW9ucyIsImN1cnJlbnRQYXJ0eVBvcnRhbCIsIm1ha2VOZXdQYXJ0eUNvbm5lY3Rpb24iLCJhc0hvc3QiLCJwb25nIiwibWFrZU9ubGluZVBhcnR5UG9ydGFsIiwicG9wdWxhdGVQbGF5ZXJPcHRpb25zIiwicGFydHlQb3J0YWwiLCJQYXJ0eVBvcnRhbFdpbmRvdyIsImNsZWFyQ29tbWFuZExpc3QiLCJtYWtlQ29tbWFuZExpc3QiLCJzZXRIYW5kbGVyIiwiYWRkUGxheWVyVG9QYXJ0eSIsInBsYXllcnMiLCJwbGF5ZXIiLCJldnQiLCJjdXJyZW50RXh0IiwibmV3UGFydHlBc0hvc3QiLCJqb2luUGFydHkiLCJjcmVhdGVOZXdPbmxpbmVQYXJ0eU1lbWJlciIsIldpbmRvd19Db21tYW5kIiwibWFrZUNoYXJhY3RlckNvbW1hbmRzIiwicG9wdWxhdGVQYXJ0eU9wdGlvbnMiLCJjb250ZXh0Iiwib3BlblBhcnRpZXMiLCJhZGRDb21tYW5kIiwiUXVlc3REZWx1eGVQb3J0YWwiLCJJbnB1dCIsIlNjZW5lX0Jhc2UiLCJyZUJpbmRJbnB1dCIsImNyZWF0ZUJhY2tncm91bmQiLCJjbGVhclN0YWNrIiwic3RhcnRGYWRlSW4iLCJmYWRlU3BlZWQiLCJMb2dpbkZvcm0iLCJpc0J1c3kiLCJ0ZXJtaW5hdGUiLCJzbmFwRm9yQmFja2dyb3VuZCIsImNyZWF0ZU5ld1NhdmVGaWxlIiwibmV3Q2hhcmFjdGVyIiwic3lzdGVtIiwiJGdhbWVTeXN0ZW0iLCJzY3JlZW4iLCIkZ2FtZVNjcmVlbiIsInRpbWVyIiwiJGdhbWVUaW1lciIsInN3aXRjaGVzIiwiJGdhbWVTd2l0Y2hlcyIsInZhcmlhYmxlcyIsIiRnYW1lVmFyaWFibGVzIiwic2VsZlN3aXRjaGVzIiwiJGdhbWVTZWxmU3dpdGNoZXMiLCJwYXJ0eSIsIiRnYW1lUGFydHkiLCJtYXAiLCJSZWdpc3RyYXRpb25TdWNjZXNzIiwic2NyZWVuV2lkdGgiLCJib3hXaWR0aCIsImh0bWwiLCJjbGljayIsIlJlZ2lzdHJhdGlvbkZvcm0iLCJ2YWwiLCJyZWdpc3RyYXRpb25EYXRhIiwiYWNjb3VudE5hbWUiLCJwYXNzd29yZCIsInNjcmFwZVJlZ2lzdHJhdGlvbkZvcm0iLCJsb2dpbkRhdGEiLCJzY3JhcGVMb2dpbkluZm8iLCJDaGFyYWN0ZXJTZWxlY3QiLCJoaWRlIiwic2hvdyIsImNvdW50IiwicGFyc2VkRGF0YSIsImNoYXJEYXRhIiwiYXBwZW5kIiwiYXR0ciIsImluZGV4IiwiTnVtYmVyIiwiY3VycmVudFRhcmdldCIsImdhbWUiLCJOZXdDaGFyYWN0ZXIiLCJydW5Mb2FkZWRGaWxlIiwic2NyYXBlQ2hhck5hbWUiLCJsb2FkaW5nU2NyZWVuIiwiX2JhY2tTcHJpdGUxIiwiU3ByaXRlIiwiSW1hZ2VNYW5hZ2VyIiwibG9hZFRpdGxlMSIsInRpdGxlMU5hbWUiLCJfYmFja1Nwcml0ZTIiLCJsb2FkVGl0bGUyIiwidGl0bGUyTmFtZSIsImNlbnRlclNwcml0ZSIsImNyZWF0ZUZvcmVncm91bmQiLCJfZ2FtZVRpdGxlU3ByaXRlIiwiQml0bWFwIiwid2lkdGgiLCJoZWlnaHQiLCJvcHREcmF3VGl0bGUiLCJkcmF3R2FtZVRpdGxlIiwibWF4V2lkdGgiLCJ0ZXh0IiwiZ2FtZVRpdGxlIiwiYml0bWFwIiwib3V0bGluZUNvbG9yIiwib3V0bGluZVdpZHRoIiwiZm9udFNpemUiLCJkcmF3VGV4dCIsInNwcml0ZSIsImFuY2hvciIsInBsYXlUaXRsZU11c2ljIiwiQXVkaW9NYW5hZ2VyIiwicGxheUJnbSIsInRpdGxlQmdtIiwic3RvcEJncyIsInN0b3BNZSIsIlNjZW5lX0Jvb3QiLCJTb3VuZE1hbmFnZXIiLCJwcmVsb2FkSW1wb3J0YW50U291bmRzIiwic2V0dXBCYXR0bGVUZXN0Iiwic2V0dXBFdmVudFRlc3QiLCJjaGVja1BsYXllckxvY2F0aW9uIiwic2V0dXBOZXdHYW1lIiwidXBkYXRlRG9jdW1lbnRUaXRsZSIsIl9vbktleURvd24iLCJfc2hvdWxkUHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJjbGVhciIsImJ1dHRvbk5hbWUiLCJrZXlNYXBwZXIiLCJfY3VycmVudFN0YXRlIiwidGFyZ2V0IiwiaXMiXSwibWFwcGluZ3MiOiJ3QkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFB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TyIsImZpbGUiOiJPbmxpbmVTeXN0ZW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQge0dhbWVfTmV0d29ya30gZnJvbSBcIi4vb25saW5lQ29yZVwiO1xyXG5pbXBvcnQge09ubGluZV9QYXJ0eX0gZnJvbSBcIi4vb25saW5lUGFydHlcIjtcclxuaW1wb3J0ICogYXMgQnJvYWRjYXN0ZXIgZnJvbSBcIi4vb25saW5lTWFwQnJvYWRjYXN0ZXJcIjtcclxuaW1wb3J0ICogYXMgTG9naW5Qb3J0YWwgZnJvbSBcIi4vbG9naW5Qb3J0YWxcIjtcclxuZXhwb3J0IHskZ2FtZU5ldHdvcmssICRvbmxpbmVQYXJ0eX07XHJcblxyXG52YXIgJGdhbWVOZXR3b3JrID0gbnVsbDtcclxudmFyICRvbmxpbmVQYXJ0eSA9IG51bGw7XHJcblxyXG5sZXQgTWFnZUNvcmVDcmVhdGVHYW1lT2JqID0gRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHM7XHJcbkRhdGFNYW5hZ2VyLmNyZWF0ZUdhbWVPYmplY3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgTWFnZUNvcmVDcmVhdGVHYW1lT2JqLmNhbGwodGhpcyk7XHJcbiAgICAkZ2FtZU5ldHdvcmsgPSAkZ2FtZU5ldHdvcmsgfHwgbmV3IEdhbWVfTmV0d29yaygpO1xyXG4gICAgJG9ubGluZVBhcnR5ID0gJG9ubGluZVBhcnR5IHx8IG5ldyBPbmxpbmVfUGFydHkoKTtcclxufTsiLCIgICAgaW1wb3J0IHskZ2FtZU5ldHdvcmt9IGZyb20gXCIuL29ubGluZVN5c3RlbVwiO1xyXG4gICAgZXhwb3J0IHtTY2VuZV9NYXAsIFNwcml0ZXNldF9NYXAsIEdhbWVfUGxheWVyLCBHYW1lX01hcCwgR2FtZV9OZXR3b3JrUGxheWVyfVxyXG5cclxuICAgIFxyXG4gICAgLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gYnJvYWRjYXQgcGxheWVyIGxvY2F0aW9uL3Nwcml0ZSBpbmZvIHRvIG90aGVyIHBsYXllcnMgaW4gbWFwIGdyb3VwXHJcbiAgICAvLyBhd2FpdCBjb25uZWN0aW9uLmludm9rZShcIkJyb2FkY2FzdFRvTWFwR3JvdXBcIiwgbWFwR3JvdXBOYW1lLCBncm91cE1zZyk7XHJcbiAgICBcclxuICAgIC8vIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGFkZCBwbGF5ZXIgdG8gbWFwIGdyb3VwIGJhc2VkIG9uIG1hcCBuYW1lXHJcbiAgICAvLyBhd2FpdCBjb25uZWN0aW9uLmludm9rZShcIkFkZFRvTWFwR3JvdXBcIiwgbWFwR3JvdXBOYW1lKTtcclxuICAgIFxyXG4gICAgLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVtb3ZlIHBsYXllciBmcm9tIG1hcCBncm91cHMgKHdoZW4gcGxheWVyIGxlYXZlcyBtYXAgcm9vbSlcclxuICAgIC8vIGF3YWl0IGNvbm5lY3Rpb24uaW52b2tlKFwiUmVtb3ZlRnJvbU1hcEdyb3VwXCIsIG1hcEdyb3VwTmFtZSk7XHJcbiAgICBcclxuICAgIC8vIHZhcmlhYmxlIHRvIGhvbGQgZGF0YSBvbiBvdGhlciBwbGF5ZXJzIGluIG1hcEdyb3VwXHJcbiAgICBcclxuICAgIC8vIG92ZXJsb2FkIG1hcCBzb2NrZXQgY3JlYXRpb24gZnVuY3Rpb24gdG8gaGFuZGxlIGFkZGluZyBwbGF5ZXIgdG8gbWFwIGdyb3VwIGluaXRpYWxseSBhbmQgdG9cclxuICAgIC8vIGRlZmluZSBmdW5jdGlvbiB1c2VkIHRvIGJyb2FkY2FzdCBpbmNvbWluZyBwbGF5ZXIgZGF0YSB0byBtYXBcclxuXHJcbiAgICBcclxuICAgIGNvbnN0IG9uTWFwTG9hZEFMaWFzID0gU2NlbmVfTWFwLnByb3RvdHlwZS5vbk1hcExvYWRlZDtcclxuICAgIFNjZW5lX01hcC5wcm90b3R5cGUub25NYXBMb2FkZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb25NYXBMb2FkQUxpYXMuY2FsbCh0aGlzKTtcclxuXHJcbiAgICAgICAgaWYgKCRnYW1lTWFwLl9tYXBJZCAhPT0gJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHBsYXllckRhdGEgPSAkZ2FtZU5ldHdvcmsuR2V0UGxheWVyQ2FzdGVyRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiUmVtb3ZlRnJvbU1hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRhcmdldERhdGFFdmVudEluZGV4ZXMgPSBbXTsgXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGRhdGFNYXAuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRkYXRhTWFwLmV2ZW50c1tpXS5faXNOZXR3b3JrUGxheWVyRXZlbnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YUV2ZW50SW5kZXhlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXREYXRhRXZlbnRJbmRleGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldERhdGFFdmVudEluZGV4ZXMuZm9yRWFjaChpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkZGF0YU1hcC5ldmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0TWFwRXZlbnRJbmRleGVzID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgJGdhbWVNYXAuX2V2ZW50cy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZ2FtZU1hcC5fZXZlbnRzW2ldLl9hY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5faXNOZXR3b3JrUGxheWVyRXZlbnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWFwRXZlbnRJbmRleGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHRhcmdldE1hcEV2ZW50SW5kZXhlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRNYXBFdmVudEluZGV4ZXMuZm9yRWFjaChpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU1hcC5fZXZlbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IG5ldEV2ZW50c1RvUmVtb3ZlID0gW107XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IGV2cyA9ICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGZvcihsZXQgbmV0RXZlbnQgaW4gZXZzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZzLmhhc093blByb3BlcnR5KG5ldEV2ZW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChldnNbbmV0RXZlbnRdLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXRFdmVudHNUb1JlbW92ZS5wdXNoKGV2c1tuZXRFdmVudF0uX2FjY291bnRVc2VyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgIFxyXG4gICAgICAgICAgICBpZiAobmV0RXZlbnRzVG9SZW1vdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbmV0RXZlbnRzVG9SZW1vdmUuZm9yRWFjaChuZXRFdmVudCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW25ldEV2ZW50XTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBTY2VuZU1hbmFnZXIuX3NjZW5lLl9zcHJpdGVzZXQuY2xlYXJBbGxOZXR3b3JrUGxheWVyRXZlbnRzKCk7XHJcblxyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkID0gJGdhbWVNYXAuX21hcElkO1xyXG5cclxuICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICRnYW1lTmV0d29yay5nYW1lX2xvYWRlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIFNwcml0ZXNldF9NYXAucHJvdG90eXBlLmNsZWFyTmV0d29ya1BsYXllciA9IGZ1bmN0aW9uKGFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hhcmFjdGVyU3ByaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnQgPSB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldLl9jaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5fYWNjb3VudFVzZXJOYW1lID09PSBhY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVtYXAucmVtb3ZlQ2hpbGQodGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIFNwcml0ZXNldF9NYXAucHJvdG90eXBlLmNsZWFyQWxsTmV0d29ya1BsYXllckV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2hhcmFjdGVyU3ByaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgZXZlbnQgPSB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldLl9jaGFyYWN0ZXI7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5faXNOZXR3b3JrUGxheWVyRXZlbnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbGVtYXAucmVtb3ZlQ2hpbGQodGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5VcGRhdGVOZXR3b3JrUGxheWVyID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuXHJcbiAgICAgICAgbGV0IHVzZXJBY2NvdW50ID0gZGF0YS5hY2NvdW50VXNlck5hbWU7XHJcbiAgICAgICAgbGV0IG5ldEV2ZW50cyA9ICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzO1xyXG5cclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLnNldE1vdmVTcGVlZChkYXRhLm1vdmVTcGVlZCk7XHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5zZXRNb3ZlRnJlcXVlbmN5KGRhdGEubW92ZUZyZXF1ZW56eSk7XHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5tb3ZlU3RyYWlnaHQoZGF0YS5kaXJlY3Rpb24pO1xyXG5cclxuICAgICAgICBpZiAobmV0RXZlbnRzW3VzZXJBY2NvdW50XS54IT09ZGF0YS54IHx8IG5ldEV2ZW50c1t1c2VyQWNjb3VudF0ueSE9PWRhdGEueSl7XHJcbiAgICAgICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uc2V0UG9zaXRpb24oZGF0YS54LCBkYXRhLnkpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uX2NoYXJhY3Rlck5hbWUgPSBkYXRhLmNoYXJhY3Rlck5hbWU7XHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5fY2hhcmFjdGVySW5kZXggPSBkYXRhLmNoYXJhY3RlckluZGV4O1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgLy8gb3ZlcmxvYWQgTVYgZnVuY3Rpb24gdG8gYnJvYWRjYXN0IHBsYXllciBtb3ZlbWVudCB0byBtYXAgZ3JvdXAuIGxvZ2ljIHRvIGhhbmRsZSBtYXBHcm91cCBjaGFuZ2VzIGFsc28gaGVyZVxyXG4gICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLm1vdmVCeUlucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzTW92aW5nKCkgJiYgdGhpcy5jYW5Nb3ZlKCkpIHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHRoaXMuZ2V0SW5wdXREaXJlY3Rpb24oKTtcclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgICAgICRnYW1lVGVtcC5jbGVhckRlc3RpbmF0aW9uKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoJGdhbWVUZW1wLmlzRGVzdGluYXRpb25WYWxpZCgpKXtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gJGdhbWVUZW1wLmRlc3RpbmF0aW9uWCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSAkZ2FtZVRlbXAuZGVzdGluYXRpb25ZKCk7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSB0aGlzLmZpbmREaXJlY3Rpb25Ubyh4LCB5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA+IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4ZWN1dGVNb3ZlKGRpcmVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCAhPT0gJGdhbWVNYXAuX21hcElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBsYXllckRhdGEgPSAkZ2FtZU5ldHdvcmsuR2V0UGxheWVyQ2FzdGVyRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIlJlbW92ZUZyb21NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkID0gJGdhbWVNYXAuX21hcElkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb01hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllckRhdGEgPSAkZ2FtZU5ldHdvcmsuR2V0UGxheWVyQ2FzdGVyRGF0YSgpOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBtYXBHcm91cE5hbWUgPSBcIm1hcFJvb21cIiArICRnYW1lTWFwLl9tYXBJZCBcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkJyb2FkY2FzdFRvTWFwR3JvdXBcIiwgbWFwR3JvdXBOYW1lLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgXHJcblxyXG4gICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLnNlZWROZXdQbGF5ZXJFdmVudCA9IGZ1bmN0aW9uIChuZXdQbGF5ZXJYLCBuZXdQbGF5ZXJZLCBwbGF5ZXJBY2NvdW50TmFtZSkge1xyXG4gICAgICAgIGxldCBuZXdFdmVudElkID0gJGRhdGFNYXAuZXZlbnRzLmxlbmd0aDtcclxuICAgICAgICBsZXQgZW1wdHlFdmVudCA9IGB7XCJpZFwiOiR7bmV3RXZlbnRJZH0sXCJuYW1lXCI6XCIke3BsYXllckFjY291bnROYW1lfVwiLFwibm90ZVwiOlwiXCIsXCJwYWdlc1wiOlt7XCJjb25kaXRpb25zXCI6e1wiYWN0b3JJZFwiOjEsXCJhY3RvclZhbGlkXCI6ZmFsc2UsXCJpdGVtSWRcIjoxLFwiaXRlbVZhbGlkXCI6ZmFsc2UsXCJzZWxmU3dpdGNoQ2hcIjpcIkFcIixcInNlbGZTd2l0Y2hWYWxpZFwiOmZhbHNlLFwic3dpdGNoMUlkXCI6MSxcInN3aXRjaDFWYWxpZFwiOmZhbHNlLFwic3dpdGNoMklkXCI6MSxcInN3aXRjaDJWYWxpZFwiOmZhbHNlLFwidmFyaWFibGVJZFwiOjEsXCJ2YXJpYWJsZVZhbGlkXCI6ZmFsc2UsXCJ2YXJpYWJsZVZhbHVlXCI6MH0sXCJkaXJlY3Rpb25GaXhcIjpmYWxzZSxcImltYWdlXCI6e1wiY2hhcmFjdGVySW5kZXhcIjowLFwiY2hhcmFjdGVyTmFtZVwiOlwiXCIsXCJkaXJlY3Rpb25cIjoyLFwicGF0dGVyblwiOjAsXCJ0aWxlSWRcIjowfSxcImxpc3RcIjpbe1wiY29kZVwiOjAsXCJpbmRlbnRcIjowLFwicGFyYW1ldGVyc1wiOltdfV0sXCJtb3ZlRnJlcXVlbmN5XCI6MyxcIm1vdmVSb3V0ZVwiOntcImxpc3RcIjpbe1wiY29kZVwiOjAsXCJwYXJhbWV0ZXJzXCI6W119XSxcInJlcGVhdFwiOnRydWUsXCJza2lwcGFibGVcIjpmYWxzZSxcIndhaXRcIjpmYWxzZX0sXCJtb3ZlU3BlZWRcIjozLFwibW92ZVR5cGVcIjowLFwicHJpb3JpdHlUeXBlXCI6MCxcInN0ZXBBbmltZVwiOmZhbHNlLFwidGhyb3VnaFwiOmZhbHNlLFwidHJpZ2dlclwiOjAsXCJ3YWxrQW5pbWVcIjp0cnVlfV0sXCJ4XCI6JHtuZXdQbGF5ZXJYfSxcInlcIjoke25ld1BsYXllcll9LFwibWV0YVwiOnt9LFwiX2lzTmV0d29ya1BsYXllckV2ZW50XCI6dHJ1ZX1gO1xyXG4gICAgICAgICRkYXRhTWFwLmV2ZW50cy5wdXNoKEpTT04ucGFyc2UoZW1wdHlFdmVudCkpO1xyXG4gICAgICAgIHJldHVybiBuZXdFdmVudElkO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgLy9sb2dpYyB0byBhZGQgbmV3IHBsYXllciBpbnN0YW5jZSB0byBuZXR3b3JrTWFwRXZlbnRzXHJcbiAgICBHYW1lX01hcC5wcm90b3R5cGUuYWRkTmV0d29ya1BsYXllciA9IGZ1bmN0aW9uKHgsIHksIHBsYXllckFjY291bnROYW1lKSB7XHJcbiAgICAgICAgbGV0IG5ld1BsYXllckV2ZW50SWQgPSBHYW1lX1BsYXllci5wcm90b3R5cGUuc2VlZE5ld1BsYXllckV2ZW50KHgsIHksIHBsYXllckFjY291bnROYW1lKTtcclxuICAgICAgICBsZXQgbmV3UGxheWVyTWFwSWQgPSB0aGlzLl9ldmVudHMubGVuZ3RoO1xyXG5cclxuICAgICAgICB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdID0gbmV3IEdhbWVfTmV0d29ya1BsYXllcih0aGlzLl9tYXBJZCwgbmV3UGxheWVyRXZlbnRJZCwgeCwgeSk7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW25ld1BsYXllck1hcElkXS5fYWNjb3VudFVzZXJOYW1lID0gcGxheWVyQWNjb3VudE5hbWU7XHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW25ld1BsYXllck1hcElkXS5faXNOZXR3b3JrUGxheWVyRXZlbnQgPSB0cnVlO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldC5jcmVhdGVOZXR3b3JrUGxheWVyKG5ld1BsYXllck1hcElkLCBwbGF5ZXJBY2NvdW50TmFtZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50c1tuZXdQbGF5ZXJNYXBJZF07XHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyBsb2dpYyB0byBjcmVhdGUgbmV3IHBsYXllciBpbnN0YW5jZSBmb3IgbmV0d29ya01hcEV2ZW50c1xyXG4gICAgU3ByaXRlc2V0X01hcC5wcm90b3R5cGUuY3JlYXRlTmV0d29ya1BsYXllciA9IGZ1bmN0aW9uKHRhcmdldEluZGV4LCBwbGF5ZXJBY2NvdW50TmFtZSkge1xyXG4gICAgICAgIGxldCBldmVudCA9ICRnYW1lTWFwLl9ldmVudHNbdGFyZ2V0SW5kZXhdO1xyXG4gICAgICAgIHZhciBzSWQgPSB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW3NJZF0gPSBuZXcgU3ByaXRlX0NoYXJhY3RlcihldmVudCk7XHJcbiAgICAgICAgdGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tzSWRdLl9hY2NvdW50VXNlck5hbWUgPSBwbGF5ZXJBY2NvdW50TmFtZTtcclxuICAgICAgICB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW3NJZF0udXBkYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fdGlsZW1hcC5hZGRDaGlsZCh0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW3NJZF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBMb2dpYyB0byBjcmVhdGUgYSBuZXcgY2hhcmFjdGVyIGluc3RhbmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGJyb2FkY2FzdCB0byB0aGUgbWFwXHJcbiAgICBmdW5jdGlvbiBHYW1lX05ldHdvcmtQbGF5ZXIoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIEdhbWVfTmV0d29ya1BsYXllci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEdhbWVfRXZlbnQucHJvdG90eXBlKTtcclxuICAgIEdhbWVfTmV0d29ya1BsYXllci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHYW1lX05ldHdvcmtQbGF5ZXI7XHJcbiAgICBcclxuICAgIEdhbWVfTmV0d29ya1BsYXllci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKG1hcElkLCBldmVudElkLHgseSkge1xyXG4gICAgICAgIEdhbWVfRXZlbnQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLG1hcElkLGV2ZW50SWQpO1xyXG4gICAgICAgIHRoaXMuX2lzTmV0d29ya1BsYXllciA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbih4LHkpO1xyXG4gICAgfTtcclxuICAgIFxyXG4iLCJ2YXIgSW1wb3J0ZWQgPSBJbXBvcnRlZCB8fCB7fTtcclxuSW1wb3J0ZWQuT25saW5lQ29yZSA9IHRydWU7XHJcblxyXG5pbXBvcnQgeyRnYW1lTmV0d29yaywgJG9ubGluZVBhcnR5fSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIlxyXG5pbXBvcnQgeyBHYW1lX01hcCB9IGZyb20gXCIuL29ubGluZU1hcEJyb2FkY2FzdGVyXCI7XHJcbmV4cG9ydCB7R2FtZV9OZXR3b3JrfTtcclxuXHJcbiAgICAvKjpcclxuICAgICAqIEBwbHVnaW5kZXNjIFBsdWdpbiB0byBzdXBwb3J0IG9ubGluZSBwbGF5LlxyXG4gICAgICogQGF1dGhvciBHYXJyZXR0IFdhcmRcclxuICAgICAqXHJcbiAgICAgKiBAaGVscCBUQkRcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gR2FtZV9OZXR3b3JrKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5hcGlVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaSc7XHJcbiAgICAgICAgdGhpcy50b2tlbiA9ICcnO1xyXG4gICAgICAgIHRoaXMudXNlckVtYWlsID0gXCJcIjtcclxuICAgICAgICB0aGlzLnVzZXJBY2NvdW50TmFtZSA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TWFwSWQgPSAwOyBcclxuICAgICAgICB0aGlzLm1hcENvbm5lY3Rpb24gPSB7fTtcclxuICAgICAgICB0aGlzLm5ldHdvcmtNYXBFdmVudHMgPSB7fTtcclxuICAgICAgICB0aGlzLmdhbWVfbG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sb2FkZWRHYW1lcyA9IFtdO1xyXG4gICAgfTtcclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLmNvbm5lY3RNYXBTb2NrZXRBZnRlckxvZ2luID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgbGV0IGNvbm5lY3Rpb24gPSBuZXcgc2lnbmFsUi5IdWJDb25uZWN0aW9uQnVpbGRlcigpXHJcbiAgICAgICAgLndpdGhVcmwoXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvZ2FtZU1hcEh1YlwiKVxyXG4gICAgICAgIC5idWlsZCgpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uID0gY29ubmVjdGlvbjtcclxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJEYXRhID0gJGdhbWVOZXR3b3JrLkdldFBsYXllckNhc3RlckRhdGEoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb01hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLm9uKFwiTmV3UGxheWVyT25NYXBcIiwgZnVuY3Rpb24gKHBsYXllckRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocGxheWVyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEueCA9PT0gMCB8fCBkYXRhLnkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS54ID0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS55ID0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld05ldHdvcmtQbGF5ZXIgPSAkZ2FtZU1hcC5hZGROZXR3b3JrUGxheWVyKGRhdGEueCwgZGF0YS55LCBkYXRhLmFjY291bnRVc2VyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbZGF0YS5hY2NvdW50VXNlck5hbWVdID0gbmV3TmV0d29ya1BsYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAkb25saW5lUGFydHkubWVtYmVycy5wdXNoKG5ld05ldHdvcmtQbGF5ZXIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuVXBkYXRlTmV0d29ya1BsYXllcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGluZ0RhdGEgPSBHYW1lX05ldHdvcmsucHJvdG90eXBlLkdldFBsYXllckNhc3RlckRhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJCcm9hZGNhc3RUb01hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGluZ0RhdGEpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLm9uKFwiUGxheWVyTWFwVXBkYXRlXCIsIGZ1bmN0aW9uIChwbGF5ZXJEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghU2NlbmVNYW5hZ2VyLl9zY2VuZS5fc3ByaXRlc2V0IHx8IFNjZW5lTWFuYWdlci5fc2NlbmUgaW5zdGFuY2VvZiBTY2VuZV9CYXR0bGUpIHsgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocGxheWVyRGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuVXBkYXRlTmV0d29ya1BsYXllcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV3TmV0d29ya1BsYXllciA9ICRnYW1lTWFwLmFkZE5ldHdvcmtQbGF5ZXIoZGF0YS54LCBkYXRhLnksIGRhdGEuYWNjb3VudFVzZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbZGF0YS5hY2NvdW50VXNlck5hbWVdID0gbmV3TmV0d29ya1BsYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5Lm1lbWJlcnMucHVzaChuZXdOZXR3b3JrUGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLm9uKFwiUmVtb3ZlUGxheWVyRnJvbU1hcFwiLCBmdW5jdGlvbiAocGxheWVyRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocGxheWVyRGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXREYXRhRXZlbnRJbmRleCA9IDA7IFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGRhdGFNYXAuZXZlbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YU1hcC5ldmVudHNbaV0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YU1hcC5ldmVudHNbaV0ubmFtZSA9PT0gZGF0YS5hY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhRXZlbnRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGRhdGFNYXAuZXZlbnRzLnNwbGljZSh0YXJnZXREYXRhRXZlbnRJbmRleCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRNYXBFdmVudEluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8ICRnYW1lTWFwLl9ldmVudHMubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU1hcC5fZXZlbnRzW2ldLl9hY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU1hcC5fZXZlbnRzW2ldLl9hY2NvdW50VXNlck5hbWUgPT09IGRhdGEuYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0TWFwRXZlbnRJbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVNYXAuX2V2ZW50cy5zcGxpY2UodGFyZ2V0TWFwRXZlbnRJbmRleCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tkYXRhLmFjY291bnRVc2VyTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5fc3ByaXRlc2V0LmNsZWFyTmV0d29ya1BsYXllcihkYXRhLmFjY291bnRVc2VyTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNhcHR1cmVMb2dpblJlc3BvbnNlID0gZnVuY3Rpb24gKHJlc3BvbnNlRGF0YSkge1xyXG4gICAgICAgICRnYW1lTmV0d29yay50b2tlbiA9IHJlc3BvbnNlRGF0YS50b2tlbjtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsudXNlckVtYWlsID0gcmVzcG9uc2VEYXRhLmVtYWlsO1xyXG4gICAgICAgICRnYW1lTmV0d29yay51c2VyQWNjb3VudE5hbWUgPSByZXNwb25zZURhdGEudXNlcjtcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkdldFBsYXllckNhc3RlckRhdGEgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIGxldCBwbGF5ZXJEYXRhID0ge1xyXG4gICAgICAgICAgICBhY2NvdW50VXNlck5hbWU6ICRnYW1lTmV0d29yay51c2VyQWNjb3VudE5hbWUsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogJGdhbWVQbGF5ZXIuX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgeDogJGdhbWVQbGF5ZXIuX3gsXHJcbiAgICAgICAgICAgIHk6ICRnYW1lUGxheWVyLl95LFxyXG4gICAgICAgICAgICBtb3ZlU3BlZWQ6ICRnYW1lUGxheWVyLl9tb3ZlU3BlZWQsXHJcbiAgICAgICAgICAgIG1vdmVGcmVxdWVuenk6ICRnYW1lUGxheWVyLl9tb3ZlRnJlcXVlbmN5LFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJOYW1lOiAkZ2FtZVBsYXllci5fY2hhcmFjdGVyTmFtZSxcclxuICAgICAgICAgICAgY2hhcmFjdGVySW5kZXg6ICRnYW1lUGxheWVyLl9jaGFyYWN0ZXJJbmRleFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGxheWVyRGF0YTtcclxuICAgIH07XHJcbiAgICAgICAgXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkxvYWRHYW1lRmlsZXNGcm9tU2VydmVyID0gZnVuY3Rpb24odXNlckVtYWlsLCBjYWxsYmFjaykge1xyXG4gICAgICAgICQuZ2V0KCRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0dhbWVEYXRhLyR7dXNlckVtYWlsfWAsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xyXG4gICAgICAgIH0pLmZhaWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hbGVydCgnTG9hZCBmYWlsZWQnKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5TYXZlR2FtZVRvU2VydmVyID0gZnVuY3Rpb24oR2FtZUZpbGUpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0dhbWVEYXRhL1NhdmVHYW1lYCxcclxuICAgICAgICAgICAgdHlwZTogXCJQVVRcIixcclxuICAgICAgICAgICAgZGF0YTogR2FtZUZpbGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5TYXZlTmV3R2FtZVRvU2VydmVyID0gZnVuY3Rpb24oR2FtZUZpbGUsIG93bmVyRW1haWwpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0dhbWVEYXRhL1NhdmVOZXdHYW1lLyR7b3duZXJFbWFpbH1gLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogR2FtZUZpbGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DcmVhdGVOZXdVc2VyID0gZnVuY3Rpb24odXNlckRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9BY2NvdW50cy9yZWdpc3RlcmAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5Mb2dVc2VySW4gPSBmdW5jdGlvbih1c2VyRGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0FjY291bnRzL2xvZ2luYCxcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsudXNlckVtYWlsID0gci5lbWFpbDtcclxuICAgICAgICAgICAgICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ2FwdHVyZUxvZ2luUmVzcG9uc2Uocik7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNsYXNzU2VsZWN0X29sZCA9IGZ1bmN0aW9uIChzYXZlZmlsZSwgY2xhc3NDaG9pY2UsIGNoYXJOYW1lKSB7XHJcblxyXG4gICAgICAgIGlmIChjbGFzc0Nob2ljZSA9PT0gJ0NsYW5zbWVuJykge1xyXG4gICAgICAgICAgICBsZXQgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjEsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IxXzFcIixcImNoYXJhY3RlckluZGV4XCI6MCxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yMVwiLFwiY2xhc3NJZFwiOjEsXCJlcXVpcHNcIjpbMSwxLDIsMywwXSxcImZhY2VJbmRleFwiOjAsXCJmYWNlTmFtZVwiOlwiQWN0b3IxXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgIFxyXG4gICAgICAgICAgICBzYXZlZmlsZVsnJGRhdGFBY3RvcnMnXSA9IG5ld0FjdG9yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdCaWcgSGF0Jykge1xyXG4gICAgICAgICAgICBsZXQgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjIsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IyXzVcIixcImNoYXJhY3RlckluZGV4XCI6NCxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yMlwiLFwiY2xhc3NJZFwiOjMsXCJlcXVpcHNcIjpbMywwLDAsMCwwXSxcImZhY2VJbmRleFwiOjQsXCJmYWNlTmFtZVwiOlwiQWN0b3IyXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdXHJcblxyXG4gICAgICAgICAgICBzYXZlZmlsZVsnJGRhdGFBY3RvcnMnXSA9IG5ld0FjdG9yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdEaXZpbmUnKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6NCxcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjJfNFwiLFwiY2hhcmFjdGVySW5kZXhcIjozLFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IzXCIsXCJjbGFzc0lkXCI6NCxcImVxdWlwc1wiOls0LDAsMCwwLDBdLFwiZmFjZUluZGV4XCI6MyxcImZhY2VOYW1lXCI6XCJBY3RvcjNcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHNhdmVmaWxlWyckZGF0YUFjdG9ycyddID0gbmV3QWN0b3I7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc0Nob2ljZSA9PT0gJ01lcmNlbmFyeScpIHtcclxuICAgICAgICAgICAgbGV0IG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjozLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMV83XCIsXCJjaGFyYWN0ZXJJbmRleFwiOjYsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjFcIixcImNsYXNzSWRcIjoyLFwiZXF1aXBzXCI6WzIsMCwwLDAsMF0sXCJmYWNlSW5kZXhcIjo2LFwiZmFjZU5hbWVcIjpcIkFjdG9yMVwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXVxyXG5cclxuICAgICAgICAgICAgc2F2ZWZpbGVbJyRkYXRhQWN0b3JzJ10gPSBuZXdBY3RvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzYXZlZmlsZTtcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNsYXNzU2VsZWN0ID0gZnVuY3Rpb24gKHNhdmVmaWxlLCBjbGFzc0Nob2ljZSwgY2hhck5hbWUpIHtcclxuXHJcbiAgICAgICAgbGV0IG5ld0FjdG9yID0gW107XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNsYXNzQ2hvaWNlID09PSAnQ2xhbnNtZW4nKSB7XHJcbiAgICAgICAgICAgIG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjoxLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMV8xXCIsXCJjaGFyYWN0ZXJJbmRleFwiOjAsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjFcIixcImNsYXNzSWRcIjoxLFwiZXF1aXBzXCI6WzEsMSwyLDMsMF0sXCJmYWNlSW5kZXhcIjowLFwiZmFjZU5hbWVcIjpcIkFjdG9yMVwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc0Nob2ljZSA9PT0gJ0JpZyBIYXQnKSB7XHJcbiAgICAgICAgICAgIG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjoyLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMl81XCIsXCJjaGFyYWN0ZXJJbmRleFwiOjQsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjJcIixcImNsYXNzSWRcIjozLFwiZXF1aXBzXCI6WzMsMCwwLDAsMF0sXCJmYWNlSW5kZXhcIjo0LFwiZmFjZU5hbWVcIjpcIkFjdG9yMlwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc0Nob2ljZSA9PT0gJ0RpdmluZScpIHtcclxuICAgICAgICAgICAgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjQsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IyXzRcIixcImNoYXJhY3RlckluZGV4XCI6MyxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yM1wiLFwiY2xhc3NJZFwiOjQsXCJlcXVpcHNcIjpbNCwwLDAsMCwwXSxcImZhY2VJbmRleFwiOjMsXCJmYWNlTmFtZVwiOlwiQWN0b3IzXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKGNsYXNzQ2hvaWNlID09PSAnTWVyY2VuYXJ5Jykge1xyXG4gICAgICAgICAgICBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6MyxcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjFfN1wiLFwiY2hhcmFjdGVySW5kZXhcIjo2LFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IxXCIsXCJjbGFzc0lkXCI6MixcImVxdWlwc1wiOlsyLDAsMCwwLDBdLFwiZmFjZUluZGV4XCI6NixcImZhY2VOYW1lXCI6XCJBY3RvcjFcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgICRkYXRhQWN0b3JzID0gbmV3QWN0b3I7XHJcbiAgICAgICAgbGV0IGFjdG9yc0FycmF5ID0gbmV3IEdhbWVfQWN0b3JzKCk7XHJcbiAgICAgICAgbGV0IGdhbWVBY3RvciA9IG5ldyBHYW1lX0FjdG9yKDEpO1xyXG4gICAgICAgIGxldCBpbml0aWFsaXplZEFjdG9yID0gT2JqZWN0LmFzc2lnbihnYW1lQWN0b3IsIG5ld0FjdG9yWzFdKTtcclxuICAgICAgICBuZXdBY3RvclsxXSA9IGluaXRpYWxpemVkQWN0b3I7XHJcbiAgICAgICAgYWN0b3JzQXJyYXkuX2RhdGEgPSBuZXdBY3RvcjtcclxuICAgICAgICBcclxuICAgICAgICBzYXZlZmlsZS5hY3RvcnMgPSBhY3RvcnNBcnJheTtcclxuICAgICAgICBzYXZlZmlsZS5kYXRhQWN0b3JzID0gJGRhdGFBY3RvcnM7XHJcblxyXG4gICAgICAgIHJldHVybiBzYXZlZmlsZTtcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRnYW1lTmV0d29yay5kYXRhRmlsZXMgPSBbXTtcclxuICAgICAgICB2YXIgdGVzdCA9IERhdGFNYW5hZ2VyLmlzQmF0dGxlVGVzdCgpIHx8IERhdGFNYW5hZ2VyLmlzRXZlbnRUZXN0KCk7XHJcbiAgICAgICAgdmFyIHByZWZpeCA9IHRlc3QgPyAnVGVzdF8nIDogJyc7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBEYXRhTWFuYWdlci5fZGF0YWJhc2VGaWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IERhdGFNYW5hZ2VyLl9kYXRhYmFzZUZpbGVzW2ldLm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBzcmMgPSBEYXRhTWFuYWdlci5fZGF0YWJhc2VGaWxlc1tpXS5zcmM7XHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5kYXRhRmlsZXMucHVzaChbbmFtZSwgcHJlZml4ICsgc3JjXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChEYXRhTWFuYWdlci5pc0V2ZW50VGVzdCgpKSB7XHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5kYXRhRmlsZXMucHVzaChbJyR0ZXN0RXZlbnQnLCBwcmVmaXggKyAnRXZlbnQuanNvbiddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DcmVhdGVOZXdTYXZlRmlsZSA9IGZ1bmN0aW9uIChvd25lckVtYWlsLCBjbGFzc0Nob2ljZSwgY2FsbEJhY2ssIGNoYXJOYW1lKSB7XHJcblxyXG4gICAgICAgIGxldCBzYXZlRmlsZSA9IHt9O1xyXG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcclxuICAgICAgICBsZXQgY2FwID0gJGdhbWVOZXR3b3JrLmRhdGFGaWxlcy5sZW5ndGg7XHJcblxyXG5cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuZGF0YUZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gJ2RhdGEvJyArIGZbMV07XHJcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xyXG4gICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZSgnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA8IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgKysgO1xyXG4gICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlW2ZbMF1dID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciA9PT0gY2FwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgR2FtZUZpbGUgPSAkZ2FtZU5ldHdvcmsuQ2xhc3NTZWxlY3Qoc2F2ZUZpbGUsIGNsYXNzQ2hvaWNlLCBjaGFyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoR2FtZUZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9HYW1lRGF0YS9TYXZlTmV3R2FtZS8ke293bmVyRW1haWx9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToganNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcisrXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBEYXRhTWFuYWdlci5fbWFwTG9hZGVyIHx8IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuX2Vycm9yVXJsID0gRGF0YU1hbmFnZXIuX2Vycm9yVXJsIHx8IHVybDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLlBvcHVsYXRlRGF0YWJhc2UgPSBmdW5jdGlvbiAoZGIpIHtcclxuICAgICAgICBmb3IgKGxldCBkYXRhVHlwZSBpbiBkYikge1xyXG4gICAgICAgICAgICB3aW5kb3dbZGF0YVR5cGVdID0gZGJbZGF0YVR5cGVdO1xyXG4gICAgICAgICAgICBEYXRhTWFuYWdlci5vbkxvYWQod2luZG93W2RhdGFUeXBlXSkgXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkxvYWRTYXZlZEdhbWUgPSBmdW5jdGlvbiAoY29udGVudHMpIHtcclxuXHJcbiAgICAgICAgRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHMoKTtcclxuICAgICAgICBEYXRhTWFuYWdlci5leHRyYWN0U2F2ZUNvbnRlbnRzKGNvbnRlbnRzKTtcclxuICAgICAgICAkZGF0YUFjdG9ycyA9IGNvbnRlbnRzLmRhdGFBY3RvcnM7XHJcblxyXG4gICAgICAgIGxldCBhY3RvcnNBcnJheSA9IG5ldyBHYW1lX0FjdG9ycygpO1xyXG4gICAgICAgIGxldCBnYW1lQWN0b3IgPSBuZXcgR2FtZV9BY3RvcigxKTtcclxuICAgICAgICBhY3RvcnNBcnJheS5fZGF0YSA9IFtudWxsLCBnYW1lQWN0b3JdO1xyXG4gICAgICAgICRnYW1lQWN0b3JzID0gYWN0b3JzQXJyYXk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gJGdhbWVQYXJ0eS5zZXR1cFN0YXJ0aW5nTWVtYmVycygpO1xyXG4gICAgICAgIC8vICRnYW1lUGFydHkuX2FjdG9ycy5wdXNoKGNvbnRlbnRzLmFjdG9ycy5fZGF0YVsxXS5pZCk7XHJcbiAgICAgICAgLy8gJGdhbWVQbGF5ZXIucmVxdWVzdE1hcFJlbG9hZCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnRlbnRzLmFjdG9ycylcclxuICAgICAgICAvLyAkZ2FtZVBhcnR5LmFkZEFjdG9yKCRnYW1lQWN0b3JzLl9kYXRhWzFdLmlkKTtcclxuICAgICAgICBcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkID0gJGRhdGFTeXN0ZW0uc3RhcnRNYXBJZDtcclxuICAgICAgICBcclxuICAgICAgICAvLyAkZ2FtZVBsYXllci5yZXNlcnZlVHJhbnNmZXIoJGRhdGFTeXN0ZW0uc3RhcnRNYXBJZCwgJGRhdGFTeXN0ZW0uc3RhcnRYLCAkZGF0YVN5c3RlbS5zdGFydFkpO1xyXG4gICAgICAgIC8vICRnYW1lUGxheWVyLnJlcXVlc3RNYXBSZWxvYWQoKTtcclxuICAgICAgICBcclxuICAgICAgICBHcmFwaGljcy5mcmFtZUNvdW50ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICBTY2VuZU1hbmFnZXIuZ290byhTY2VuZV9NYXApO1xyXG5cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4oKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DcmVhdGVOZXdHYW1lID0gZnVuY3Rpb24gKG93bmVyRW1haWwsIGNsYXNzQ2hvaWNlLCBjYWxsYmFjaywgY2hhck5hbWUpIHtcclxuICAgICAgICBsZXQgc2F2ZUNvbnRlbnRzID0gRGF0YU1hbmFnZXIubWFrZVNhdmVDb250ZW50cygpO1xyXG4gICAgICAgIGNvbnN0IG5ld2dhbWUgPSAkZ2FtZU5ldHdvcmsuQ2xhc3NTZWxlY3Qoc2F2ZUNvbnRlbnRzLCBjbGFzc0Nob2ljZSwgY2hhck5hbWUpO1xyXG4gICAgICAgIGxldCBqc29uID0gSnNvbkV4LnN0cmluZ2lmeShuZXdnYW1lKTtcclxuICAgICAgICAvLyBsZXQgZGF0YSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoanNvbik7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwieWlwcGVcIik7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvR2FtZURhdGEvU2F2ZU5ld0dhbWUvJHtvd25lckVtYWlsfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBqc29uLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuIiwiZXhwb3J0IHtPbmxpbmVfUGFydHl9O1xyXG5pbXBvcnQgeyRvbmxpbmVQYXJ0eSwgJGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuaW1wb3J0IHtQYXJ0eVBvcnRhbFdpbmRvd30gZnJvbSBcIi4vcGFydHlQb3J0YWxcIjtcclxuXHJcbmZ1bmN0aW9uIE9ubGluZV9QYXJ0eSgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLm1lbWJlcnMgPSBbXTtcclxuICAgIHRoaXMucGFydHlDb25uZWN0aW9uID0ge307XHJcbiAgICB0aGlzLmlzSG9zdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wYXJ0aWVzU2Vla2luZyA9IFtdO1xyXG4gICAgdGhpcy5wbGF5ZXJPcHRpb25zID0gW107XHJcbiAgICB0aGlzLnBhcnR5T3B0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50UGFydHlQb3J0YWwgPSB7fTsgXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLm1ha2VOZXdQYXJ0eUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoYXNIb3N0KSB7XHJcblxyXG4gICAgbGV0IGNvbm5lY3Rpb24gPSBuZXcgc2lnbmFsUi5IdWJDb25uZWN0aW9uQnVpbGRlcigpXHJcbiAgICAud2l0aFVybChcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9vbmxpbmVQYXJ0eUh1YlwiKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG4gICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5wYXJ0eUNvbm5lY3Rpb24uc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhc0hvc3QpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwaW5nID0gXCJoZWxsb1wiO1xyXG4gICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb1BhcnR5QXNIb3N0XCIsIHBpbmcpO1xyXG4gICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5vbihcIk5ld1BhcnR5V2l0aEhvc3RcIiwgZnVuY3Rpb24gKHBvbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9uZyA9PSBcImhlbGxvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LmlzSG9zdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pKCk7XHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLm1ha2VPbmxpbmVQYXJ0eVBvcnRhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICRvbmxpbmVQYXJ0eS5wb3B1bGF0ZVBsYXllck9wdGlvbnMoKTtcclxuICAgIGxldCBwYXJ0eVBvcnRhbCA9IG5ldyBQYXJ0eVBvcnRhbFdpbmRvdygzMDAsIDMwMCk7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsID0gcGFydHlQb3J0YWw7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsLmNsZWFyQ29tbWFuZExpc3QoKTtcclxuICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwubWFrZUNvbW1hbmRMaXN0KCk7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsLnNldEhhbmRsZXIoJ2FkZFBsYXllclRvUGFydHknLCB0aGlzLmFkZFBsYXllclRvUGFydHkuYmluZCh0aGlzKSk7ICAgIFxyXG4gICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5hZGRDaGlsZChwYXJ0eVBvcnRhbCk7XHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLnBvcHVsYXRlUGxheWVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBwbGF5ZXJzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucyA9IFtdO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHBsYXllcnMpIHtcclxuICAgICAgICBsZXQgcGxheWVyID0gcGxheWVyc1trZXldO1xyXG4gICAgICAgICRvbmxpbmVQYXJ0eS5wbGF5ZXJPcHRpb25zLnB1c2gocGxheWVyKTtcclxuICAgIH07XHJcbn07XHJcblxyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5hZGRQbGF5ZXJUb1BhcnR5ID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgY29uc29sZS5sb2coJ3Njb3JlJyk7XHJcbiAgICBsZXQgY3VycmVudEV4dGVudCA9IHRoaXMuY3VycmVudFBhcnR5UG9ydGFsLmN1cnJlbnRFeHQoKTtcclxuICAgIFxyXG59O1xyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5uZXdQYXJ0eUFzSG9zdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmpvaW5QYXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmNyZWF0ZU5ld09ubGluZVBhcnR5TWVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG5cclxufTsiLCIgICAgZXhwb3J0IHtQYXJ0eVBvcnRhbFdpbmRvd307XHJcbiAgICBpbXBvcnQgeyRvbmxpbmVQYXJ0eSwgJGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19Db21tYW5kLnByb3RvdHlwZSk7XHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0eVBvcnRhbFdpbmRvdztcclxuXHJcbiAgICBmdW5jdGlvbiBQYXJ0eVBvcnRhbFdpbmRvdyh4LCB5KSB7XHJcbiAgICAgICAgV2luZG93X0NvbW1hbmQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCB4LCB5LCAxMDAsIDEwMCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZUNvbW1hbmRMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubWFrZUNoYXJhY3RlckNvbW1hbmRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBsYXllck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBwbGF5ZXJzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHBsYXllcnMpIHtcclxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHBsYXllcnNba2V5XTtcclxuICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMucHVzaChwbGF5ZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBhcnR5T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHBhcnRpZXMgPSAkb25saW5lUGFydHkub3BlblBhcnRpZXM7XHJcbiAgICAgICAgcGFydGllcy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LnBhcnR5T3B0aW9ucy5wdXNoKHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZUNoYXJhY3RlckNvbW1hbmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgICAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFkZENvbW1hbmQoYCR7cC5fYWNjb3VudFVzZXJOYW1lfWAsICdhZGRQbGF5ZXJUb1BhcnR5JywgdHJ1ZSwgYCR7cC5fYWNjb3VudFVzZXJOYW1lfWApXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuIiwiaW1wb3J0IHskZ2FtZU5ldHdvcmt9IGZyb20gXCIuL29ubGluZVN5c3RlbVwiXHJcbmV4cG9ydCB7UXVlc3REZWx1eGVQb3J0YWwsIElucHV0fVxyXG5cclxuZnVuY3Rpb24gUXVlc3REZWx1eGVQb3J0YWwgKCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY2VuZV9CYXNlLnByb3RvdHlwZSk7XHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFF1ZXN0RGVsdXhlUG9ydGFsO1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnJlQmluZElucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBJbnB1dC5pbml0aWFsaXplKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5jcmVhdGUuY2FsbCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnJlQmluZElucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBJbnB1dC5pbml0aWFsaXplKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgU2NlbmVNYW5hZ2VyLmNsZWFyU3RhY2soKTtcclxuICAgIC8vIHRoaXMucGxheVRpdGxlTXVzaWMoKTtcclxuICAgIHRoaXMuc3RhcnRGYWRlSW4odGhpcy5mYWRlU3BlZWQoKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5Mb2dpbkZvcm0oKTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuaXNCdXN5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gU2NlbmVfQmFzZS5wcm90b3R5cGUuaXNCdXN5LmNhbGwodGhpcyk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS50ZXJtaW5hdGUuY2FsbCh0aGlzKTtcclxuICAgIFNjZW5lTWFuYWdlci5zbmFwRm9yQmFja2dyb3VuZCgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZU5ld1NhdmVGaWxlID0gZnVuY3Rpb24gKG5ld0NoYXJhY3Rlcikge1xyXG5cclxuICAgIGxldCBjb250ZW50cyA9IHt9XHJcblxyXG4gICAgY29udGVudHMuc3lzdGVtICAgICAgID0gJGdhbWVTeXN0ZW07XHJcbiAgICBjb250ZW50cy5zY3JlZW4gICAgICAgPSAkZ2FtZVNjcmVlbjtcclxuICAgIGNvbnRlbnRzLnRpbWVyICAgICAgICA9ICRnYW1lVGltZXI7XHJcbiAgICBjb250ZW50cy5zd2l0Y2hlcyAgICAgPSAkZ2FtZVN3aXRjaGVzO1xyXG4gICAgY29udGVudHMudmFyaWFibGVzICAgID0gJGdhbWVWYXJpYWJsZXM7XHJcbiAgICBjb250ZW50cy5zZWxmU3dpdGNoZXMgPSAkZ2FtZVNlbGZTd2l0Y2hlcztcclxuICAgIGNvbnRlbnRzLmFjdG9ycyAgICAgICA9IG5ld0NoYXJhY3RlcjtcclxuICAgIGNvbnRlbnRzLnBhcnR5ICAgICAgICA9ICRnYW1lUGFydHk7XHJcbiAgICBjb250ZW50cy5tYXAgICAgICAgICAgPSAkZ2FtZU1hcDtcclxuICAgIGNvbnRlbnRzLnBsYXllciAgICAgICA9ICRnYW1lUGxheWVyO1xyXG5cclxuICAgIGxldCBqc29uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGNvbnRlbnRzKTtcclxuXHJcbiAgICByZXR1cm4ganNvbkRhdGE7XHJcblxyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLlJlZ2lzdHJhdGlvblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoJyNFcnJvclByaW50ZXInKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc1dyYXBwZXJcIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzVGV4dFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc1RleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVnaXN0cmF0aW9uIFN1Y2Nlc2Z1bCEgXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExPRyBJTlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICk7XHJcbiAgICAkKCcucmVnaXN0cmF0aW9uU3VjY2Vzc0J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTG9naW5Gb3JtKCk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuUmVnaXN0cmF0aW9uRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIlJlZ2lzdGVyRm9ybVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0ZXItdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm92aWRlIHlvdXIgZW1haWwgYWRkcmVzcywgYSBkZXNpcmVkIHVzZXIgbmFtZSwgYW5kIGEgcGFzc3dvcmQuIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbWFpbElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImVtYWlsVGV4dFwiIHBsYWNlaG9sZGVyPVwiZW1haWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY291bnROYW1lV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50TmFtZUlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImFjY291bnROYW1lVGV4dFwiIHBsYWNlaG9sZGVyPVwidXNlciBuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYXNzd29yZFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFzc3dvcmRJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJwYXNzd29yZFRleHRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RlckJ1dHRvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0ZXJCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlZ2lzdGVyU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUdJU1RFUiBOT1dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b0xvZ2luQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b0xvZ2luQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b0xvZ2luU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0dJTiBQT1JUQUxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgIGxldCBzY3JhcGVSZWdpc3RyYXRpb25Gb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBlbWFpbCA9ICQoJy5lbWFpbFRleHQnKS52YWwoKTtcclxuICAgICAgICBsZXQgdXNlcm5hbWUgPSAkKCcuYWNjb3VudE5hbWVUZXh0JykudmFsKCk7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gJCgnLnBhc3N3b3JkVGV4dCcpLnZhbCgpO1xyXG5cclxuICAgICAgICBsZXQgcmVnaXN0cmF0aW9uRGF0YSA9IHtcclxuICAgICAgICAgICAgYWNjb3VudE5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHJlZ2lzdHJhdGlvbkRhdGEpO1xyXG4gICAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9O1xyXG5cclxuICAgICQoJy5yZWdpc3RlclN1Ym1pdEJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBzY3JhcGVSZWdpc3RyYXRpb25Gb3JtKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld1VzZXIoZGF0YSwgY29udGV4dC5SZWdpc3RyYXRpb25TdWNjZXNzKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy50b0xvZ2luQnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTG9naW5Gb3JtKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkxvZ2luRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIkxvZ2luRm9ybVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiTG9naW5XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgV2VsY29tZS4gTG9nIEluIGJlbG93LCBvciBjbGljayB0aGUgU2lnbiBVcCBidXR0b24gdG8gY3JlYXRlIGEgbmV3IGFjY291bnQuIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5FbWFpbFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5FbWFpbElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImxvZ2luRW1haWxUZXh0XCIgcGxhY2Vob2xkZXI9XCJlbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5QYXNzd29yZFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5QYXNzd29yZElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImxvZ2luUGFzc3dvcmRUZXh0XCIgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5CdXR0b25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsb2dpblN1Ym1pdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTE9HSU5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b1JlZ2lzdGVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b1JlZ2lzdGVyQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b1JlZ2lzdGVyU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSUdOIFVQIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gXHJcbiAgICApXHJcblxyXG4gICAgbGV0IHNjcmFwZUxvZ2luSW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgZW1haWwgPSAkKCcubG9naW5FbWFpbFRleHQnKS52YWwoKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmQgPSAkKCcubG9naW5QYXNzd29yZFRleHQnKS52YWwoKTtcclxuXHJcbiAgICAgICAgbGV0IGxvZ2luRGF0YSA9IHtcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGxvZ2luRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmxvZ2luU3VibWl0QnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHNjcmFwZUxvZ2luSW5mbygpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5Mb2dVc2VySW4oZGF0YSwgY29udGV4dC5DaGFyYWN0ZXJTZWxlY3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnRvUmVnaXN0ZXJTdWJtaXRCdXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5SZWdpc3RyYXRpb25Gb3JtKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIkNoYXJhY3RlclNlbGVjdFNjcmVlblwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgeW91ciBjaGFyYWN0ZXIsIG9yIGNyZWF0ZSBhIG5ldyBvbmUgYnkgY2xpY2tpbmcgdGhlIG5ldyBjaGFyYWN0ZXIgYnV0dG9uLiBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RCdXR0b25zV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyU2VsZWN0QnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibmV3Q2hhcmFjdGVyQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBORVcgQ0hBUkFDVEVSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibG9nb3V0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0cgT1VUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWNjb3VudE9wdGlvbnNCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QVElPTlNcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJzVGFibGVXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3RlcnNUYWJsZUNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9XCJ3aWR0aDoxMDAlXCIgY2xhc3M9XCJjaGFyYWN0ZXJzVGFibGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+U2VsZWN0PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+TGV2ZWw8L3RoPiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q2xhc3M8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5DaGFyYWN0ZXIgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyc0xvYWRpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGluZyB5b3VyIGNoYXJhY3RlcnMuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4uL2V4dHJhX2ltYWdlcy9sb2FkaW5nLmdpZlwiIGFsdD1cImxvYWRpbmctZ2lmXCIgaGVpZ2h0PVwiNTBweFwiIHdpZHRoPVwiNTBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gXHJcbiAgICApXHJcblxyXG4gICAgJCgnLmNoYXJhY3RlcnNUYWJsZScpLmhpZGUoKTtcclxuXHJcbiAgICBsZXQgcHJpbnRHYW1lcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICQoJy5jaGFyYWN0ZXJzTG9hZGluZycpLmhpZGUoKTtcclxuICAgICAgICAkKCcuY2hhcmFjdGVyc1RhYmxlJykuc2hvdygpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5sb2FkZWRHYW1lcyA9IFtdO1xyXG4gICAgICAgIGxldCBjb3VudCA9IDE7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmxvYWRlZEdhbWVzLnB1c2gobnVsbCk7XHJcbiAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChkID0+IHtcclxuICAgICAgICAgICAgLy8gbGV0IHN0cmluZyA9IExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KGQpXHJcbiAgICAgICAgICAgIGxldCBwYXJzZWREYXRhID0gSnNvbkV4LnBhcnNlKGQpO1xyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsubG9hZGVkR2FtZXMucHVzaChwYXJzZWREYXRhKTtcclxuICAgICAgICAgICAgbGV0IGNoYXJEYXRhID0gcGFyc2VkRGF0YS5hY3RvcnMuX2RhdGFbMV07XHJcbiAgICAgICAgICAgICQoJy5jaGFyYWN0ZXJzVGFibGUnKS5hcHBlbmQoYCBcclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9XCJnYW1lJHtjb3VudH1cIj5DSE9PU0U8L2J1dHRvbj48L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPiR7Y2hhckRhdGEuaW5pdGlhbExldmVsfTwvdGQ+IFxyXG4gICAgICAgICAgICAgICAgPHRkPiR7Y2hhckRhdGEuYWx0Q2xhc3NOYW1lfTwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+JHtjaGFyRGF0YS5uYW1lfTwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICAkKGAuZ2FtZSR7Y291bnR9YCkuYXR0cihcImdhbWVJbmRleFwiLCBgJHtjb3VudH1gKS5jbGljayggZnVuY3Rpb24gKGV2dCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoJycpXHJcbiAgICAgICAgICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucmVCaW5kSW5wdXQoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gTnVtYmVyKCQoZXZ0LmN1cnJlbnRUYXJnZXQpLmF0dHIoXCJnYW1lSW5kZXhcIikpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGdhbWUgPSAkZ2FtZU5ldHdvcmsubG9hZGVkR2FtZXNbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLkxvYWRTYXZlZEdhbWUoZ2FtZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuUG9wdWxhdGVEYXRhYmFzZShkKTtcclxuICAgICAgICAgICAgICAgIC8vIERhdGFNYW5hZ2VyLmNyZWF0ZUdhbWVPYmplY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAkZ2FtZVBhcnR5LnNldHVwU3RhcnRpbmdNZW1iZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkID0gZC4kZGF0YVN5c3RlbS5zdGFydE1hcElkO1xyXG4gICAgICAgICAgICAgICAgLy8gJGdhbWVQbGF5ZXIucmVzZXJ2ZVRyYW5zZmVyKCRkYXRhU3lzdGVtLnN0YXJ0TWFwSWQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgJGRhdGFTeXN0ZW0uc3RhcnRYLCAkZGF0YVN5c3RlbS5zdGFydFkpO1xyXG4gICAgICAgICAgICAgICAgLy8gR3JhcGhpY3MuZnJhbWVDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLyBTY2VuZU1hbmFnZXIuZ290byhTY2VuZV9NYXApO1xyXG4gICAgICAgICAgICAgICAgLy8gJGdhbWVOZXR3b3JrLmNvbm5lY3RNYXBTb2NrZXRBZnRlckxvZ2luKCk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb3VudCArKztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAkZ2FtZU5ldHdvcmsuTG9hZEdhbWVGaWxlc0Zyb21TZXJ2ZXIoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgcHJpbnRHYW1lcyk7XHJcblxyXG4gICAgJCgnLm5ld0NoYXJhY3RlckJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLk5ld0NoYXJhY3RlcigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucnVuTG9hZGVkRmlsZSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xyXG4gICAgXHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lU3lzdGVtLCBjb250ZW50cy5zeXN0ZW0pO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZVNjcmVlbiwgY29udGVudHMuc2NyZWVuKTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVUaW1lciwgY29udGVudHMudGltZXIpO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZVN3aXRjaGVzLCBjb250ZW50cy5zd2l0Y2hlcyk7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lVmFyaWFibGVzLCBjb250ZW50cy52YXJpYWJsZXMpO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZVNlbGZTd2l0Y2hlcywgY29udGVudHMuc2VsZlN3aXRjaGVzKTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVBY3RvcnMsIGNvbnRlbnRzLmFjdG9ycyk7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lUGFydHksIGNvbnRlbnRzLnBhcnR5KTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVNYXAsIGNvbnRlbnRzLm1hcCk7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lUGxheWVyLCBjb250ZW50cy5wbGF5ZXIpO1xyXG5cclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLk5ld0NoYXJhY3RlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIk5ld0NoYXJhY3RlclNjcmVlblwiIGNsYXNzPVwicGFuZWwgcGFuZWwtcHJpbWFyeVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV3Q2hhcmFjdGVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5hbWVXYXJuaW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFlvdSBtdXN0IGVudGVyIGEgbmFtZSBmb3IgeW91ciBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb25maXJtTmFtZVdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RNYWluXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0V3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvVGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGVyIGEgY2hhcmFjdGVyIG5hbWUgYW5kIHNlbGVjdCB5b3VyIGJhc2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyTmFtZVdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3Rlck5hbWVJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiY2hhcmFjdGVyTmFtZUlucHV0VGV4dFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJjaGFyYWN0ZXIgbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsYW5zbWFuQ2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGFuc21hbkNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xhbnNtZW5CdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDTEFOU01FTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmlnaGF0Q2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWdoYXRDbGFzc0lubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJpZ2hhdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJJRyBIQVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpdmluZUNsYXNzV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGl2aW5DbGFzc0lubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpdmluZUNsYXNzQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRElWSU5FXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXJjZW5hcnlDbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lcmNlbmFyeUNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibWVyY2VuYXJ5Q2xhc3NCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRVJDRU5BUllcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gICAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgIClcclxuXHJcbiAgICAkKCcubmFtZVdhcm5pbmcnKS5oaWRlKCk7XHJcblxyXG4gICAgbGV0IHNjcmFwZUNoYXJOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkKCcuY2hhcmFjdGVyTmFtZUlucHV0VGV4dCcpLnZhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5jb25maXJtTmFtZVdhcm5pbmcnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5uYW1lV2FybmluZycpLmhpZGUoKTsgXHJcbiAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuc2hvdygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICQoJy5jbGFuc21lbkJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQ2xhbnNtZW4nLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSk7XHJcbiAgICAgICAgLy8kZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0NsYW5zbWVuJywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5iaWdoYXRCdXR0b24nKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjaGFyTmFtZSA9IHNjcmFwZUNoYXJOYW1lKCk7XHJcbiAgICAgICAgaWYgKGNoYXJOYW1lID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoJy5jaGFyU2VsZWN0TWFpbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gJGdhbWVOZXR3b3JrLkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld0dhbWUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0JpZyBIYXQnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSk7XHJcbiAgICAgICAgLy8kZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0JpZyBIYXQnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5kaXZpbmVDbGFzc0J1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnRGl2aW5lJywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpO1xyXG4gICAgICAgIC8vJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld1NhdmVGaWxlKCRnYW1lTmV0d29yay51c2VyRW1haWwsICdEaXZpbmUnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSkgXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcubWVyY2VuYXJ5Q2xhc3NCdXR0b24nKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjaGFyTmFtZSA9IHNjcmFwZUNoYXJOYW1lKCk7XHJcbiAgICAgICAgaWYgKGNoYXJOYW1lID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoJy5jaGFyU2VsZWN0TWFpbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gJGdhbWVOZXR3b3JrLkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld0dhbWUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ01lcmNlbmFyeScsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKTtcclxuICAgICAgICAvLyRnYW1lTmV0d29yay5DcmVhdGVOZXdTYXZlRmlsZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnTWVyY2VuYXJ5JywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwibG9hZGluZ1NjcmVlblwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ1NjcmVlbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRpbmcgTmV3IEdhbWUuLi5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4uL2V4dHJhX2ltYWdlcy9sb2FkaW5nLmdpZlwiIGFsdD1cImxvYWRpbmctZ2lmXCIgaGVpZ2h0PVwiODBweFwiIHdpZHRoPVwiODBweFwiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmApOyAgIFxyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZUJhY2tncm91bmQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2JhY2tTcHJpdGUxID0gbmV3IFNwcml0ZShJbWFnZU1hbmFnZXIubG9hZFRpdGxlMSgkZGF0YVN5c3RlbS50aXRsZTFOYW1lKSk7XHJcbiAgICB0aGlzLl9iYWNrU3ByaXRlMiA9IG5ldyBTcHJpdGUoSW1hZ2VNYW5hZ2VyLmxvYWRUaXRsZTIoJGRhdGFTeXN0ZW0udGl0bGUyTmFtZSkpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2JhY2tTcHJpdGUyKTtcclxuICAgICAgICB0aGlzLmNlbnRlclNwcml0ZSh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLmNlbnRlclNwcml0ZSh0aGlzLl9iYWNrU3ByaXRlMik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JlZ3JvdW5kKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY3JlYXRlRm9yZWdyb3VuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlID0gbmV3IFNwcml0ZShuZXcgQml0bWFwKEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHQpKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fZ2FtZVRpdGxlU3ByaXRlKTtcclxuICAgIGlmICgkZGF0YVN5c3RlbS5vcHREcmF3VGl0bGUpIHtcclxuICAgICAgICB0aGlzLmRyYXdHYW1lVGl0bGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5kcmF3R2FtZVRpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgeCA9IDIwO1xyXG4gICAgdmFyIHkgPSBHcmFwaGljcy5oZWlnaHQgLyA0O1xyXG4gICAgdmFyIG1heFdpZHRoID0gR3JhcGhpY3Mud2lkdGggLSB4ICogMjtcclxuICAgIHZhciB0ZXh0ID0gJGRhdGFTeXN0ZW0uZ2FtZVRpdGxlO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5vdXRsaW5lQ29sb3IgPSAnYmxhY2snO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5vdXRsaW5lV2lkdGggPSA4O1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5mb250U2l6ZSA9IDcyO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5kcmF3VGV4dCh0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgNDgsICdjZW50ZXInKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jZW50ZXJTcHJpdGUgPSBmdW5jdGlvbihzcHJpdGUpIHtcclxuICAgIHNwcml0ZS54ID0gR3JhcGhpY3Mud2lkdGggLyAyO1xyXG4gICAgc3ByaXRlLnkgPSBHcmFwaGljcy5oZWlnaHQgLyAyO1xyXG4gICAgc3ByaXRlLmFuY2hvci54ID0gMC41O1xyXG4gICAgc3ByaXRlLmFuY2hvci55ID0gMC41O1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnBsYXlUaXRsZU11c2ljID0gZnVuY3Rpb24oKSB7XHJcbiAgICBBdWRpb01hbmFnZXIucGxheUJnbSgkZGF0YVN5c3RlbS50aXRsZUJnbSk7XHJcbiAgICBBdWRpb01hbmFnZXIuc3RvcEJncygpO1xyXG4gICAgQXVkaW9NYW5hZ2VyLnN0b3BNZSgpO1xyXG59O1xyXG5cclxuXHJcblNjZW5lX0Jvb3QucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgU291bmRNYW5hZ2VyLnByZWxvYWRJbXBvcnRhbnRTb3VuZHMoKTtcclxuICAgIGlmIChEYXRhTWFuYWdlci5pc0JhdHRsZVRlc3QoKSkge1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLnNldHVwQmF0dGxlVGVzdCgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX0JhdHRsZSk7XHJcbiAgICB9IGVsc2UgaWYgKERhdGFNYW5hZ2VyLmlzRXZlbnRUZXN0KCkpIHtcclxuICAgICAgICBEYXRhTWFuYWdlci5zZXR1cEV2ZW50VGVzdCgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX01hcCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJMb2NhdGlvbigpO1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLnNldHVwTmV3R2FtZSgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFF1ZXN0RGVsdXhlUG9ydGFsKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpO1xyXG59O1xyXG4gICAgXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vXHJcblx0Ly8gT3ZlcnJpZGluZyAnSW5wdXQuX29uS2V5RG93bicgdG8gcGFzcyAnZXZlbnQnIGFzIHBhcmFtZXRlclxyXG5cdC8vIHRvICdJbnB1dC5fc2hvdWxkUHJldmVudERlZmF1bHQnXHJcblx0Ly9cclxuXHJcblx0SW5wdXQuX29uS2V5RG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0ICAgIGlmICh0aGlzLl9zaG91bGRQcmV2ZW50RGVmYXVsdChldmVudCkpIHtcclxuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ICAgIH1cclxuXHQgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDE0NCkgeyAgICAvLyBOdW1sb2NrXHJcblx0ICAgICAgICB0aGlzLmNsZWFyKCk7XHJcblx0ICAgIH1cclxuXHQgICAgdmFyIGJ1dHRvbk5hbWUgPSB0aGlzLmtleU1hcHBlcltldmVudC5rZXlDb2RlXTtcclxuXHQgICAgaWYgKGJ1dHRvbk5hbWUpIHtcclxuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRTdGF0ZVtidXR0b25OYW1lXSA9IHRydWU7XHJcblx0ICAgIH1cclxuXHR9O1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvL1xyXG5cdC8vIE92ZXJyaWRpbmcgSW5wdXQuX3Nob3VsZFByZXZlbnREZWZhdWx0IHRvIGFsbG93IHRoZSB1c2Ugb2YgdGhlICdiYWNrc3BhY2Uga2V5J1xyXG5cdC8vIGluIGlucHV0IGZvcm1zLlxyXG5cdC8vXHJcblxyXG5cdElucHV0Ll9zaG91bGRQcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKGUpIHtcclxuXHQgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuXHRcdCAgICBjYXNlIDg6ICAgICAvLyBiYWNrc3BhY2VcclxuXHRcdCAgICBcdGlmICgkKGUudGFyZ2V0KS5pcyhcImlucHV0LCB0ZXh0YXJlYVwiKSlcclxuXHRcdCAgICBcdFx0YnJlYWs7XHJcblx0XHQgICAgY2FzZSAzMzogICAgLy8gcGFnZXVwXHJcblx0XHQgICAgY2FzZSAzNDogICAgLy8gcGFnZWRvd25cclxuXHRcdCAgICBjYXNlIDM3OiAgICAvLyBsZWZ0IGFycm93XHJcblx0XHQgICAgY2FzZSAzODogICAgLy8gdXAgYXJyb3dcclxuXHRcdCAgICBjYXNlIDM5OiAgICAvLyByaWdodCBhcnJvd1xyXG5cdFx0ICAgIGNhc2UgNDA6ICAgIC8vIGRvd24gYXJyb3dcclxuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XHJcblx0ICAgIH1cclxuXHQgICAgcmV0dXJuIGZhbHNlO1xyXG5cdH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=