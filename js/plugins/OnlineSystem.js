var Plugins=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$onlineParty=t.$gameNetwork=void 0;var r=a(1),n=a(2);o(a(4)),o(a(5));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.$gameNetwork=i,t.$onlineParty=s;var i=null,s=null,c=DataManager.createGameObjects;DataManager.createGameObjects=function(){c.call(this),t.$gameNetwork=i=i||new r.Game_Network,t.$onlineParty=s=s||new n.Online_Party}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_Network=void 0;var r=a(0),n=n||{};function o(){this.initialize.apply(this,arguments)}n.OnlineCore=!0,t.Game_Network=o,o.prototype.initialize=function(){this.apiUrl="http://localhost:5000/api",this.token="",this.userEmail="",this.userAccountName="",this.currentMapId=0,this.mapConnection={},this.networkMapEvents={},this.game_loaded=!1},o.prototype.connectMapSocketAfterLogin=function(){var e=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/gameMapHub").build();r.$gameNetwork.mapConnection=e,async function(){try{await r.$gameNetwork.mapConnection.start();var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e)),r.$gameNetwork.mapConnection.on("NewPlayerOnMap",function(e){var t=JSON.parse(e);0!==t.x&&0!==t.y||(t.x=1,t.y=1);var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t);var n=o.prototype.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}),r.$gameNetwork.mapConnection.on("PlayerMapUpdate",function(e){if(SceneManager._scene._spriteset&&!(SceneManager._scene instanceof Scene_Battle)){var t=JSON.parse(e);if(r.$gameNetwork.networkMapEvents[t.accountUserName])Game_Player.prototype.UpdateNetworkPlayer(t);else{var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t)}}}),r.$gameNetwork.mapConnection.on("RemovePlayerFromMap",function(e){for(var t=JSON.parse(e),a=0,n=0;n<$dataMap.events.length;n++)null!==$dataMap.events[n]&&$dataMap.events[n].name===t.accountUserName&&(a=n);$dataMap.events.splice(a,1);for(var o=0,i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&$gameMap._events[i]._accountUserName===t.accountUserName&&(o=i);$gameMap._events.splice(o,1),delete r.$gameNetwork.networkMapEvents[t.accountUserName],SceneManager._scene._spriteset.clearNetworkPlayer(t.accountUserName)})}catch(e){console.error(e.toString())}}()},o.prototype.CaptureLoginResponse=function(e){r.$gameNetwork.token=e.token,r.$gameNetwork.userEmail=e.email,r.$gameNetwork.userAccountName=e.user},o.prototype.GetPlayerCasterData=function(){return{accountUserName:r.$gameNetwork.userAccountName,direction:$gamePlayer._direction,x:$gamePlayer._x,y:$gamePlayer._y,moveSpeed:$gamePlayer._moveSpeed,moveFrequenzy:$gamePlayer._moveFrequency,characterName:$gamePlayer._characterName,characterIndex:$gamePlayer._characterIndex}},o.prototype.LoadGameFilesFromServer=function(e,t){$.get(r.$gameNetwork.apiUrl+"/GameData/"+e,function(e){t(e)}).fail(function(){window.alert("Load failed")})},o.prototype.SaveGameToServer=function(e){$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveGame",type:"PUT",data:e,contentType:"application/json"})},o.prototype.SaveNewGameToServer=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+t,type:"POST",data:e,contentType:"application/json"})},o.prototype.CreateNewUser=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/register",type:"POST",data:e,contentType:"application/json",success:function(e){t()},error:function(e){console.log(e)}})},o.prototype.LogUserIn=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/login",type:"POST",data:e,contentType:"application/json",success:function(e){r.$gameNetwork.userEmail=e.email,o.prototype.CaptureLoginResponse(e),t()},error:function(e){console.log(e)}})},o.prototype.ClassSelect=function(e,t,a){if("Clansmen"===t){var r=[null,{altClassName:""+t,id:1,battlerName:"Actor1_1",characterIndex:0,characterName:"Actor1",classId:1,equips:[1,1,2,3,0],faceIndex:0,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=r}else if("Big Hat"===t){var n=[null,{altClassName:""+t,id:2,battlerName:"Actor2_5",characterIndex:4,characterName:"Actor2",classId:3,equips:[3,0,0,0,0],faceIndex:4,faceName:"Actor2",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=n}else if("Divine"===t){var o=[null,{altClassName:""+t,id:4,battlerName:"Actor2_4",characterIndex:3,characterName:"Actor3",classId:4,equips:[4,0,0,0,0],faceIndex:3,faceName:"Actor3",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=o}else if("Mercenary"===t){var i=[null,{altClassName:""+t,id:3,battlerName:"Actor1_7",characterIndex:6,characterName:"Actor1",classId:2,equips:[2,0,0,0,0],faceIndex:6,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}];e.$dataActors=i}return e},o.prototype.CaptureCoreGameMetaData=function(){r.$gameNetwork.dataFiles=[];for(var e=DataManager.isBattleTest()||DataManager.isEventTest()?"Test_":"",t=0;t<DataManager._databaseFiles.length;t++){var a=DataManager._databaseFiles[t].name,n=DataManager._databaseFiles[t].src;r.$gameNetwork.dataFiles.push([a,e+n])}DataManager.isEventTest()&&r.$gameNetwork.dataFiles.push(["$testEvent",e+"Event.json"])},o.prototype.CreateNewSaveFile=function(e,t,a,n){var o={},i=0,s=r.$gameNetwork.dataFiles.length;r.$gameNetwork.dataFiles.forEach(function(c){var p=new XMLHttpRequest,l="data/"+c[1];p.open("GET",l),p.overrideMimeType("application/json"),p.onload=function(){if(p.status<400&&(i++,o[c[0]]=JSON.parse(p.responseText),i===s)){var l=r.$gameNetwork.ClassSelect(o,t,n),d=JSON.stringify(l);$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+e,type:"POST",data:d,contentType:"application/json",success:function(){a()}}),i++}},p.onerror=DataManager._mapLoader||function(){DataManager._errorUrl=DataManager._errorUrl||l},p.send()})},o.prototype.PopulateDatabase=function(e){for(var t in e)window[t]=e[t],DataManager.onLoad(window[t])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Online_Party=void 0;var r=a(0),n=a(3);function o(){this.initialize.apply(this,arguments)}t.Online_Party=o,o.prototype.initialize=function(){this.members=[],this.partyConnection={},this.isHost=!1,this.partiesSeeking=[],this.playerOptions=[],this.partyOptions=[],this.currentPartyPortal={}},o.prototype.makeNewPartyConnection=function(e){var t=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/onlinePartyHub").build();r.$onlineParty.partyConnection=t,async function(){try{if(r.$onlineParty.partyConnection.start(),e){r.$onlineParty.partyConnection.invoke("AddToPartyAsHost","hello"),r.$onlineParty.partyConnection.on("NewPartyWithHost",function(e){"hello"==e&&(r.$onlineParty.isHost=!0)})}}catch(e){console.error(e.toString())}}()},o.prototype.makeOnlinePartyPortal=function(){r.$onlineParty.populatePlayerOptions();var e=new n.PartyPortalWindow(300,300);r.$onlineParty.currentPartyPortal=e,r.$onlineParty.currentPartyPortal.clearCommandList(),r.$onlineParty.currentPartyPortal.makeCommandList(),r.$onlineParty.currentPartyPortal.setHandler("addPlayerToParty",this.addPlayerToParty.bind(this)),SceneManager._scene.addChild(e)},o.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in r.$onlineParty.playerOptions=[],e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},o.prototype.addPlayerToParty=function(e){console.log("score");this.currentPartyPortal.currentExt()},o.prototype.newPartyAsHost=function(){},o.prototype.joinParty=function(){},o.prototype.createNewOnlinePartyMember=function(){}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartyPortalWindow=void 0;var r=a(0);function n(e,t){Window_Command.prototype.initialize.call(this,e,t,100,100)}t.PartyPortalWindow=n,n.prototype=Object.create(Window_Command.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){},n.prototype.makeCommandList=function(){this.makeCharacterCommands()},n.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},n.prototype.populatePartyOptions=function(){var e=this;r.$onlineParty.openParties.forEach(function(t){e.partyOptions.push(t)})},n.prototype.makeCharacterCommands=function(){var e=this;r.$onlineParty.playerOptions.forEach(function(t){e.addCommand(""+t._accountUserName,"addPlayerToParty",!0,""+t._accountUserName)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_NetworkPlayer=t.Game_Map=t.Game_Player=t.Spriteset_Map=t.Scene_Map=void 0;var r=a(0);t.Scene_Map=Scene_Map,t.Spriteset_Map=Spriteset_Map,t.Game_Player=Game_Player,t.Game_Map=Game_Map,t.Game_NetworkPlayer=o;var n=Scene_Map.prototype.onMapLoaded;function o(){this.initialize.apply(this,arguments)}Scene_Map.prototype.onMapLoaded=function(){if(n.call(this),$gameMap._mapId!==r.$gameNetwork.currentMapId){var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e));for(var t=[],a=0;a<$dataMap.events.length;a++)null!==$dataMap.events[a]&&!0===$dataMap.events[a]._isNetworkPlayerEvent&&t.push(a);t.length>0&&t.forEach(function(e){$dataMap.events.splice(e,1)});for(var o=[],i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&!0===$gameMap._events[i]._isNetworkPlayerEvent&&o.push(i);o.length>0&&o.forEach(function(e){$gameMap._events.splice(e,1)});var s=[],c=r.$gameNetwork.networkMapEvents;for(var p in c)c.hasOwnProperty(p)&&!0===c[p]._isNetworkPlayerEvent&&s.push(c[p]._accountUserName);s.length>0&&s.forEach(function(e){delete r.$gameNetwork.networkMapEvents[e]}),SceneManager._scene._spriteset.clearAllNetworkPlayerEvents(),r.$gameNetwork.currentMapId=$gameMap._mapId,r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e))}r.$gameNetwork.game_loaded=!0},Spriteset_Map.prototype.clearNetworkPlayer=function(e){for(var t=0;t<this._characterSprites.length;t++){this._characterSprites[t]._character._accountUserName===e&&this._tilemap.removeChild(this._characterSprites[t])}},Spriteset_Map.prototype.clearAllNetworkPlayerEvents=function(){for(var e=0;e<this._characterSprites.length;e++){!0===this._characterSprites[e]._character._isNetworkPlayerEvent&&this._tilemap.removeChild(this._characterSprites[e])}},Game_Player.prototype.UpdateNetworkPlayer=function(e){var t=e.accountUserName,a=r.$gameNetwork.networkMapEvents;a[t].setMoveSpeed(e.moveSpeed),a[t].setMoveFrequency(e.moveFrequenzy),a[t].moveStraight(e.direction),a[t].x===e.x&&a[t].y===e.y||a[t].setPosition(e.x,e.y),a[t]._characterName=e.characterName,a[t]._characterIndex=e.characterIndex},Game_Player.prototype.moveByInput=function(){if(!this.isMoving()&&this.canMove()){var e=this.getInputDirection();if(e>0)$gameTemp.clearDestination();else if($gameTemp.isDestinationValid()){var t=$gameTemp.destinationX(),a=$gameTemp.destinationY();e=this.findDirectionTo(t,a)}if(e>0){if(this.executeMove(e),r.$gameNetwork.currentMapId!==$gameMap._mapId){var n=r.$gameNetwork.GetPlayerCasterData();try{r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}r.$gameNetwork.currentMapId=$gameMap._mapId;try{r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}}var o=r.$gameNetwork.GetPlayerCasterData(),i="mapRoom"+$gameMap._mapId;r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup",i,JSON.stringify(o))}}},Game_Player.prototype.seedNewPlayerEvent=function(e,t,a){var r=$dataMap.events.length,n='{"id":'+r+',"name":"'+a+'","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":'+e+',"y":'+t+',"meta":{},"_isNetworkPlayerEvent":true}';return $dataMap.events.push(JSON.parse(n)),r},Game_Map.prototype.addNetworkPlayer=function(e,t,a){var r=Game_Player.prototype.seedNewPlayerEvent(e,t,a),n=this._events.length;return this._events[n]=new o(this._mapId,r,e,t),this._events[n]._accountUserName=a,this._events[n]._isNetworkPlayerEvent=!0,SceneManager._scene._spriteset.createNetworkPlayer(n,a),this._events[n]},Spriteset_Map.prototype.createNetworkPlayer=function(e,t){var a=$gameMap._events[e],r=this._characterSprites.length;this._characterSprites[r]=new Sprite_Character(a),this._characterSprites[r]._accountUserName=t,this._characterSprites[r].update(),this._tilemap.addChild(this._characterSprites[r])},o.prototype=Object.create(Game_Event.prototype),o.prototype.constructor=o,o.prototype.initialize=function(e,t,a,r){Game_Event.prototype.initialize.call(this,e,t),this._isNetworkPlayer=!0,this.setPosition(a,r)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=t.QuestDeluxePortal=void 0;var r=a(0);function n(){this.initialize.apply(this,arguments)}t.QuestDeluxePortal=n,t.Input=Input,n.prototype=Object.create(Scene_Base.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){Scene_Base.prototype.initialize.call(this)},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.create=function(){Scene_Base.prototype.create.call(this),this.createBackground()},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.start=function(){Scene_Base.prototype.start.call(this),SceneManager.clearStack(),this.startFadeIn(this.fadeSpeed(),!1),this.LoginForm()},n.prototype.update=function(){Scene_Base.prototype.update.call(this)},n.prototype.isBusy=function(){return Scene_Base.prototype.isBusy.call(this)},n.prototype.terminate=function(){Scene_Base.prototype.terminate.call(this),SceneManager.snapForBackground()},n.prototype.createNewSaveFile=function(e){var t={};return t.system=$gameSystem,t.screen=$gameScreen,t.timer=$gameTimer,t.switches=$gameSwitches,t.variables=$gameVariables,t.selfSwitches=$gameSelfSwitches,t.actors=e,t.party=$gameParty,t.map=$gameMap,t.player=$gamePlayer,JSON.stringify(t)},n.prototype.RegistrationSuccess=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div class="registrationSuccessWrapper" style="width:'+e+'px">\n            <div class="registrationSuccessInnerWrapper">\n                <div class="registrationSuccessTextWrapper">\n                    <div class="registrationSuccessText">\n                        Registration Succesful! \n                    </div>\n                </div>\n                <div class="registrationSuccessButtonWrapper">\n                    <button class="registrationSuccessButton">\n                        LOG IN\n                    </button>\n                </div>\n            </div>\n        </div>\n        '),$(".registrationSuccessButton").click(function(){n.prototype.LoginForm()})},n.prototype.RegistrationForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="RegisterForm" style="width:'+t+'px">\n            <div class="registrationWrapper">\n                <div>\n                    <div class="register-text">\n                        Provide your email address, a desired user name, and a password. \n                    </div>\n                </div>\n\n                <div class="emailWrapper">\n                    <div class="emailInput">\n                        <input class="emailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="accountNameWrapper">\n                    <div class="accountNameInput">\n                        <input class="accountNameText" placeholder="user name">\n                    </div>\n                </div>\n                <div class="passwordWrapper">\n                    <div class="passwordInput">\n                        <input class="passwordText" type="password" placeholder="password">\n                    </div>\n                </div>\n                <div class="registerButtonWrapper">\n                    <div class="registerButton">\n                        <button class="registerSubmitButton">\n                            REGISTER NOW\n                        </button>\n                    </div>\n                </div>\n                <div class="toLoginButtonWrapper">\n                    <div class="toLoginButton">\n                        <button class="toLoginSubmitButton">\n                            LOGIN PORTAL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".registerSubmitButton").click(function(t){var a=function(){var e=$(".emailText").val(),t={accountName:$(".accountNameText").val(),password:$(".passwordText").val(),email:e};return JSON.stringify(t)}();r.$gameNetwork.CreateNewUser(a,e.RegistrationSuccess)}),$(".toLoginButton").click(function(e){n.prototype.LoginForm()})},n.prototype.LoginForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="LoginForm" style="width:'+t+'px">\n            <div class="LoginWrapper">\n                <div>\n                    <div class="welcome-text">\n                        Welcome. Log In below, or click the Sign Up button to create a new account. \n                    </div>\n                </div>\n                <div class="loginEmailWrapper">\n                    <div class="loginEmailInput">\n                        <input class="loginEmailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="loginPasswordWrapper">\n                    <div class="loginPasswordInput">\n                        <input class="loginPasswordText" placeholder="password" type="password">\n                    </div>\n                </div>\n                <div class="loginButtonWrapper">\n                    <div class="loginButton">\n                        <button class="loginSubmitButton">\n                            LOGIN\n                        </button>\n                    </div>\n                </div>\n                <div class="toRegisterWrapper">\n                    <div class="toRegisterButton">\n                        <button class="toRegisterSubmitButton">\n                            SIGN UP!\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".loginSubmitButton").click(function(t){var a=function(){var e={email:$(".loginEmailText").val(),password:$(".loginPasswordText").val()};return JSON.stringify(e)}();r.$gameNetwork.LogUserIn(a,e.CharacterSelect)}),$(".toRegisterSubmitButton").click(function(e){n.prototype.RegistrationForm()})},n.prototype.CharacterSelect=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="CharacterSelectScreen" style="width:'+e+'px">\n            <div class="charSelectWrapper">\n                <div class="welcome-text">\n                    Select your character, or create a new one by clicking the new character button. \n                </div>\n                <div class="charSelectButtonsWrapper">\n                    <div class="charSelectButtons">\n                        <button class="newCharacterButton">\n                            NEW CHARACTER\n                        </button>\n                        <button class="logoutButton">\n                            LOG OUT\n                        </button>\n                        <button class="accountOptionsButton">\n                            OPTIONS\n                        </button>\n                    </div>\n                </div>\n                <div class="charactersTableWrapper">\n                    <div class="charactersTableContainer">\n                        <table style="width:100%" class="charactersTable">\n                            <tr>\n                                <th>Select</th>\n                                <th>Level</th> \n                                <th>Class</th>\n                                <th>Character Name</th>\n                            </tr>\n                        </table>\n                        <div class="charactersLoading">\n                            <div>\n                                Loading your characters...\n                            </div>\n                            <div style="margin-top:12px;">\n                                <img src="../extra_images/loading.gif" alt="loading-gif" height="50px" width="50px">\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div> \n            </div>\n        </div>'),$(".charactersTable").hide();r.$gameNetwork.LoadGameFilesFromServer(r.$gameNetwork.userEmail,function(e){$(".charactersLoading").hide(),$(".charactersTable").show();var t=1;e.forEach(function(e){var a=e.$dataActors[1];$(".charactersTable").append(' \n            <tr>\n                <td><button class="game'+t+'">CHOOSE</button></td>\n                <td>'+a.initialLevel+"</td> \n                <td>"+a.altClassName+"</td>\n                <td>"+a.name+"</td>\n            </tr>\n            "),$(".game"+t).click(function(){$("#ErrorPrinter").html(""),n.prototype.reBindInput(),r.$gameNetwork.PopulateDatabase(e),DataManager.createGameObjects(),$gameParty.setupStartingMembers(),r.$gameNetwork.currentMapId=e.$dataSystem.startMapId,$gamePlayer.reserveTransfer($dataSystem.startMapId,$dataSystem.startX,$dataSystem.startY),Graphics.frameCount=0,SceneManager.goto(Scene_Map),r.$gameNetwork.connectMapSocketAfterLogin()}),t++})}),$(".newCharacterButton").click(function(){n.prototype.NewCharacter()})},n.prototype.runLoadedFile=function(e){Object.assign($gameSystem,e.system),Object.assign($gameScreen,e.screen),Object.assign($gameTimer,e.timer),Object.assign($gameSwitches,e.switches),Object.assign($gameVariables,e.variables),Object.assign($gameSelfSwitches,e.selfSwitches),Object.assign($gameActors,e.actors),Object.assign($gameParty,e.party),Object.assign($gameMap,e.map),Object.assign($gamePlayer,e.player)},n.prototype.NewCharacter=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="NewCharacterScreen" class="panel panel-primary" style="width:'+e+'px">\n            <div class="newCharacterWrapper">\n                <div class="nameWarning">\n                    <div class="infoText">\n                        You must enter a name for your character\n                    </div>\n                    <div>\n                    <button class="confirmNameWarning">\n                        OK\n                    </button>\n                    </div>   \n                </div>\n                <div class="charSelectMain">\n                    <div class="infoTextWrapper">\n                        <div class="infoTextInnerWrapper">\n                            <div class="infoText">\n                                Enter a character name and select your base class\n                            </div>\n                        </div>\n                    </div>\n                    <div class="characterNameWrapper">\n                        <div class="characterNameInput">\n                            <input class="characterNameInputText" type="text" placeholder="character name">\n                        </div>\n                    </div>\n\n                    <div class="clansmanClassWrapper">\n                        <div class="clansmanClassInnerWrapper">\n                            <button class="clansmenButton">\n                                CLANSMEN\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="bighatClassWrapper">\n                        <div class="bighatClassInnerWrapper">\n                            <button class="bighatButton">\n                                BIG HAT\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="divineClassWrapper">\n                        <div class="divinClassInnerWrapper">\n                            <button class="divineClassButton">\n                                DIVINE\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="mercenaryClassWrapper">\n                        <div class="mercenaryClassInnerWrapper">\n                            <button class="mercenaryClassButton">\n                                MERCENARY\n                            </button>\n                        </div>\n                    </div>     \n                </div>\n            </div>\n        </div>'),$(".nameWarning").hide();var t=function(){return $(".characterNameInputText").val()};$(".confirmNameWarning").click(function(){$(".nameWarning").hide(),$(".charSelectMain").show()}),$(".clansmenButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CaptureCoreGameMetaData(),r.$gameNetwork.CreateNewSaveFile(r.$gameNetwork.userEmail,"Clansmen",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".bighatButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CaptureCoreGameMetaData(),r.$gameNetwork.CreateNewSaveFile(r.$gameNetwork.userEmail,"Big Hat",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".divineClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CaptureCoreGameMetaData(),r.$gameNetwork.CreateNewSaveFile(r.$gameNetwork.userEmail,"Divine",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".mercenaryClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CaptureCoreGameMetaData(),r.$gameNetwork.CreateNewSaveFile(r.$gameNetwork.userEmail,"Mercenary",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()})},n.prototype.loadingScreen=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="loadingScreen" style="width:'+e+'px">\n            <div class="loadingScreenWrapper">\n                <div>\n                    Creating New Game...\n                </div>\n                <div style="margin-top:12px;">\n                    <img src="../extra_images/loading.gif" alt="loading-gif" height="80px" width="80px">\n                </div>\n            </div>\n        </div>')},n.prototype.createBackground=function(){this._backSprite1=new Sprite(ImageManager.loadTitle1($dataSystem.title1Name)),this._backSprite2=new Sprite(ImageManager.loadTitle2($dataSystem.title2Name)),this.addChild(this._backSprite1),this.addChild(this._backSprite2),this.centerSprite(this._backSprite1),this.centerSprite(this._backSprite2),this.createForeground()},n.prototype.createForeground=function(){this._gameTitleSprite=new Sprite(new Bitmap(Graphics.width,Graphics.height)),this.addChild(this._gameTitleSprite),$dataSystem.optDrawTitle&&this.drawGameTitle()},n.prototype.drawGameTitle=function(){var e=Graphics.height/4,t=Graphics.width-40,a=$dataSystem.gameTitle;this._gameTitleSprite.bitmap.outlineColor="black",this._gameTitleSprite.bitmap.outlineWidth=8,this._gameTitleSprite.bitmap.fontSize=72,this._gameTitleSprite.bitmap.drawText(a,20,e,t,48,"center")},n.prototype.centerSprite=function(e){e.x=Graphics.width/2,e.y=Graphics.height/2,e.anchor.x=.5,e.anchor.y=.5},n.prototype.playTitleMusic=function(){AudioManager.playBgm($dataSystem.titleBgm),AudioManager.stopBgs(),AudioManager.stopMe()},Scene_Boot.prototype.start=function(){Scene_Base.prototype.start.call(this),SoundManager.preloadImportantSounds(),DataManager.isBattleTest()?(DataManager.setupBattleTest(),SceneManager.goto(Scene_Battle)):DataManager.isEventTest()?(DataManager.setupEventTest(),SceneManager.goto(Scene_Map)):(this.checkPlayerLocation(),DataManager.setupNewGame(),SceneManager.goto(n)),this.updateDocumentTitle()},Input._onKeyDown=function(e){this._shouldPreventDefault(e)&&e.preventDefault(),144===e.keyCode&&this.clear();var t=this.keyMapper[e.keyCode];t&&(this._currentState[t]=!0)},Input._shouldPreventDefault=function(e){switch(e.keyCode){case 8:if($(e.target).is("input, textarea"))break;case 33:case 34:case 37:case 38:case 39:case 40:return!0}return!1}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QbHVnaW5zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL29ubGluZUNvcmUuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL29ubGluZVBhcnR5LmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9wYXJ0eVBvcnRhbC5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vanMvcGx1Z2lucy9PbmxpbmVTeXN0ZW0vb25saW5lTWFwQnJvYWRjYXN0ZXIuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL2xvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX29ubGluZUNvcmUiLCJfb25saW5lUGFydHkiLCIkZ2FtZU5ldHdvcmsiLCIkb25saW5lUGFydHkiLCJNYWdlQ29yZUNyZWF0ZUdhbWVPYmoiLCJEYXRhTWFuYWdlciIsImNyZWF0ZUdhbWVPYmplY3RzIiwidGhpcyIsIkdhbWVfTmV0d29yayIsIk9ubGluZV9QYXJ0eSIsIl9vbmxpbmVTeXN0ZW0iLCJJbXBvcnRlZCIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsIk9ubGluZUNvcmUiLCJhcGlVcmwiLCJ0b2tlbiIsInVzZXJFbWFpbCIsInVzZXJBY2NvdW50TmFtZSIsImN1cnJlbnRNYXBJZCIsIm1hcENvbm5lY3Rpb24iLCJuZXR3b3JrTWFwRXZlbnRzIiwiZ2FtZV9sb2FkZWQiLCJjb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbiIsImNvbm5lY3Rpb24iLCJzaWduYWxSIiwiSHViQ29ubmVjdGlvbkJ1aWxkZXIiLCJ3aXRoVXJsIiwiYnVpbGQiLCJzdGFydCIsInBsYXllckRhdGEiLCJHZXRQbGF5ZXJDYXN0ZXJEYXRhIiwiaW52b2tlIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9uIiwiZGF0YSIsInBhcnNlIiwieCIsInkiLCJuZXdOZXR3b3JrUGxheWVyIiwiJGdhbWVNYXAiLCJhZGROZXR3b3JrUGxheWVyIiwiYWNjb3VudFVzZXJOYW1lIiwibWVtYmVycyIsInB1c2giLCJHYW1lX1BsYXllciIsIlVwZGF0ZU5ldHdvcmtQbGF5ZXIiLCJwaW5nRGF0YSIsIlNjZW5lTWFuYWdlciIsIl9zY2VuZSIsIl9zcHJpdGVzZXQiLCJTY2VuZV9CYXR0bGUiLCJ0YXJnZXREYXRhRXZlbnRJbmRleCIsIiRkYXRhTWFwIiwiZXZlbnRzIiwibGVuZ3RoIiwic3BsaWNlIiwidGFyZ2V0TWFwRXZlbnRJbmRleCIsIl9ldmVudHMiLCJfYWNjb3VudFVzZXJOYW1lIiwiY2xlYXJOZXR3b3JrUGxheWVyIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsInRvU3RyaW5nIiwiQ2FwdHVyZUxvZ2luUmVzcG9uc2UiLCJyZXNwb25zZURhdGEiLCJlbWFpbCIsInVzZXIiLCJkaXJlY3Rpb24iLCIkZ2FtZVBsYXllciIsIl9kaXJlY3Rpb24iLCJfeCIsIl95IiwibW92ZVNwZWVkIiwiX21vdmVTcGVlZCIsIm1vdmVGcmVxdWVuenkiLCJfbW92ZUZyZXF1ZW5jeSIsImNoYXJhY3Rlck5hbWUiLCJfY2hhcmFjdGVyTmFtZSIsImNoYXJhY3RlckluZGV4IiwiX2NoYXJhY3RlckluZGV4IiwiTG9hZEdhbWVGaWxlc0Zyb21TZXJ2ZXIiLCJjYWxsYmFjayIsIiQiLCJyZXNwb25zZSIsImZhaWwiLCJ3aW5kb3ciLCJhbGVydCIsIlNhdmVHYW1lVG9TZXJ2ZXIiLCJHYW1lRmlsZSIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJTYXZlTmV3R2FtZVRvU2VydmVyIiwib3duZXJFbWFpbCIsIkNyZWF0ZU5ld1VzZXIiLCJ1c2VyRGF0YSIsInN1Y2Nlc3MiLCJsb2ciLCJMb2dVc2VySW4iLCJDbGFzc1NlbGVjdCIsInNhdmVmaWxlIiwiY2xhc3NDaG9pY2UiLCJjaGFyTmFtZSIsIm5ld0FjdG9yIiwiYWx0Q2xhc3NOYW1lIiwiaWQiLCJiYXR0bGVyTmFtZSIsImNsYXNzSWQiLCJlcXVpcHMiLCJmYWNlSW5kZXgiLCJmYWNlTmFtZSIsInRyYWl0cyIsImluaXRpYWxMZXZlbCIsIm1heExldmVsIiwibmlja25hbWUiLCJub3RlIiwicHJvZmlsZSIsIkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhIiwiZGF0YUZpbGVzIiwicHJlZml4IiwiaXNCYXR0bGVUZXN0IiwiaXNFdmVudFRlc3QiLCJfZGF0YWJhc2VGaWxlcyIsInNyYyIsIkNyZWF0ZU5ld1NhdmVGaWxlIiwiY2FsbEJhY2siLCJzYXZlRmlsZSIsImNvdW50ZXIiLCJjYXAiLCJmb3JFYWNoIiwiZiIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm92ZXJyaWRlTWltZVR5cGUiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJqc29uIiwib25lcnJvciIsIl9tYXBMb2FkZXIiLCJfZXJyb3JVcmwiLCJzZW5kIiwiUG9wdWxhdGVEYXRhYmFzZSIsImRiIiwiZGF0YVR5cGUiLCJvbkxvYWQiLCJfcGFydHlQb3J0YWwiLCJwYXJ0eUNvbm5lY3Rpb24iLCJpc0hvc3QiLCJwYXJ0aWVzU2Vla2luZyIsInBsYXllck9wdGlvbnMiLCJwYXJ0eU9wdGlvbnMiLCJjdXJyZW50UGFydHlQb3J0YWwiLCJtYWtlTmV3UGFydHlDb25uZWN0aW9uIiwiYXNIb3N0IiwicG9uZyIsIm1ha2VPbmxpbmVQYXJ0eVBvcnRhbCIsInBvcHVsYXRlUGxheWVyT3B0aW9ucyIsInBhcnR5UG9ydGFsIiwiUGFydHlQb3J0YWxXaW5kb3ciLCJjbGVhckNvbW1hbmRMaXN0IiwibWFrZUNvbW1hbmRMaXN0Iiwic2V0SGFuZGxlciIsImFkZFBsYXllclRvUGFydHkiLCJhZGRDaGlsZCIsInBsYXllcnMiLCJwbGF5ZXIiLCJldnQiLCJjdXJyZW50RXh0IiwibmV3UGFydHlBc0hvc3QiLCJqb2luUGFydHkiLCJjcmVhdGVOZXdPbmxpbmVQYXJ0eU1lbWJlciIsIldpbmRvd19Db21tYW5kIiwiY29uc3RydWN0b3IiLCJtYWtlQ2hhcmFjdGVyQ29tbWFuZHMiLCJwb3B1bGF0ZVBhcnR5T3B0aW9ucyIsImNvbnRleHQiLCJvcGVuUGFydGllcyIsImFkZENvbW1hbmQiLCJTY2VuZV9NYXAiLCJTcHJpdGVzZXRfTWFwIiwiR2FtZV9NYXAiLCJHYW1lX05ldHdvcmtQbGF5ZXIiLCJvbk1hcExvYWRBTGlhcyIsIm9uTWFwTG9hZGVkIiwiX21hcElkIiwidGFyZ2V0RGF0YUV2ZW50SW5kZXhlcyIsIl9pc05ldHdvcmtQbGF5ZXJFdmVudCIsInRhcmdldE1hcEV2ZW50SW5kZXhlcyIsIm5ldEV2ZW50c1RvUmVtb3ZlIiwiZXZzIiwibmV0RXZlbnQiLCJjbGVhckFsbE5ldHdvcmtQbGF5ZXJFdmVudHMiLCJfY2hhcmFjdGVyU3ByaXRlcyIsIl9jaGFyYWN0ZXIiLCJfdGlsZW1hcCIsInJlbW92ZUNoaWxkIiwidXNlckFjY291bnQiLCJuZXRFdmVudHMiLCJzZXRNb3ZlU3BlZWQiLCJzZXRNb3ZlRnJlcXVlbmN5IiwibW92ZVN0cmFpZ2h0Iiwic2V0UG9zaXRpb24iLCJtb3ZlQnlJbnB1dCIsImlzTW92aW5nIiwiY2FuTW92ZSIsImdldElucHV0RGlyZWN0aW9uIiwiJGdhbWVUZW1wIiwiY2xlYXJEZXN0aW5hdGlvbiIsImlzRGVzdGluYXRpb25WYWxpZCIsImRlc3RpbmF0aW9uWCIsImRlc3RpbmF0aW9uWSIsImZpbmREaXJlY3Rpb25UbyIsImV4ZWN1dGVNb3ZlIiwibWFwR3JvdXBOYW1lIiwic2VlZE5ld1BsYXllckV2ZW50IiwibmV3UGxheWVyWCIsIm5ld1BsYXllclkiLCJwbGF5ZXJBY2NvdW50TmFtZSIsIm5ld0V2ZW50SWQiLCJlbXB0eUV2ZW50IiwibmV3UGxheWVyRXZlbnRJZCIsIm5ld1BsYXllck1hcElkIiwiY3JlYXRlTmV0d29ya1BsYXllciIsInRhcmdldEluZGV4IiwiZXZlbnQiLCJzSWQiLCJTcHJpdGVfQ2hhcmFjdGVyIiwidXBkYXRlIiwiR2FtZV9FdmVudCIsIm1hcElkIiwiZXZlbnRJZCIsIl9pc05ldHdvcmtQbGF5ZXIiLCJRdWVzdERlbHV4ZVBvcnRhbCIsIklucHV0IiwiU2NlbmVfQmFzZSIsInJlQmluZElucHV0IiwiY3JlYXRlQmFja2dyb3VuZCIsImNsZWFyU3RhY2siLCJzdGFydEZhZGVJbiIsImZhZGVTcGVlZCIsIkxvZ2luRm9ybSIsImlzQnVzeSIsInRlcm1pbmF0ZSIsInNuYXBGb3JCYWNrZ3JvdW5kIiwiY3JlYXRlTmV3U2F2ZUZpbGUiLCJuZXdDaGFyYWN0ZXIiLCJjb250ZW50cyIsInN5c3RlbSIsIiRnYW1lU3lzdGVtIiwic2NyZWVuIiwiJGdhbWVTY3JlZW4iLCJ0aW1lciIsIiRnYW1lVGltZXIiLCJzd2l0Y2hlcyIsIiRnYW1lU3dpdGNoZXMiLCJ2YXJpYWJsZXMiLCIkZ2FtZVZhcmlhYmxlcyIsInNlbGZTd2l0Y2hlcyIsIiRnYW1lU2VsZlN3aXRjaGVzIiwiYWN0b3JzIiwicGFydHkiLCIkZ2FtZVBhcnR5IiwibWFwIiwiUmVnaXN0cmF0aW9uU3VjY2VzcyIsInNjcmVlbldpZHRoIiwiR3JhcGhpY3MiLCJib3hXaWR0aCIsImh0bWwiLCJjbGljayIsIlJlZ2lzdHJhdGlvbkZvcm0iLCJ2YWwiLCJyZWdpc3RyYXRpb25EYXRhIiwiYWNjb3VudE5hbWUiLCJwYXNzd29yZCIsInNjcmFwZVJlZ2lzdHJhdGlvbkZvcm0iLCJsb2dpbkRhdGEiLCJzY3JhcGVMb2dpbkluZm8iLCJDaGFyYWN0ZXJTZWxlY3QiLCJoaWRlIiwic2hvdyIsImNvdW50IiwiY2hhckRhdGEiLCIkZGF0YUFjdG9ycyIsImFwcGVuZCIsInNldHVwU3RhcnRpbmdNZW1iZXJzIiwiJGRhdGFTeXN0ZW0iLCJzdGFydE1hcElkIiwicmVzZXJ2ZVRyYW5zZmVyIiwic3RhcnRYIiwic3RhcnRZIiwiZnJhbWVDb3VudCIsImdvdG8iLCJOZXdDaGFyYWN0ZXIiLCJydW5Mb2FkZWRGaWxlIiwiYXNzaWduIiwiJGdhbWVBY3RvcnMiLCJzY3JhcGVDaGFyTmFtZSIsImxvYWRpbmdTY3JlZW4iLCJfYmFja1Nwcml0ZTEiLCJTcHJpdGUiLCJJbWFnZU1hbmFnZXIiLCJsb2FkVGl0bGUxIiwidGl0bGUxTmFtZSIsIl9iYWNrU3ByaXRlMiIsImxvYWRUaXRsZTIiLCJ0aXRsZTJOYW1lIiwiY2VudGVyU3ByaXRlIiwiY3JlYXRlRm9yZWdyb3VuZCIsIl9nYW1lVGl0bGVTcHJpdGUiLCJCaXRtYXAiLCJ3aWR0aCIsImhlaWdodCIsIm9wdERyYXdUaXRsZSIsImRyYXdHYW1lVGl0bGUiLCJtYXhXaWR0aCIsInRleHQiLCJnYW1lVGl0bGUiLCJiaXRtYXAiLCJvdXRsaW5lQ29sb3IiLCJvdXRsaW5lV2lkdGgiLCJmb250U2l6ZSIsImRyYXdUZXh0Iiwic3ByaXRlIiwiYW5jaG9yIiwicGxheVRpdGxlTXVzaWMiLCJBdWRpb01hbmFnZXIiLCJwbGF5QmdtIiwidGl0bGVCZ20iLCJzdG9wQmdzIiwic3RvcE1lIiwiU2NlbmVfQm9vdCIsIlNvdW5kTWFuYWdlciIsInByZWxvYWRJbXBvcnRhbnRTb3VuZHMiLCJzZXR1cEJhdHRsZVRlc3QiLCJzZXR1cEV2ZW50VGVzdCIsImNoZWNrUGxheWVyTG9jYXRpb24iLCJzZXR1cE5ld0dhbWUiLCJ1cGRhdGVEb2N1bWVudFRpdGxlIiwiX29uS2V5RG93biIsIl9zaG91bGRQcmV2ZW50RGVmYXVsdCIsInByZXZlbnREZWZhdWx0Iiwia2V5Q29kZSIsImNsZWFyIiwiYnV0dG9uTmFtZSIsImtleU1hcHBlciIsIl9jdXJyZW50U3RhdGUiLCJ0YXJnZXQiLCJpcyJdLCJtYXBwaW5ncyI6IndCQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUEwREEsT0FyREFGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4s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RyxVQUNiSCxhQUFhSSxVQUloQkMsV0FBV3JWLFVBQVVrQyxNQUFRLFdBQ3pCbU4sV0FBV3JQLFVBQVVrQyxNQUFNM0QsS0FBS29DLE1BQ2hDMlUsYUFBYUMseUJBQ1Q5VSxZQUFZd0gsZ0JBQ1p4SCxZQUFZK1Usa0JBQ1psUyxhQUFhd1AsS0FBS3JQLGVBQ1hoRCxZQUFZeUgsZUFDbkJ6SCxZQUFZZ1YsaUJBQ1puUyxhQUFhd1AsS0FBS2pILGFBRWxCbEwsS0FBSytVLHNCQUNMalYsWUFBWWtWLGVBQ1pyUyxhQUFhd1AsS0FBSzNELElBRXRCeE8sS0FBS2lWLHVCQVVUeEcsTUFBTXlHLFdBQWEsU0FBU2xILEdBQ3BCaE8sS0FBS21WLHNCQUFzQm5ILElBQzNCQSxFQUFNb0gsaUJBRVksTUFBbEJwSCxFQUFNcUgsU0FDTnJWLEtBQUtzVixRQUVULElBQUlDLEVBQWF2VixLQUFLd1YsVUFBVXhILEVBQU1xSCxTQUNsQ0UsSUFDQXZWLEtBQUt5VixjQUFjRixJQUFjLElBVXpDOUcsTUFBTTBHLHNCQUF3QixTQUFTM1IsR0FDbkMsT0FBUUEsRUFBRTZSLFNBQ1QsS0FBSyxFQUNKLEdBQUl0USxFQUFFdkIsRUFBRWtTLFFBQVFDLEdBQUcsbUJBQ2xCLE1BQ0YsS0FBSyxHQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0QsT0FBTyxFQUVaLE9BQU8iLCJmaWxlIjoiT25saW5lU3lzdGVtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHtHYW1lX05ldHdvcmt9IGZyb20gXCIuL29ubGluZUNvcmVcIjtcclxuaW1wb3J0IHtPbmxpbmVfUGFydHl9IGZyb20gXCIuL29ubGluZVBhcnR5XCI7XHJcbmltcG9ydCAqIGFzIEJyb2FkY2FzdGVyIGZyb20gXCIuL29ubGluZU1hcEJyb2FkY2FzdGVyXCI7XHJcbmltcG9ydCAqIGFzIExvZ2luUG9ydGFsIGZyb20gXCIuL2xvZ2luUG9ydGFsXCI7XHJcbmV4cG9ydCB7JGdhbWVOZXR3b3JrLCAkb25saW5lUGFydHl9O1xyXG5cclxudmFyICRnYW1lTmV0d29yayA9IG51bGw7XHJcbnZhciAkb25saW5lUGFydHkgPSBudWxsO1xyXG5cclxubGV0IE1hZ2VDb3JlQ3JlYXRlR2FtZU9iaiA9IERhdGFNYW5hZ2VyLmNyZWF0ZUdhbWVPYmplY3RzO1xyXG5EYXRhTWFuYWdlci5jcmVhdGVHYW1lT2JqZWN0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIE1hZ2VDb3JlQ3JlYXRlR2FtZU9iai5jYWxsKHRoaXMpO1xyXG4gICAgJGdhbWVOZXR3b3JrID0gJGdhbWVOZXR3b3JrIHx8IG5ldyBHYW1lX05ldHdvcmsoKTtcclxuICAgICRvbmxpbmVQYXJ0eSA9ICRvbmxpbmVQYXJ0eSB8fCBuZXcgT25saW5lX1BhcnR5KCk7XHJcbn07IiwidmFyIEltcG9ydGVkID0gSW1wb3J0ZWQgfHwge307XHJcbkltcG9ydGVkLk9ubGluZUNvcmUgPSB0cnVlO1xyXG5cclxuaW1wb3J0IHskZ2FtZU5ldHdvcmssICRvbmxpbmVQYXJ0eX0gZnJvbSBcIi4vb25saW5lU3lzdGVtXCJcclxuZXhwb3J0IHtHYW1lX05ldHdvcmt9O1xyXG5cclxuICAgIC8qOlxyXG4gICAgICogQHBsdWdpbmRlc2MgUGx1Z2luIHRvIHN1cHBvcnQgb25saW5lIHBsYXkuXHJcbiAgICAgKiBAYXV0aG9yIEdhcnJldHQgV2FyZFxyXG4gICAgICpcclxuICAgICAqIEBoZWxwIFRCRFxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBHYW1lX05ldHdvcmsoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmFwaVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpJztcclxuICAgICAgICB0aGlzLnRva2VuID0gJyc7XHJcbiAgICAgICAgdGhpcy51c2VyRW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMudXNlckFjY291bnROYW1lID0gXCJcIjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNYXBJZCA9IDA7IFxyXG4gICAgICAgIHRoaXMubWFwQ29ubmVjdGlvbiA9IHt9O1xyXG4gICAgICAgIHRoaXMubmV0d29ya01hcEV2ZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZ2FtZV9sb2FkZWQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5jb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBjb25uZWN0aW9uID0gbmV3IHNpZ25hbFIuSHViQ29ubmVjdGlvbkJ1aWxkZXIoKVxyXG4gICAgICAgIC53aXRoVXJsKFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2dhbWVNYXBIdWJcIilcclxuICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0ICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIk5ld1BsYXllck9uTWFwXCIsIGZ1bmN0aW9uIChwbGF5ZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnggPT09IDAgfHwgZGF0YS55ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEueCA9IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEueSA9IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdOZXR3b3JrUGxheWVyID0gJGdhbWVNYXAuYWRkTmV0d29ya1BsYXllcihkYXRhLngsIGRhdGEueSwgZGF0YS5hY2NvdW50VXNlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXSA9IG5ld05ldHdvcmtQbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5Lm1lbWJlcnMucHVzaChuZXdOZXR3b3JrUGxheWVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBpbmdEYXRhID0gR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBpbmdEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIlBsYXllck1hcFVwZGF0ZVwiLCBmdW5jdGlvbiAocGxheWVyRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldCB8fCBTY2VuZU1hbmFnZXIuX3NjZW5lIGluc3RhbmNlb2YgU2NlbmVfQmF0dGxlKSB7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tkYXRhLmFjY291bnRVc2VyTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld05ldHdvcmtQbGF5ZXIgPSAkZ2FtZU1hcC5hZGROZXR3b3JrUGxheWVyKGRhdGEueCwgZGF0YS55LCBkYXRhLmFjY291bnRVc2VyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXSA9IG5ld05ldHdvcmtQbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5tZW1iZXJzLnB1c2gobmV3TmV0d29ya1BsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5VcGRhdGVOZXR3b3JrUGxheWVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIlJlbW92ZVBsYXllckZyb21NYXBcIiwgZnVuY3Rpb24gKHBsYXllckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RGF0YUV2ZW50SW5kZXggPSAwOyBcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRkYXRhTWFwLmV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldLm5hbWUgPT09IGRhdGEuYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YUV2ZW50SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRkYXRhTWFwLmV2ZW50cy5zcGxpY2UodGFyZ2V0RGF0YUV2ZW50SW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWFwRXZlbnRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAkZ2FtZU1hcC5fZXZlbnRzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5fYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5fYWNjb3VudFVzZXJOYW1lID09PSBkYXRhLmFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1hcEV2ZW50SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTWFwLl9ldmVudHMuc3BsaWNlKHRhcmdldE1hcEV2ZW50SW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbZGF0YS5hY2NvdW50VXNlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldC5jbGVhck5ldHdvcmtQbGF5ZXIoZGF0YS5hY2NvdW50VXNlck5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DYXB0dXJlTG9naW5SZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZURhdGEpIHtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsudG9rZW4gPSByZXNwb25zZURhdGEudG9rZW47XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCA9IHJlc3BvbnNlRGF0YS5lbWFpbDtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lID0gcmVzcG9uc2VEYXRhLnVzZXI7XHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5HZXRQbGF5ZXJDYXN0ZXJEYXRhID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgcGxheWVyRGF0YSA9IHtcclxuICAgICAgICAgICAgYWNjb3VudFVzZXJOYW1lOiAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246ICRnYW1lUGxheWVyLl9kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIHg6ICRnYW1lUGxheWVyLl94LFxyXG4gICAgICAgICAgICB5OiAkZ2FtZVBsYXllci5feSxcclxuICAgICAgICAgICAgbW92ZVNwZWVkOiAkZ2FtZVBsYXllci5fbW92ZVNwZWVkLFxyXG4gICAgICAgICAgICBtb3ZlRnJlcXVlbnp5OiAkZ2FtZVBsYXllci5fbW92ZUZyZXF1ZW5jeSxcclxuICAgICAgICAgICAgY2hhcmFjdGVyTmFtZTogJGdhbWVQbGF5ZXIuX2NoYXJhY3Rlck5hbWUsXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckluZGV4OiAkZ2FtZVBsYXllci5fY2hhcmFjdGVySW5kZXhcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBsYXllckRhdGE7XHJcbiAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5Mb2FkR2FtZUZpbGVzRnJvbVNlcnZlciA9IGZ1bmN0aW9uKHVzZXJFbWFpbCwgY2FsbGJhY2spIHtcclxuICAgICAgICAkLmdldCgkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9HYW1lRGF0YS8ke3VzZXJFbWFpbH1gLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdMb2FkIGZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLlNhdmVHYW1lVG9TZXJ2ZXIgPSBmdW5jdGlvbihHYW1lRmlsZSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvR2FtZURhdGEvU2F2ZUdhbWVgLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBVVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBHYW1lRmlsZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLlNhdmVOZXdHYW1lVG9TZXJ2ZXIgPSBmdW5jdGlvbihHYW1lRmlsZSwgb3duZXJFbWFpbCkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvR2FtZURhdGEvU2F2ZU5ld0dhbWUvJHtvd25lckVtYWlsfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBHYW1lRmlsZSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNyZWF0ZU5ld1VzZXIgPSBmdW5jdGlvbih1c2VyRGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0FjY291bnRzL3JlZ2lzdGVyYCxcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkxvZ1VzZXJJbiA9IGZ1bmN0aW9uKHVzZXJEYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvQWNjb3VudHMvbG9naW5gLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay51c2VyRW1haWwgPSByLmVtYWlsO1xyXG4gICAgICAgICAgICAgICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DYXB0dXJlTG9naW5SZXNwb25zZShyKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ2xhc3NTZWxlY3QgPSBmdW5jdGlvbiAoc2F2ZWZpbGUsIGNsYXNzQ2hvaWNlLCBjaGFyTmFtZSkge1xyXG5cclxuICAgICAgICBpZiAoY2xhc3NDaG9pY2UgPT09ICdDbGFuc21lbicpIHtcclxuICAgICAgICAgICAgbGV0IG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjoxLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMV8xXCIsXCJjaGFyYWN0ZXJJbmRleFwiOjAsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjFcIixcImNsYXNzSWRcIjoxLFwiZXF1aXBzXCI6WzEsMSwyLDMsMF0sXCJmYWNlSW5kZXhcIjowLFwiZmFjZU5hbWVcIjpcIkFjdG9yMVwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICBcclxuICAgICAgICAgICAgc2F2ZWZpbGVbJyRkYXRhQWN0b3JzJ10gPSBuZXdBY3RvcjtcclxuICAgICAgICB9IGVsc2UgaWYgKGNsYXNzQ2hvaWNlID09PSAnQmlnIEhhdCcpIHtcclxuICAgICAgICAgICAgbGV0IG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjoyLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMl81XCIsXCJjaGFyYWN0ZXJJbmRleFwiOjQsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjJcIixcImNsYXNzSWRcIjozLFwiZXF1aXBzXCI6WzMsMCwwLDAsMF0sXCJmYWNlSW5kZXhcIjo0LFwiZmFjZU5hbWVcIjpcIkFjdG9yMlwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXVxyXG5cclxuICAgICAgICAgICAgc2F2ZWZpbGVbJyRkYXRhQWN0b3JzJ10gPSBuZXdBY3RvcjtcclxuICAgICAgICB9IGVsc2UgaWYgKGNsYXNzQ2hvaWNlID09PSAnRGl2aW5lJykge1xyXG4gICAgICAgICAgICBsZXQgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjQsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IyXzRcIixcImNoYXJhY3RlckluZGV4XCI6MyxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yM1wiLFwiY2xhc3NJZFwiOjQsXCJlcXVpcHNcIjpbNCwwLDAsMCwwXSxcImZhY2VJbmRleFwiOjMsXCJmYWNlTmFtZVwiOlwiQWN0b3IzXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBzYXZlZmlsZVsnJGRhdGFBY3RvcnMnXSA9IG5ld0FjdG9yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdNZXJjZW5hcnknKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6MyxcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjFfN1wiLFwiY2hhcmFjdGVySW5kZXhcIjo2LFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IxXCIsXCJjbGFzc0lkXCI6MixcImVxdWlwc1wiOlsyLDAsMCwwLDBdLFwiZmFjZUluZGV4XCI6NixcImZhY2VOYW1lXCI6XCJBY3RvcjFcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF1cclxuXHJcbiAgICAgICAgICAgIHNhdmVmaWxlWyckZGF0YUFjdG9ycyddID0gbmV3QWN0b3I7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2F2ZWZpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DYXB0dXJlQ29yZUdhbWVNZXRhRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuZGF0YUZpbGVzID0gW107XHJcbiAgICAgICAgdmFyIHRlc3QgPSBEYXRhTWFuYWdlci5pc0JhdHRsZVRlc3QoKSB8fCBEYXRhTWFuYWdlci5pc0V2ZW50VGVzdCgpO1xyXG4gICAgICAgIHZhciBwcmVmaXggPSB0ZXN0ID8gJ1Rlc3RfJyA6ICcnO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgRGF0YU1hbmFnZXIuX2RhdGFiYXNlRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBEYXRhTWFuYWdlci5fZGF0YWJhc2VGaWxlc1tpXS5uYW1lO1xyXG4gICAgICAgICAgICB2YXIgc3JjID0gRGF0YU1hbmFnZXIuX2RhdGFiYXNlRmlsZXNbaV0uc3JjO1xyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsuZGF0YUZpbGVzLnB1c2goW25hbWUsIHByZWZpeCArIHNyY10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoRGF0YU1hbmFnZXIuaXNFdmVudFRlc3QoKSkge1xyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsuZGF0YUZpbGVzLnB1c2goWyckdGVzdEV2ZW50JywgcHJlZml4ICsgJ0V2ZW50Lmpzb24nXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ3JlYXRlTmV3U2F2ZUZpbGUgPSBmdW5jdGlvbiAob3duZXJFbWFpbCwgY2xhc3NDaG9pY2UsIGNhbGxCYWNrLCBjaGFyTmFtZSkge1xyXG5cclxuICAgICAgICBsZXQgc2F2ZUZpbGUgPSB7fTtcclxuICAgICAgICBsZXQgY291bnRlciA9IDA7XHJcbiAgICAgICAgbGV0IGNhcCA9ICRnYW1lTmV0d29yay5kYXRhRmlsZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuZGF0YUZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gJ2RhdGEvJyArIGZbMV07XHJcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xyXG4gICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZSgnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA8IDQwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgKysgO1xyXG4gICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlW2ZbMF1dID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciA9PT0gY2FwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgR2FtZUZpbGUgPSAkZ2FtZU5ldHdvcmsuQ2xhc3NTZWxlY3Qoc2F2ZUZpbGUsIGNsYXNzQ2hvaWNlLCBjaGFyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkoR2FtZUZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9HYW1lRGF0YS9TYXZlTmV3R2FtZS8ke293bmVyRW1haWx9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToganNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbEJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcisrXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBEYXRhTWFuYWdlci5fbWFwTG9hZGVyIHx8IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuX2Vycm9yVXJsID0gRGF0YU1hbmFnZXIuX2Vycm9yVXJsIHx8IHVybDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLlBvcHVsYXRlRGF0YWJhc2UgPSBmdW5jdGlvbiAoZGIpIHtcclxuICAgICAgICBmb3IgKGxldCBkYXRhVHlwZSBpbiBkYikge1xyXG4gICAgICAgICAgICB3aW5kb3dbZGF0YVR5cGVdID0gZGJbZGF0YVR5cGVdO1xyXG4gICAgICAgICAgICBEYXRhTWFuYWdlci5vbkxvYWQod2luZG93W2RhdGFUeXBlXSkgXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuIiwiZXhwb3J0IHtPbmxpbmVfUGFydHl9O1xyXG5pbXBvcnQgeyRvbmxpbmVQYXJ0eSwgJGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuaW1wb3J0IHtQYXJ0eVBvcnRhbFdpbmRvd30gZnJvbSBcIi4vcGFydHlQb3J0YWxcIjtcclxuXHJcbmZ1bmN0aW9uIE9ubGluZV9QYXJ0eSgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLm1lbWJlcnMgPSBbXTtcclxuICAgIHRoaXMucGFydHlDb25uZWN0aW9uID0ge307XHJcbiAgICB0aGlzLmlzSG9zdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wYXJ0aWVzU2Vla2luZyA9IFtdO1xyXG4gICAgdGhpcy5wbGF5ZXJPcHRpb25zID0gW107XHJcbiAgICB0aGlzLnBhcnR5T3B0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5jdXJyZW50UGFydHlQb3J0YWwgPSB7fTsgXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLm1ha2VOZXdQYXJ0eUNvbm5lY3Rpb24gPSBmdW5jdGlvbiAoYXNIb3N0KSB7XHJcblxyXG4gICAgbGV0IGNvbm5lY3Rpb24gPSBuZXcgc2lnbmFsUi5IdWJDb25uZWN0aW9uQnVpbGRlcigpXHJcbiAgICAud2l0aFVybChcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9vbmxpbmVQYXJ0eUh1YlwiKVxyXG4gICAgLmJ1aWxkKCk7XHJcblxyXG4gICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5wYXJ0eUNvbm5lY3Rpb24uc3RhcnQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhc0hvc3QpIHtcclxuICAgICAgICAgICAgICAgIGxldCBwaW5nID0gXCJoZWxsb1wiO1xyXG4gICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb1BhcnR5QXNIb3N0XCIsIHBpbmcpO1xyXG4gICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5vbihcIk5ld1BhcnR5V2l0aEhvc3RcIiwgZnVuY3Rpb24gKHBvbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9uZyA9PSBcImhlbGxvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LmlzSG9zdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIH0pKCk7XHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLm1ha2VPbmxpbmVQYXJ0eVBvcnRhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICRvbmxpbmVQYXJ0eS5wb3B1bGF0ZVBsYXllck9wdGlvbnMoKTtcclxuICAgIGxldCBwYXJ0eVBvcnRhbCA9IG5ldyBQYXJ0eVBvcnRhbFdpbmRvdygzMDAsIDMwMCk7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsID0gcGFydHlQb3J0YWw7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsLmNsZWFyQ29tbWFuZExpc3QoKTtcclxuICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwubWFrZUNvbW1hbmRMaXN0KCk7XHJcbiAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsLnNldEhhbmRsZXIoJ2FkZFBsYXllclRvUGFydHknLCB0aGlzLmFkZFBsYXllclRvUGFydHkuYmluZCh0aGlzKSk7ICAgIFxyXG4gICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5hZGRDaGlsZChwYXJ0eVBvcnRhbCk7XHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLnBvcHVsYXRlUGxheWVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBwbGF5ZXJzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucyA9IFtdO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHBsYXllcnMpIHtcclxuICAgICAgICBsZXQgcGxheWVyID0gcGxheWVyc1trZXldO1xyXG4gICAgICAgICRvbmxpbmVQYXJ0eS5wbGF5ZXJPcHRpb25zLnB1c2gocGxheWVyKTtcclxuICAgIH07XHJcbn07XHJcblxyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5hZGRQbGF5ZXJUb1BhcnR5ID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgY29uc29sZS5sb2coJ3Njb3JlJyk7XHJcbiAgICBsZXQgY3VycmVudEV4dGVudCA9IHRoaXMuY3VycmVudFBhcnR5UG9ydGFsLmN1cnJlbnRFeHQoKTtcclxuICAgIFxyXG59O1xyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5uZXdQYXJ0eUFzSG9zdCA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmpvaW5QYXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbn07XHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmNyZWF0ZU5ld09ubGluZVBhcnR5TWVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG5cclxufTsiLCIgICAgZXhwb3J0IHtQYXJ0eVBvcnRhbFdpbmRvd307XHJcbiAgICBpbXBvcnQgeyRvbmxpbmVQYXJ0eSwgJGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19Db21tYW5kLnByb3RvdHlwZSk7XHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0eVBvcnRhbFdpbmRvdztcclxuXHJcbiAgICBmdW5jdGlvbiBQYXJ0eVBvcnRhbFdpbmRvdyh4LCB5KSB7XHJcbiAgICAgICAgV2luZG93X0NvbW1hbmQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCB4LCB5LCAxMDAsIDEwMCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZUNvbW1hbmRMaXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMubWFrZUNoYXJhY3RlckNvbW1hbmRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBsYXllck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBwbGF5ZXJzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHBsYXllcnMpIHtcclxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHBsYXllcnNba2V5XTtcclxuICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMucHVzaChwbGF5ZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBhcnR5T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHBhcnRpZXMgPSAkb25saW5lUGFydHkub3BlblBhcnRpZXM7XHJcbiAgICAgICAgcGFydGllcy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LnBhcnR5T3B0aW9ucy5wdXNoKHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZUNoYXJhY3RlckNvbW1hbmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgICAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFkZENvbW1hbmQoYCR7cC5fYWNjb3VudFVzZXJOYW1lfWAsICdhZGRQbGF5ZXJUb1BhcnR5JywgdHJ1ZSwgYCR7cC5fYWNjb3VudFVzZXJOYW1lfWApXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuIiwiICAgIGltcG9ydCB7JGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuICAgIGV4cG9ydCB7U2NlbmVfTWFwLCBTcHJpdGVzZXRfTWFwLCBHYW1lX1BsYXllciwgR2FtZV9NYXAsIEdhbWVfTmV0d29ya1BsYXllcn1cclxuXHJcbiAgICBcclxuICAgIC8vIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIGJyb2FkY2F0IHBsYXllciBsb2NhdGlvbi9zcHJpdGUgaW5mbyB0byBvdGhlciBwbGF5ZXJzIGluIG1hcCBncm91cFxyXG4gICAgLy8gYXdhaXQgY29ubmVjdGlvbi5pbnZva2UoXCJCcm9hZGNhc3RUb01hcEdyb3VwXCIsIG1hcEdyb3VwTmFtZSwgZ3JvdXBNc2cpO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byBhZGQgcGxheWVyIHRvIG1hcCBncm91cCBiYXNlZCBvbiBtYXAgbmFtZVxyXG4gICAgLy8gYXdhaXQgY29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb01hcEdyb3VwXCIsIG1hcEdyb3VwTmFtZSk7XHJcbiAgICBcclxuICAgIC8vIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbW92ZSBwbGF5ZXIgZnJvbSBtYXAgZ3JvdXBzICh3aGVuIHBsYXllciBsZWF2ZXMgbWFwIHJvb20pXHJcbiAgICAvLyBhd2FpdCBjb25uZWN0aW9uLmludm9rZShcIlJlbW92ZUZyb21NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUpO1xyXG4gICAgXHJcbiAgICAvLyB2YXJpYWJsZSB0byBob2xkIGRhdGEgb24gb3RoZXIgcGxheWVycyBpbiBtYXBHcm91cFxyXG4gICAgXHJcbiAgICAvLyBvdmVybG9hZCBtYXAgc29ja2V0IGNyZWF0aW9uIGZ1bmN0aW9uIHRvIGhhbmRsZSBhZGRpbmcgcGxheWVyIHRvIG1hcCBncm91cCBpbml0aWFsbHkgYW5kIHRvXHJcbiAgICAvLyBkZWZpbmUgZnVuY3Rpb24gdXNlZCB0byBicm9hZGNhc3QgaW5jb21pbmcgcGxheWVyIGRhdGEgdG8gbWFwXHJcblxyXG4gICAgXHJcbiAgICBjb25zdCBvbk1hcExvYWRBTGlhcyA9IFNjZW5lX01hcC5wcm90b3R5cGUub25NYXBMb2FkZWQ7XHJcbiAgICBTY2VuZV9NYXAucHJvdG90eXBlLm9uTWFwTG9hZGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG9uTWFwTG9hZEFMaWFzLmNhbGwodGhpcyk7XHJcblxyXG4gICAgICAgIGlmICgkZ2FtZU1hcC5fbWFwSWQgIT09ICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQpIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBwbGF5ZXJEYXRhID0gJGdhbWVOZXR3b3JrLkdldFBsYXllckNhc3RlckRhdGEoKTtcclxuXHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIlJlbW92ZUZyb21NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXREYXRhRXZlbnRJbmRleGVzID0gW107IFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRkYXRhTWFwLmV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRkYXRhTWFwLmV2ZW50c1tpXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZGF0YU1hcC5ldmVudHNbaV0uX2lzTmV0d29ya1BsYXllckV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGFFdmVudEluZGV4ZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0RGF0YUV2ZW50SW5kZXhlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXREYXRhRXZlbnRJbmRleGVzLmZvckVhY2goaSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGRhdGFNYXAuZXZlbnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHRhcmdldE1hcEV2ZW50SW5kZXhlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8ICRnYW1lTWFwLl9ldmVudHMubGVuZ3RoOyBpICsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5fYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRnYW1lTWFwLl9ldmVudHNbaV0uX2lzTmV0d29ya1BsYXllckV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1hcEV2ZW50SW5kZXhlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmICh0YXJnZXRNYXBFdmVudEluZGV4ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0TWFwRXZlbnRJbmRleGVzLmZvckVhY2goaSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVNYXAuX2V2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBuZXRFdmVudHNUb1JlbW92ZSA9IFtdO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBldnMgPSAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50cztcclxuICAgIFxyXG4gICAgICAgICAgICBmb3IobGV0IG5ldEV2ZW50IGluIGV2cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGV2cy5oYXNPd25Qcm9wZXJ0eShuZXRFdmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZzW25ldEV2ZW50XS5faXNOZXR3b3JrUGxheWVyRXZlbnQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0RXZlbnRzVG9SZW1vdmUucHVzaChldnNbbmV0RXZlbnRdLl9hY2NvdW50VXNlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKG5ldEV2ZW50c1RvUmVtb3ZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIG5ldEV2ZW50c1RvUmVtb3ZlLmZvckVhY2gobmV0RXZlbnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tuZXRFdmVudF07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5fc3ByaXRlc2V0LmNsZWFyQWxsTmV0d29ya1BsYXllckV2ZW50cygpO1xyXG5cclxuICAgICAgICAgICAgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCA9ICRnYW1lTWFwLl9tYXBJZDtcclxuXHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkFkZFRvTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuZ2FtZV9sb2FkZWQgPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICBTcHJpdGVzZXRfTWFwLnByb3RvdHlwZS5jbGVhck5ldHdvcmtQbGF5ZXIgPSBmdW5jdGlvbihhY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoYXJhY3RlclNwcml0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGV2ZW50ID0gdGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tpXS5fY2hhcmFjdGVyO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuX2FjY291bnRVc2VyTmFtZSA9PT0gYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlbWFwLnJlbW92ZUNoaWxkKHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBTcHJpdGVzZXRfTWFwLnByb3RvdHlwZS5jbGVhckFsbE5ldHdvcmtQbGF5ZXJFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NoYXJhY3RlclNwcml0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGV2ZW50ID0gdGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tpXS5fY2hhcmFjdGVyO1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQuX2lzTmV0d29ya1BsYXllckV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90aWxlbWFwLnJlbW92ZUNoaWxkKHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuVXBkYXRlTmV0d29ya1BsYXllciA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcblxyXG4gICAgICAgIGxldCB1c2VyQWNjb3VudCA9IGRhdGEuYWNjb3VudFVzZXJOYW1lO1xyXG4gICAgICAgIGxldCBuZXRFdmVudHMgPSAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50cztcclxuXHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5zZXRNb3ZlU3BlZWQoZGF0YS5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uc2V0TW92ZUZyZXF1ZW5jeShkYXRhLm1vdmVGcmVxdWVuenkpO1xyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0ubW92ZVN0cmFpZ2h0KGRhdGEuZGlyZWN0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKG5ldEV2ZW50c1t1c2VyQWNjb3VudF0ueCE9PWRhdGEueCB8fCBuZXRFdmVudHNbdXNlckFjY291bnRdLnkhPT1kYXRhLnkpe1xyXG4gICAgICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLnNldFBvc2l0aW9uKGRhdGEueCwgZGF0YS55KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLl9jaGFyYWN0ZXJOYW1lID0gZGF0YS5jaGFyYWN0ZXJOYW1lO1xyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uX2NoYXJhY3RlckluZGV4ID0gZGF0YS5jaGFyYWN0ZXJJbmRleDtcclxuXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIG92ZXJsb2FkIE1WIGZ1bmN0aW9uIHRvIGJyb2FkY2FzdCBwbGF5ZXIgbW92ZW1lbnQgdG8gbWFwIGdyb3VwLiBsb2dpYyB0byBoYW5kbGUgbWFwR3JvdXAgY2hhbmdlcyBhbHNvIGhlcmVcclxuICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5tb3ZlQnlJbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc01vdmluZygpICYmIHRoaXMuY2FuTW92ZSgpKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSB0aGlzLmdldElucHV0RGlyZWN0aW9uKCk7XHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkZ2FtZVRlbXAuY2xlYXJEZXN0aW5hdGlvbigpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCRnYW1lVGVtcC5pc0Rlc3RpbmF0aW9uVmFsaWQoKSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9ICRnYW1lVGVtcC5kZXN0aW5hdGlvblgoKTtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gJGdhbWVUZW1wLmRlc3RpbmF0aW9uWSgpO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gdGhpcy5maW5kRGlyZWN0aW9uVG8oeCwgeSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlTW92ZShkaXJlY3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgIT09ICRnYW1lTWFwLl9tYXBJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJEYXRhID0gJGdhbWVOZXR3b3JrLkdldFBsYXllckNhc3RlckRhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJSZW1vdmVGcm9tTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCA9ICRnYW1lTWFwLl9tYXBJZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBwbGF5ZXJEYXRhID0gJGdhbWVOZXR3b3JrLkdldFBsYXllckNhc3RlckRhdGEoKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgbWFwR3JvdXBOYW1lID0gXCJtYXBSb29tXCIgKyAkZ2FtZU1hcC5fbWFwSWQgXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJCcm9hZGNhc3RUb01hcEdyb3VwXCIsIG1hcEdyb3VwTmFtZSwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFxyXG5cclxuICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5zZWVkTmV3UGxheWVyRXZlbnQgPSBmdW5jdGlvbiAobmV3UGxheWVyWCwgbmV3UGxheWVyWSwgcGxheWVyQWNjb3VudE5hbWUpIHtcclxuICAgICAgICBsZXQgbmV3RXZlbnRJZCA9ICRkYXRhTWFwLmV2ZW50cy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGVtcHR5RXZlbnQgPSBge1wiaWRcIjoke25ld0V2ZW50SWR9LFwibmFtZVwiOlwiJHtwbGF5ZXJBY2NvdW50TmFtZX1cIixcIm5vdGVcIjpcIlwiLFwicGFnZXNcIjpbe1wiY29uZGl0aW9uc1wiOntcImFjdG9ySWRcIjoxLFwiYWN0b3JWYWxpZFwiOmZhbHNlLFwiaXRlbUlkXCI6MSxcIml0ZW1WYWxpZFwiOmZhbHNlLFwic2VsZlN3aXRjaENoXCI6XCJBXCIsXCJzZWxmU3dpdGNoVmFsaWRcIjpmYWxzZSxcInN3aXRjaDFJZFwiOjEsXCJzd2l0Y2gxVmFsaWRcIjpmYWxzZSxcInN3aXRjaDJJZFwiOjEsXCJzd2l0Y2gyVmFsaWRcIjpmYWxzZSxcInZhcmlhYmxlSWRcIjoxLFwidmFyaWFibGVWYWxpZFwiOmZhbHNlLFwidmFyaWFibGVWYWx1ZVwiOjB9LFwiZGlyZWN0aW9uRml4XCI6ZmFsc2UsXCJpbWFnZVwiOntcImNoYXJhY3RlckluZGV4XCI6MCxcImNoYXJhY3Rlck5hbWVcIjpcIlwiLFwiZGlyZWN0aW9uXCI6MixcInBhdHRlcm5cIjowLFwidGlsZUlkXCI6MH0sXCJsaXN0XCI6W3tcImNvZGVcIjowLFwiaW5kZW50XCI6MCxcInBhcmFtZXRlcnNcIjpbXX1dLFwibW92ZUZyZXF1ZW5jeVwiOjMsXCJtb3ZlUm91dGVcIjp7XCJsaXN0XCI6W3tcImNvZGVcIjowLFwicGFyYW1ldGVyc1wiOltdfV0sXCJyZXBlYXRcIjp0cnVlLFwic2tpcHBhYmxlXCI6ZmFsc2UsXCJ3YWl0XCI6ZmFsc2V9LFwibW92ZVNwZWVkXCI6MyxcIm1vdmVUeXBlXCI6MCxcInByaW9yaXR5VHlwZVwiOjAsXCJzdGVwQW5pbWVcIjpmYWxzZSxcInRocm91Z2hcIjpmYWxzZSxcInRyaWdnZXJcIjowLFwid2Fsa0FuaW1lXCI6dHJ1ZX1dLFwieFwiOiR7bmV3UGxheWVyWH0sXCJ5XCI6JHtuZXdQbGF5ZXJZfSxcIm1ldGFcIjp7fSxcIl9pc05ldHdvcmtQbGF5ZXJFdmVudFwiOnRydWV9YDtcclxuICAgICAgICAkZGF0YU1hcC5ldmVudHMucHVzaChKU09OLnBhcnNlKGVtcHR5RXZlbnQpKTtcclxuICAgICAgICByZXR1cm4gbmV3RXZlbnRJZDtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIC8vbG9naWMgdG8gYWRkIG5ldyBwbGF5ZXIgaW5zdGFuY2UgdG8gbmV0d29ya01hcEV2ZW50c1xyXG4gICAgR2FtZV9NYXAucHJvdG90eXBlLmFkZE5ldHdvcmtQbGF5ZXIgPSBmdW5jdGlvbih4LCB5LCBwbGF5ZXJBY2NvdW50TmFtZSkge1xyXG4gICAgICAgIGxldCBuZXdQbGF5ZXJFdmVudElkID0gR2FtZV9QbGF5ZXIucHJvdG90eXBlLnNlZWROZXdQbGF5ZXJFdmVudCh4LCB5LCBwbGF5ZXJBY2NvdW50TmFtZSk7XHJcbiAgICAgICAgbGV0IG5ld1BsYXllck1hcElkID0gdGhpcy5fZXZlbnRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdGhpcy5fZXZlbnRzW25ld1BsYXllck1hcElkXSA9IG5ldyBHYW1lX05ldHdvcmtQbGF5ZXIodGhpcy5fbWFwSWQsIG5ld1BsYXllckV2ZW50SWQsIHgsIHkpO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50c1tuZXdQbGF5ZXJNYXBJZF0uX2FjY291bnRVc2VyTmFtZSA9IHBsYXllckFjY291bnROYW1lO1xyXG4gICAgICAgIHRoaXMuX2V2ZW50c1tuZXdQbGF5ZXJNYXBJZF0uX2lzTmV0d29ya1BsYXllckV2ZW50ID0gdHJ1ZTtcclxuICAgICAgICBTY2VuZU1hbmFnZXIuX3NjZW5lLl9zcHJpdGVzZXQuY3JlYXRlTmV0d29ya1BsYXllcihuZXdQbGF5ZXJNYXBJZCwgcGxheWVyQWNjb3VudE5hbWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8gbG9naWMgdG8gY3JlYXRlIG5ldyBwbGF5ZXIgaW5zdGFuY2UgZm9yIG5ldHdvcmtNYXBFdmVudHNcclxuICAgIFNwcml0ZXNldF9NYXAucHJvdG90eXBlLmNyZWF0ZU5ldHdvcmtQbGF5ZXIgPSBmdW5jdGlvbih0YXJnZXRJbmRleCwgcGxheWVyQWNjb3VudE5hbWUpIHtcclxuICAgICAgICBsZXQgZXZlbnQgPSAkZ2FtZU1hcC5fZXZlbnRzW3RhcmdldEluZGV4XTtcclxuICAgICAgICB2YXIgc0lkID0gdGhpcy5fY2hhcmFjdGVyU3ByaXRlcy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tzSWRdID0gbmV3IFNwcml0ZV9DaGFyYWN0ZXIoZXZlbnQpO1xyXG4gICAgICAgIHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXS5fYWNjb3VudFVzZXJOYW1lID0gcGxheWVyQWNjb3VudE5hbWU7XHJcbiAgICAgICAgdGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tzSWRdLnVwZGF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3RpbGVtYXAuYWRkQ2hpbGQodGhpcy5fY2hhcmFjdGVyU3ByaXRlc1tzSWRdKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gTG9naWMgdG8gY3JlYXRlIGEgbmV3IGNoYXJhY3RlciBpbnN0YW5jZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBicm9hZGNhc3QgdG8gdGhlIG1hcFxyXG4gICAgZnVuY3Rpb24gR2FtZV9OZXR3b3JrUGxheWVyKCkge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBHYW1lX05ldHdvcmtQbGF5ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHYW1lX0V2ZW50LnByb3RvdHlwZSk7XHJcbiAgICBHYW1lX05ldHdvcmtQbGF5ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2FtZV9OZXR3b3JrUGxheWVyO1xyXG4gICAgXHJcbiAgICBHYW1lX05ldHdvcmtQbGF5ZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbihtYXBJZCwgZXZlbnRJZCx4LHkpIHtcclxuICAgICAgICBHYW1lX0V2ZW50LnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyxtYXBJZCxldmVudElkKTtcclxuICAgICAgICB0aGlzLl9pc05ldHdvcmtQbGF5ZXIgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2V0UG9zaXRpb24oeCx5KTtcclxuICAgIH07XHJcbiAgICBcclxuIiwiaW1wb3J0IHskZ2FtZU5ldHdvcmt9IGZyb20gXCIuL29ubGluZVN5c3RlbVwiXHJcbmV4cG9ydCB7UXVlc3REZWx1eGVQb3J0YWwsIElucHV0fVxyXG5cclxuZnVuY3Rpb24gUXVlc3REZWx1eGVQb3J0YWwgKCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTY2VuZV9CYXNlLnByb3RvdHlwZSk7XHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFF1ZXN0RGVsdXhlUG9ydGFsO1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzKTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnJlQmluZElucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBJbnB1dC5pbml0aWFsaXplKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5jcmVhdGUuY2FsbCh0aGlzKTtcclxuICAgIHRoaXMuY3JlYXRlQmFja2dyb3VuZCgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnJlQmluZElucHV0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBJbnB1dC5pbml0aWFsaXplKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgU2NlbmVNYW5hZ2VyLmNsZWFyU3RhY2soKTtcclxuICAgIC8vIHRoaXMucGxheVRpdGxlTXVzaWMoKTtcclxuICAgIHRoaXMuc3RhcnRGYWRlSW4odGhpcy5mYWRlU3BlZWQoKSwgZmFsc2UpO1xyXG4gICAgdGhpcy5Mb2dpbkZvcm0oKTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUudXBkYXRlLmNhbGwodGhpcyk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuaXNCdXN5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gU2NlbmVfQmFzZS5wcm90b3R5cGUuaXNCdXN5LmNhbGwodGhpcyk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUudGVybWluYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS50ZXJtaW5hdGUuY2FsbCh0aGlzKTtcclxuICAgIFNjZW5lTWFuYWdlci5zbmFwRm9yQmFja2dyb3VuZCgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZU5ld1NhdmVGaWxlID0gZnVuY3Rpb24gKG5ld0NoYXJhY3Rlcikge1xyXG5cclxuICAgIGxldCBjb250ZW50cyA9IHt9XHJcblxyXG4gICAgY29udGVudHMuc3lzdGVtICAgICAgID0gJGdhbWVTeXN0ZW07XHJcbiAgICBjb250ZW50cy5zY3JlZW4gICAgICAgPSAkZ2FtZVNjcmVlbjtcclxuICAgIGNvbnRlbnRzLnRpbWVyICAgICAgICA9ICRnYW1lVGltZXI7XHJcbiAgICBjb250ZW50cy5zd2l0Y2hlcyAgICAgPSAkZ2FtZVN3aXRjaGVzO1xyXG4gICAgY29udGVudHMudmFyaWFibGVzICAgID0gJGdhbWVWYXJpYWJsZXM7XHJcbiAgICBjb250ZW50cy5zZWxmU3dpdGNoZXMgPSAkZ2FtZVNlbGZTd2l0Y2hlcztcclxuICAgIGNvbnRlbnRzLmFjdG9ycyAgICAgICA9IG5ld0NoYXJhY3RlcjtcclxuICAgIGNvbnRlbnRzLnBhcnR5ICAgICAgICA9ICRnYW1lUGFydHk7XHJcbiAgICBjb250ZW50cy5tYXAgICAgICAgICAgPSAkZ2FtZU1hcDtcclxuICAgIGNvbnRlbnRzLnBsYXllciAgICAgICA9ICRnYW1lUGxheWVyO1xyXG5cclxuICAgIGxldCBqc29uRGF0YSA9IEpTT04uc3RyaW5naWZ5KGNvbnRlbnRzKTtcclxuXHJcbiAgICByZXR1cm4ganNvbkRhdGE7XHJcblxyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLlJlZ2lzdHJhdGlvblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoJyNFcnJvclByaW50ZXInKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc1dyYXBwZXJcIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzVGV4dFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc1RleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVnaXN0cmF0aW9uIFN1Y2Nlc2Z1bCEgXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExPRyBJTlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICk7XHJcbiAgICAkKCcucmVnaXN0cmF0aW9uU3VjY2Vzc0J1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTG9naW5Gb3JtKCk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuUmVnaXN0cmF0aW9uRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIlJlZ2lzdGVyRm9ybVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0ZXItdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm92aWRlIHlvdXIgZW1haWwgYWRkcmVzcywgYSBkZXNpcmVkIHVzZXIgbmFtZSwgYW5kIGEgcGFzc3dvcmQuIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbWFpbElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImVtYWlsVGV4dFwiIHBsYWNlaG9sZGVyPVwiZW1haWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY291bnROYW1lV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50TmFtZUlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImFjY291bnROYW1lVGV4dFwiIHBsYWNlaG9sZGVyPVwidXNlciBuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYXNzd29yZFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFzc3dvcmRJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJwYXNzd29yZFRleHRcIiB0eXBlPVwicGFzc3dvcmRcIiBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RlckJ1dHRvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0ZXJCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlZ2lzdGVyU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSRUdJU1RFUiBOT1dcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b0xvZ2luQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b0xvZ2luQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b0xvZ2luU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0dJTiBQT1JUQUxcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgIGxldCBzY3JhcGVSZWdpc3RyYXRpb25Gb3JtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBlbWFpbCA9ICQoJy5lbWFpbFRleHQnKS52YWwoKTtcclxuICAgICAgICBsZXQgdXNlcm5hbWUgPSAkKCcuYWNjb3VudE5hbWVUZXh0JykudmFsKCk7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gJCgnLnBhc3N3b3JkVGV4dCcpLnZhbCgpO1xyXG5cclxuICAgICAgICBsZXQgcmVnaXN0cmF0aW9uRGF0YSA9IHtcclxuICAgICAgICAgICAgYWNjb3VudE5hbWU6IHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbFxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHJlZ2lzdHJhdGlvbkRhdGEpO1xyXG4gICAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9O1xyXG5cclxuICAgICQoJy5yZWdpc3RlclN1Ym1pdEJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBzY3JhcGVSZWdpc3RyYXRpb25Gb3JtKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld1VzZXIoZGF0YSwgY29udGV4dC5SZWdpc3RyYXRpb25TdWNjZXNzKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy50b0xvZ2luQnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTG9naW5Gb3JtKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkxvZ2luRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIkxvZ2luRm9ybVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiTG9naW5XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgV2VsY29tZS4gTG9nIEluIGJlbG93LCBvciBjbGljayB0aGUgU2lnbiBVcCBidXR0b24gdG8gY3JlYXRlIGEgbmV3IGFjY291bnQuIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5FbWFpbFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5FbWFpbElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImxvZ2luRW1haWxUZXh0XCIgcGxhY2Vob2xkZXI9XCJlbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5QYXNzd29yZFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5QYXNzd29yZElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImxvZ2luUGFzc3dvcmRUZXh0XCIgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5CdXR0b25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsb2dpblN1Ym1pdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTE9HSU5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b1JlZ2lzdGVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b1JlZ2lzdGVyQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0b1JlZ2lzdGVyU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSUdOIFVQIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gXHJcbiAgICApXHJcblxyXG4gICAgbGV0IHNjcmFwZUxvZ2luSW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgZW1haWwgPSAkKCcubG9naW5FbWFpbFRleHQnKS52YWwoKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmQgPSAkKCcubG9naW5QYXNzd29yZFRleHQnKS52YWwoKTtcclxuXHJcbiAgICAgICAgbGV0IGxvZ2luRGF0YSA9IHtcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxyXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgZGF0YSA9IEpTT04uc3RyaW5naWZ5KGxvZ2luRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmxvZ2luU3VibWl0QnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHNjcmFwZUxvZ2luSW5mbygpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5Mb2dVc2VySW4oZGF0YSwgY29udGV4dC5DaGFyYWN0ZXJTZWxlY3QpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnRvUmVnaXN0ZXJTdWJtaXRCdXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5SZWdpc3RyYXRpb25Gb3JtKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIkNoYXJhY3RlclNlbGVjdFNjcmVlblwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3ZWxjb21lLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgeW91ciBjaGFyYWN0ZXIsIG9yIGNyZWF0ZSBhIG5ldyBvbmUgYnkgY2xpY2tpbmcgdGhlIG5ldyBjaGFyYWN0ZXIgYnV0dG9uLiBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RCdXR0b25zV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyU2VsZWN0QnV0dG9uc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibmV3Q2hhcmFjdGVyQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBORVcgQ0hBUkFDVEVSXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibG9nb3V0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0cgT1VUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWNjb3VudE9wdGlvbnNCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QVElPTlNcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJzVGFibGVXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3RlcnNUYWJsZUNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgc3R5bGU9XCJ3aWR0aDoxMDAlXCIgY2xhc3M9XCJjaGFyYWN0ZXJzVGFibGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+U2VsZWN0PC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+TGV2ZWw8L3RoPiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q2xhc3M8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5DaGFyYWN0ZXIgTmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyc0xvYWRpbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9hZGluZyB5b3VyIGNoYXJhY3RlcnMuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4uL2V4dHJhX2ltYWdlcy9sb2FkaW5nLmdpZlwiIGFsdD1cImxvYWRpbmctZ2lmXCIgaGVpZ2h0PVwiNTBweFwiIHdpZHRoPVwiNTBweFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gXHJcbiAgICApXHJcblxyXG4gICAgJCgnLmNoYXJhY3RlcnNUYWJsZScpLmhpZGUoKTtcclxuXHJcbiAgICBsZXQgcHJpbnRHYW1lcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICQoJy5jaGFyYWN0ZXJzTG9hZGluZycpLmhpZGUoKTtcclxuICAgICAgICAkKCcuY2hhcmFjdGVyc1RhYmxlJykuc2hvdygpO1xyXG4gICAgICAgIGxldCBjb3VudCA9IDE7XHJcbiAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChkID0+IHtcclxuICAgICAgICAgICAgbGV0IGNoYXJEYXRhID0gZC4kZGF0YUFjdG9yc1sxXTtcclxuICAgICAgICAgICAgJCgnLmNoYXJhY3RlcnNUYWJsZScpLmFwcGVuZChgIFxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz1cImdhbWUke2NvdW50fVwiPkNIT09TRTwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+JHtjaGFyRGF0YS5pbml0aWFsTGV2ZWx9PC90ZD4gXHJcbiAgICAgICAgICAgICAgICA8dGQ+JHtjaGFyRGF0YS5hbHRDbGFzc05hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD4ke2NoYXJEYXRhLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICQoYC5nYW1lJHtjb3VudH1gKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICAgICAgICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoJycpXHJcbiAgICAgICAgICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucmVCaW5kSW5wdXQoKTtcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5Qb3B1bGF0ZURhdGFiYXNlKGQpO1xyXG4gICAgICAgICAgICAgICAgRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHMoKTtcclxuICAgICAgICAgICAgICAgICRnYW1lUGFydHkuc2V0dXBTdGFydGluZ01lbWJlcnMoKTtcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSBkLiRkYXRhU3lzdGVtLnN0YXJ0TWFwSWQ7XHJcbiAgICAgICAgICAgICAgICAkZ2FtZVBsYXllci5yZXNlcnZlVHJhbnNmZXIoJGRhdGFTeXN0ZW0uc3RhcnRNYXBJZCxcclxuICAgICAgICAgICAgICAgICAgICAkZGF0YVN5c3RlbS5zdGFydFgsICRkYXRhU3lzdGVtLnN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICBHcmFwaGljcy5mcmFtZUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX01hcCk7XHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsuY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvdW50ICsrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRnYW1lTmV0d29yay5Mb2FkR2FtZUZpbGVzRnJvbVNlcnZlcigkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCBwcmludEdhbWVzKTtcclxuXHJcbiAgICAkKCcubmV3Q2hhcmFjdGVyQnV0dG9uJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTmV3Q2hhcmFjdGVyKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5ydW5Mb2FkZWRGaWxlID0gZnVuY3Rpb24gKGNvbnRlbnRzKSB7XHJcbiAgICBcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVTeXN0ZW0sIGNvbnRlbnRzLnN5c3RlbSk7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lU2NyZWVuLCBjb250ZW50cy5zY3JlZW4pO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZVRpbWVyLCBjb250ZW50cy50aW1lcik7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lU3dpdGNoZXMsIGNvbnRlbnRzLnN3aXRjaGVzKTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVWYXJpYWJsZXMsIGNvbnRlbnRzLnZhcmlhYmxlcyk7XHJcbiAgICBPYmplY3QuYXNzaWduKCRnYW1lU2VsZlN3aXRjaGVzLCBjb250ZW50cy5zZWxmU3dpdGNoZXMpO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZUFjdG9ycywgY29udGVudHMuYWN0b3JzKTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVQYXJ0eSwgY29udGVudHMucGFydHkpO1xyXG4gICAgT2JqZWN0LmFzc2lnbigkZ2FtZU1hcCwgY29udGVudHMubWFwKTtcclxuICAgIE9iamVjdC5hc3NpZ24oJGdhbWVQbGF5ZXIsIGNvbnRlbnRzLnBsYXllcik7XHJcblxyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTmV3Q2hhcmFjdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwiTmV3Q2hhcmFjdGVyU2NyZWVuXCIgY2xhc3M9XCJwYW5lbCBwYW5lbC1wcmltYXJ5XCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZXdDaGFyYWN0ZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmFtZVdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWW91IG11c3QgZW50ZXIgYSBuYW1lIGZvciB5b3VyIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvbmZpcm1OYW1lV2FybmluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdE1haW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvVGV4dElubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW50ZXIgYSBjaGFyYWN0ZXIgbmFtZSBhbmQgc2VsZWN0IHlvdXIgYmFzZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJOYW1lV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyTmFtZUlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJjaGFyYWN0ZXJOYW1lSW5wdXRUZXh0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cImNoYXJhY3RlciBuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xhbnNtYW5DbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsYW5zbWFuQ2xhc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGFuc21lbkJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENMQU5TTUVOXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWdoYXRDbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJpZ2hhdENsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmlnaGF0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQklHIEhBVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGl2aW5lQ2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXZpbkNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGl2aW5lQ2xhc3NCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVZJTkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lcmNlbmFyeUNsYXNzV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVyY2VuYXJ5Q2xhc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtZXJjZW5hcnlDbGFzc0J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FUkNFTkFSWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICAgXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgICQoJy5uYW1lV2FybmluZycpLmhpZGUoKTtcclxuXHJcbiAgICBsZXQgc2NyYXBlQ2hhck5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQoJy5jaGFyYWN0ZXJOYW1lSW5wdXRUZXh0JykudmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmNvbmZpcm1OYW1lV2FybmluZycpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuaGlkZSgpOyBcclxuICAgICAgICAkKCcuY2hhclNlbGVjdE1haW4nKS5zaG93KCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnLmNsYW5zbWVuQnV0dG9uJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY2hhck5hbWUgPSBzY3JhcGVDaGFyTmFtZSgpO1xyXG4gICAgICAgIGlmIChjaGFyTmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAkKCcuY2hhclNlbGVjdE1haW4nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5uYW1lV2FybmluZycpLnNob3coKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgICRnYW1lTmV0d29yay5DYXB0dXJlQ29yZUdhbWVNZXRhRGF0YSgpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5DcmVhdGVOZXdTYXZlRmlsZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQ2xhbnNtZW4nLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmJpZ2hhdEJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0JpZyBIYXQnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5kaXZpbmVDbGFzc0J1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0RpdmluZScsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKSBcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5tZXJjZW5hcnlDbGFzc0J1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ01lcmNlbmFyeScsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKVxyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5sb2FkaW5nU2NyZWVuKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5sb2FkaW5nU2NyZWVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cImxvYWRpbmdTY3JlZW5cIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdTY3JlZW5XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIENyZWF0aW5nIE5ldyBHYW1lLi4uXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOjEycHg7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuLi9leHRyYV9pbWFnZXMvbG9hZGluZy5naWZcIiBhbHQ9XCJsb2FkaW5nLWdpZlwiIGhlaWdodD1cIjgwcHhcIiB3aWR0aD1cIjgwcHhcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTsgICBcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jcmVhdGVCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9iYWNrU3ByaXRlMSA9IG5ldyBTcHJpdGUoSW1hZ2VNYW5hZ2VyLmxvYWRUaXRsZTEoJGRhdGFTeXN0ZW0udGl0bGUxTmFtZSkpO1xyXG4gICAgdGhpcy5fYmFja1Nwcml0ZTIgPSBuZXcgU3ByaXRlKEltYWdlTWFuYWdlci5sb2FkVGl0bGUyKCRkYXRhU3lzdGVtLnRpdGxlMk5hbWUpKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fYmFja1Nwcml0ZTEpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9iYWNrU3ByaXRlMik7XHJcbiAgICAgICAgdGhpcy5jZW50ZXJTcHJpdGUodGhpcy5fYmFja1Nwcml0ZTEpO1xyXG4gICAgdGhpcy5jZW50ZXJTcHJpdGUodGhpcy5fYmFja1Nwcml0ZTIpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlRm9yZWdyb3VuZCgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZUZvcmVncm91bmQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZSA9IG5ldyBTcHJpdGUobmV3IEJpdG1hcChHcmFwaGljcy53aWR0aCwgR3JhcGhpY3MuaGVpZ2h0KSk7XHJcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2dhbWVUaXRsZVNwcml0ZSk7XHJcbiAgICBpZiAoJGRhdGFTeXN0ZW0ub3B0RHJhd1RpdGxlKSB7XHJcbiAgICAgICAgdGhpcy5kcmF3R2FtZVRpdGxlKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuZHJhd0dhbWVUaXRsZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHggPSAyMDtcclxuICAgIHZhciB5ID0gR3JhcGhpY3MuaGVpZ2h0IC8gNDtcclxuICAgIHZhciBtYXhXaWR0aCA9IEdyYXBoaWNzLndpZHRoIC0geCAqIDI7XHJcbiAgICB2YXIgdGV4dCA9ICRkYXRhU3lzdGVtLmdhbWVUaXRsZTtcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZUNvbG9yID0gJ2JsYWNrJztcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAub3V0bGluZVdpZHRoID0gODtcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAuZm9udFNpemUgPSA3MjtcclxuICAgIHRoaXMuX2dhbWVUaXRsZVNwcml0ZS5iaXRtYXAuZHJhd1RleHQodGV4dCwgeCwgeSwgbWF4V2lkdGgsIDQ4LCAnY2VudGVyJyk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY2VudGVyU3ByaXRlID0gZnVuY3Rpb24oc3ByaXRlKSB7XHJcbiAgICBzcHJpdGUueCA9IEdyYXBoaWNzLndpZHRoIC8gMjtcclxuICAgIHNwcml0ZS55ID0gR3JhcGhpY3MuaGVpZ2h0IC8gMjtcclxuICAgIHNwcml0ZS5hbmNob3IueCA9IDAuNTtcclxuICAgIHNwcml0ZS5hbmNob3IueSA9IDAuNTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5wbGF5VGl0bGVNdXNpYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgQXVkaW9NYW5hZ2VyLnBsYXlCZ20oJGRhdGFTeXN0ZW0udGl0bGVCZ20pO1xyXG4gICAgQXVkaW9NYW5hZ2VyLnN0b3BCZ3MoKTtcclxuICAgIEF1ZGlvTWFuYWdlci5zdG9wTWUoKTtcclxufTtcclxuXHJcblxyXG5cdFNjZW5lX0Jvb3QucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcblx0ICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLnN0YXJ0LmNhbGwodGhpcyk7XHJcblx0ICAgIFNvdW5kTWFuYWdlci5wcmVsb2FkSW1wb3J0YW50U291bmRzKCk7XHJcblx0ICAgIGlmIChEYXRhTWFuYWdlci5pc0JhdHRsZVRlc3QoKSkge1xyXG5cdCAgICAgICAgRGF0YU1hbmFnZXIuc2V0dXBCYXR0bGVUZXN0KCk7XHJcblx0ICAgICAgICBTY2VuZU1hbmFnZXIuZ290byhTY2VuZV9CYXR0bGUpO1xyXG5cdCAgICB9IGVsc2UgaWYgKERhdGFNYW5hZ2VyLmlzRXZlbnRUZXN0KCkpIHtcclxuXHQgICAgICAgIERhdGFNYW5hZ2VyLnNldHVwRXZlbnRUZXN0KCk7XHJcblx0ICAgICAgICBTY2VuZU1hbmFnZXIuZ290byhTY2VuZV9NYXApO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgdGhpcy5jaGVja1BsYXllckxvY2F0aW9uKCk7XHJcblx0ICAgICAgICBEYXRhTWFuYWdlci5zZXR1cE5ld0dhbWUoKTtcclxuXHQgICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFF1ZXN0RGVsdXhlUG9ydGFsKTtcclxuXHQgICAgfVxyXG5cdCAgICB0aGlzLnVwZGF0ZURvY3VtZW50VGl0bGUoKTtcclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly9cclxuXHQvLyBPdmVycmlkaW5nICdJbnB1dC5fb25LZXlEb3duJyB0byBwYXNzICdldmVudCcgYXMgcGFyYW1ldGVyXHJcblx0Ly8gdG8gJ0lucHV0Ll9zaG91bGRQcmV2ZW50RGVmYXVsdCdcclxuXHQvL1xyXG5cclxuXHRJbnB1dC5fb25LZXlEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHQgICAgaWYgKHRoaXMuX3Nob3VsZFByZXZlbnREZWZhdWx0KGV2ZW50KSkge1xyXG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHQgICAgfVxyXG5cdCAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTQ0KSB7ICAgIC8vIE51bWxvY2tcclxuXHQgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHQgICAgfVxyXG5cdCAgICB2YXIgYnV0dG9uTmFtZSA9IHRoaXMua2V5TWFwcGVyW2V2ZW50LmtleUNvZGVdO1xyXG5cdCAgICBpZiAoYnV0dG9uTmFtZSkge1xyXG5cdCAgICAgICAgdGhpcy5fY3VycmVudFN0YXRlW2J1dHRvbk5hbWVdID0gdHJ1ZTtcclxuXHQgICAgfVxyXG5cdH07XHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vXHJcblx0Ly8gT3ZlcnJpZGluZyBJbnB1dC5fc2hvdWxkUHJldmVudERlZmF1bHQgdG8gYWxsb3cgdGhlIHVzZSBvZiB0aGUgJ2JhY2tzcGFjZSBrZXknXHJcblx0Ly8gaW4gaW5wdXQgZm9ybXMuXHJcblx0Ly9cclxuXHJcblx0SW5wdXQuX3Nob3VsZFByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xyXG5cdCAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG5cdFx0ICAgIGNhc2UgODogICAgIC8vIGJhY2tzcGFjZVxyXG5cdFx0ICAgIFx0aWYgKCQoZS50YXJnZXQpLmlzKFwiaW5wdXQsIHRleHRhcmVhXCIpKVxyXG5cdFx0ICAgIFx0XHRicmVhaztcclxuXHRcdCAgICBjYXNlIDMzOiAgICAvLyBwYWdldXBcclxuXHRcdCAgICBjYXNlIDM0OiAgICAvLyBwYWdlZG93blxyXG5cdFx0ICAgIGNhc2UgMzc6ICAgIC8vIGxlZnQgYXJyb3dcclxuXHRcdCAgICBjYXNlIDM4OiAgICAvLyB1cCBhcnJvd1xyXG5cdFx0ICAgIGNhc2UgMzk6ICAgIC8vIHJpZ2h0IGFycm93XHJcblx0XHQgICAgY2FzZSA0MDogICAgLy8gZG93biBhcnJvd1xyXG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gZmFsc2U7XHJcblx0fTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==