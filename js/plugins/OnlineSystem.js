var Plugins=function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$onlineParty=t.$gameNetwork=void 0;var r=a(2),n=a(3);o(a(1)),o(a(5));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}t.$gameNetwork=i,t.$onlineParty=s;var i=null,s=null,c=DataManager.createGameObjects;DataManager.createGameObjects=function(){c.call(this),t.$gameNetwork=i=i||new r.Game_Network,t.$onlineParty=s=s||new n.Online_Party}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_NetworkPlayer=t.Game_Map=t.Game_Player=t.Spriteset_Map=t.Scene_Map=void 0;var r=a(0);t.Scene_Map=Scene_Map,t.Spriteset_Map=Spriteset_Map,t.Game_Player=Game_Player,t.Game_Map=Game_Map,t.Game_NetworkPlayer=o;var n=Scene_Map.prototype.onMapLoaded;function o(){this.initialize.apply(this,arguments)}Scene_Map.prototype.onMapLoaded=function(){if(n.call(this),$gameMap._mapId!==r.$gameNetwork.currentMapId){var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e));for(var t=[],a=0;a<$dataMap.events.length;a++)null!==$dataMap.events[a]&&!0===$dataMap.events[a]._isNetworkPlayerEvent&&t.push(a);t.length>0&&t.forEach(function(e){$dataMap.events.splice(e,1)});for(var o=[],i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&!0===$gameMap._events[i]._isNetworkPlayerEvent&&o.push(i);o.length>0&&o.forEach(function(e){$gameMap._events.splice(e,1)});var s=[],c=r.$gameNetwork.networkMapEvents;for(var p in c)c.hasOwnProperty(p)&&!0===c[p]._isNetworkPlayerEvent&&s.push(c[p]._accountUserName);s.length>0&&s.forEach(function(e){delete r.$gameNetwork.networkMapEvents[e]}),SceneManager._scene._spriteset.clearAllNetworkPlayerEvents(),r.$gameNetwork.currentMapId=$gameMap._mapId,r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e))}r.$gameNetwork.game_loaded=!0},Spriteset_Map.prototype.clearNetworkPlayer=function(e){for(var t=0;t<this._characterSprites.length;t++){this._characterSprites[t]._character._accountUserName===e&&this._tilemap.removeChild(this._characterSprites[t])}},Spriteset_Map.prototype.clearAllNetworkPlayerEvents=function(){for(var e=0;e<this._characterSprites.length;e++){!0===this._characterSprites[e]._character._isNetworkPlayerEvent&&this._tilemap.removeChild(this._characterSprites[e])}},Game_Player.prototype.UpdateNetworkPlayer=function(e){var t=e.accountUserName,a=r.$gameNetwork.networkMapEvents;a[t].setMoveSpeed(e.moveSpeed),a[t].setMoveFrequency(e.moveFrequenzy),a[t].moveStraight(e.direction),a[t].x===e.x&&a[t].y===e.y||a[t].setPosition(e.x,e.y),a[t]._characterName=e.characterName,a[t]._characterIndex=e.characterIndex},Game_Player.prototype.moveByInput=function(){if(!this.isMoving()&&this.canMove()){var e=this.getInputDirection();if(e>0)$gameTemp.clearDestination();else if($gameTemp.isDestinationValid()){var t=$gameTemp.destinationX(),a=$gameTemp.destinationY();e=this.findDirectionTo(t,a)}if(e>0){if(this.executeMove(e),r.$gameNetwork.currentMapId!==$gameMap._mapId){var n=r.$gameNetwork.GetPlayerCasterData();try{r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}r.$gameNetwork.currentMapId=$gameMap._mapId;try{r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}catch(e){console.error(e.toString())}}var o=r.$gameNetwork.GetPlayerCasterData(),i="mapRoom"+$gameMap._mapId;r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup",i,JSON.stringify(o))}}},Game_Player.prototype.seedNewPlayerEvent=function(e,t,a){var r=$dataMap.events.length,n='{"id":'+r+',"name":"'+a+'","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":'+e+',"y":'+t+',"meta":{},"_isNetworkPlayerEvent":true}';return $dataMap.events.push(JSON.parse(n)),r},Game_Map.prototype.addNetworkPlayer=function(e,t,a){var r=Game_Player.prototype.seedNewPlayerEvent(e,t,a),n=this._events.length;return this._events[n]=new o(this._mapId,r,e,t),this._events[n]._accountUserName=a,this._events[n]._isNetworkPlayerEvent=!0,SceneManager._scene._spriteset.createNetworkPlayer(n,a),this._events[n]},Spriteset_Map.prototype.createNetworkPlayer=function(e,t){var a=$gameMap._events[e],r=this._characterSprites.length;this._characterSprites[r]=new Sprite_Character(a),this._characterSprites[r]._accountUserName=t,this._characterSprites[r].update(),this._tilemap.addChild(this._characterSprites[r])},o.prototype=Object.create(Game_Event.prototype),o.prototype.constructor=o,o.prototype.initialize=function(e,t,a,r){Game_Event.prototype.initialize.call(this,e,t),this._isNetworkPlayer=!0,this.setPosition(a,r)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_Network=void 0;var r=a(0),n=(a(1),n||{});function o(){this.initialize.apply(this,arguments)}n.OnlineCore=!0,t.Game_Network=o,o.prototype.initialize=function(){this.apiUrl="http://localhost:5000/api",this.token="",this.userEmail="",this.userAccountName="",this.currentMapId=0,this.mapConnection={},this.networkMapEvents={},this.game_loaded=!1,this.loadedGames=[]},o.prototype.connectMapSocketAfterLogin=function(){var e=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/gameMapHub").build();r.$gameNetwork.mapConnection=e,async function(){try{await r.$gameNetwork.mapConnection.start();var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e)),r.$gameNetwork.mapConnection.on("NewPlayerOnMap",function(e){var t=JSON.parse(e);0!==t.x&&0!==t.y||(t.x=1,t.y=1);var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t);var n=o.prototype.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(n))}),r.$gameNetwork.mapConnection.on("PlayerMapUpdate",function(e){if(SceneManager._scene._spriteset&&!(SceneManager._scene instanceof Scene_Battle)){var t=JSON.parse(e);if(r.$gameNetwork.networkMapEvents[t.accountUserName])Game_Player.prototype.UpdateNetworkPlayer(t);else{var a=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=a,r.$onlineParty.members.push(a),Game_Player.prototype.UpdateNetworkPlayer(t)}}}),r.$gameNetwork.mapConnection.on("RemovePlayerFromMap",function(e){for(var t=JSON.parse(e),a=0,n=0;n<$dataMap.events.length;n++)null!==$dataMap.events[n]&&$dataMap.events[n].name===t.accountUserName&&(a=n);$dataMap.events.splice(a,1);for(var o=0,i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&$gameMap._events[i]._accountUserName===t.accountUserName&&(o=i);$gameMap._events.splice(o,1),delete r.$gameNetwork.networkMapEvents[t.accountUserName],SceneManager._scene._spriteset.clearNetworkPlayer(t.accountUserName)})}catch(e){console.error(e.toString())}}()},o.prototype.CaptureLoginResponse=function(e){r.$gameNetwork.token=e.token,r.$gameNetwork.userEmail=e.email,r.$gameNetwork.userAccountName=e.user},o.prototype.GetPlayerCasterData=function(){return{accountUserName:r.$gameNetwork.userAccountName,direction:$gamePlayer._direction,x:$gamePlayer._x,y:$gamePlayer._y,moveSpeed:$gamePlayer._moveSpeed,moveFrequenzy:$gamePlayer._moveFrequency,characterName:$gamePlayer._characterName,characterIndex:$gamePlayer._characterIndex}},o.prototype.LoadGameFilesFromServer=function(e,t){$.get(r.$gameNetwork.apiUrl+"/GameData/"+e,function(e){console.log(e),t(e)}).fail(function(){window.alert("Load failed")})},o.prototype.CreateNewUser=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/register",type:"POST",data:e,contentType:"application/json",success:function(e){t()},error:function(e){console.log(e)}})},o.prototype.LogUserIn=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/login",type:"POST",data:e,contentType:"application/json",success:function(e){r.$gameNetwork.userEmail=e.email,o.prototype.CaptureLoginResponse(e),t()},error:function(e){console.log(e)}})},o.prototype.ClassSelect=function(e,t,a){var r=[];"Clansmen"===t?r=[null,{altClassName:""+t,id:1,battlerName:"Actor1_1",characterIndex:0,characterName:"Actor1",classId:1,equips:[1,1,2,3,0],faceIndex:0,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Big Hat"===t?r=[null,{altClassName:""+t,id:2,battlerName:"Actor2_5",characterIndex:4,characterName:"Actor2",classId:3,equips:[3,0,0,0,0],faceIndex:4,faceName:"Actor2",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Divine"===t?r=[null,{altClassName:""+t,id:4,battlerName:"Actor2_4",characterIndex:3,characterName:"Actor3",classId:4,equips:[4,0,0,0,0],faceIndex:3,faceName:"Actor3",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]:"Mercenary"===t&&(r=[null,{altClassName:""+t,id:3,battlerName:"Actor1_7",characterIndex:6,characterName:"Actor1",classId:2,equips:[2,0,0,0,0],faceIndex:6,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+a,nickname:"",note:"",profile:""}]),$dataActors=r;var n=new Game_Actors,o=new Game_Actor(1),i=Object.assign(o,r[1]);return r[1]=i,n._data=r,e.actors=n,e.dataActors=$dataActors,e},o.prototype.LoadSavedGame=function(e){DataManager.createGameObjects(),DataManager.extractSaveContents(e),$dataActors=e.dataActors;var t=new Game_Actors,a=new Game_Actor(1);t._data=[null,a],$gameActors=t,r.$gameNetwork.currentMapId=$dataSystem.startMapId,Graphics.frameCount=0,SceneManager.goto(Scene_Map),r.$gameNetwork.connectMapSocketAfterLogin()},o.prototype.CreateNewGame=function(e,t,a,n){var o=DataManager.makeSaveContents(),i=r.$gameNetwork.ClassSelect(o,t,n),s=JsonEx.stringify(i);console.log("yippe"),$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+e,type:"POST",data:s,processData:!1,contentType:"application/json",success:function(){a()}})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Online_Party_Window=t.Online_Party=void 0;var r=a(0),n=a(4);function o(){this.initialize.apply(this,arguments)}function i(){this.initialize.apply(this,arguments)}t.Online_Party=o,t.Online_Party_Window=i,o.prototype.initialize=function(){this.members=[],this.partyConnection={},this.isHost=!1,this.partiesSeeking=[],this.playerOptions=[],this.partyOptions=[],this.currentPartyPortal={}},o.prototype.makeNewPartyConnection=function(e){var t=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/onlinePartyHub").build();r.$onlineParty.partyConnection=t,async function(){try{if(await r.$onlineParty.partyConnection.start(),e){r.$onlineParty.partyConnection.on("NewPartyWithHost",function(e){r.$onlineParty.isHost=!0,$gameMessage.add("Your Party Was Created !!"),SceneManager._scene.addChild(new i)}),r.$onlineParty.partyConnection.invoke("AddToPartyAsHost","party:"+r.$gameNetwork.userAccountName,"hello")}}catch(e){console.error(e.toString()),$gameMessages.add("Your Party failed to create ")}}()},o.prototype.makeOnlinePartyPortal=function(){r.$onlineParty.populatePlayerOptions();var e=new n.PartyPortalWindow(300,300);r.$onlineParty.currentPartyPortal=e,r.$onlineParty.currentPartyPortal.clearCommandList(),r.$onlineParty.currentPartyPortal.makeCommandList(),r.$onlineParty.currentPartyPortal.setHandler("addPlayerToParty",this.addPlayerToParty.bind(this)),SceneManager._scene.addChild(e)},o.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in r.$onlineParty.playerOptions=[],e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},o.prototype.addPlayerToParty=function(e){console.log("score");this.currentPartyPortal.currentExt()},o.prototype.newPartyAsHost=function(){var e={host:r.$gameNetwork.userAccountName,players:[r.$gameNetwork.userAccountName]};r.$onlineParty.partiesSeeking.push(e),r.$onlineParty.makeNewPartyConnection(!0)},i.prototype=Object.create(Window_Base.prototype),i.prototype.constructor=i,i.prototype.initialize=function(){Window_Base.prototype.initialize.call(this,0,0,200,100);this.drawTextEx(""+r.$gameNetwork.userAccountName,2,2)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartyPortalWindow=void 0;var r=a(0);function n(e,t){Window_Command.prototype.initialize.call(this,e,t,100,100)}t.PartyPortalWindow=n,n.prototype=Object.create(Window_Command.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){},n.prototype.makeCommandList=function(){this.makeCharacterCommands()},n.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in e){var a=e[t];r.$onlineParty.playerOptions.push(a)}},n.prototype.populatePartyOptions=function(){var e=this;r.$onlineParty.openParties.forEach(function(t){e.partyOptions.push(t)})},n.prototype.makeCharacterCommands=function(){var e=this;r.$onlineParty.playerOptions.forEach(function(t){e.addCommand(""+t._accountUserName,"addPlayerToParty",!0,""+t._accountUserName)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=t.QuestDeluxePortal=void 0;var r=a(0);function n(){this.initialize.apply(this,arguments)}t.QuestDeluxePortal=n,t.Input=Input,n.prototype=Object.create(Scene_Base.prototype),n.prototype.constructor=n,n.prototype.initialize=function(){Scene_Base.prototype.initialize.call(this)},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.create=function(){Scene_Base.prototype.create.call(this),this.createBackground()},n.prototype.reBindInput=function(){Input.initialize()},n.prototype.start=function(){Scene_Base.prototype.start.call(this),SceneManager.clearStack(),this.startFadeIn(this.fadeSpeed(),!1),this.LoginForm()},n.prototype.update=function(){Scene_Base.prototype.update.call(this)},n.prototype.isBusy=function(){return Scene_Base.prototype.isBusy.call(this)},n.prototype.terminate=function(){Scene_Base.prototype.terminate.call(this),SceneManager.snapForBackground()},n.prototype.RegistrationSuccess=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div class="registrationSuccessWrapper" style="width:'+e+'px">\n            <div class="registrationSuccessInnerWrapper">\n                <div class="registrationSuccessTextWrapper">\n                    <div class="registrationSuccessText">\n                        Registration Succesful! \n                    </div>\n                </div>\n                <div class="registrationSuccessButtonWrapper">\n                    <button class="registrationSuccessButton">\n                        LOG IN\n                    </button>\n                </div>\n            </div>\n        </div>\n        '),$(".registrationSuccessButton").click(function(){n.prototype.LoginForm()})},n.prototype.RegistrationForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="RegisterForm" style="width:'+t+'px">\n            <div class="registrationWrapper">\n                <div>\n                    <div class="register-text">\n                        Provide your email address, a desired user name, and a password. \n                    </div>\n                </div>\n\n                <div class="emailWrapper">\n                    <div class="emailInput">\n                        <input class="emailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="accountNameWrapper">\n                    <div class="accountNameInput">\n                        <input class="accountNameText" placeholder="user name">\n                    </div>\n                </div>\n                <div class="passwordWrapper">\n                    <div class="passwordInput">\n                        <input class="passwordText" type="password" placeholder="password">\n                    </div>\n                </div>\n                <div class="registerButtonWrapper">\n                    <div class="registerButton">\n                        <button class="registerSubmitButton">\n                            REGISTER NOW\n                        </button>\n                    </div>\n                </div>\n                <div class="toLoginButtonWrapper">\n                    <div class="toLoginButton">\n                        <button class="toLoginSubmitButton">\n                            LOGIN PORTAL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".registerSubmitButton").click(function(t){var a=function(){var e=$(".emailText").val(),t={accountName:$(".accountNameText").val(),password:$(".passwordText").val(),email:e};return JSON.stringify(t)}();r.$gameNetwork.CreateNewUser(a,e.RegistrationSuccess)}),$(".toLoginButton").click(function(e){n.prototype.LoginForm()})},n.prototype.LoginForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="LoginForm" style="width:'+t+'px">\n            <div class="LoginWrapper">\n                <div>\n                    <div class="welcome-text">\n                        Welcome. Log In below, or click the Sign Up button to create a new account. \n                    </div>\n                </div>\n                <div class="loginEmailWrapper">\n                    <div class="loginEmailInput">\n                        <input class="loginEmailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="loginPasswordWrapper">\n                    <div class="loginPasswordInput">\n                        <input class="loginPasswordText" placeholder="password" type="password">\n                    </div>\n                </div>\n                <div class="loginButtonWrapper">\n                    <div class="loginButton">\n                        <button class="loginSubmitButton">\n                            LOGIN\n                        </button>\n                    </div>\n                </div>\n                <div class="toRegisterWrapper">\n                    <div class="toRegisterButton">\n                        <button class="toRegisterSubmitButton">\n                            SIGN UP!\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".loginSubmitButton").click(function(t){var a=function(){var e={email:$(".loginEmailText").val(),password:$(".loginPasswordText").val()};return JSON.stringify(e)}();r.$gameNetwork.LogUserIn(a,e.CharacterSelect)}),$(".toRegisterSubmitButton").click(function(e){n.prototype.RegistrationForm()})},n.prototype.CharacterSelect=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="CharacterSelectScreen" style="width:'+e+'px">\n            <div class="charSelectWrapper">\n                <div class="welcome-text">\n                    Select your character, or create a new one by clicking the new character button. \n                </div>\n                <div class="charSelectButtonsWrapper">\n                    <div class="charSelectButtons">\n                        <button class="newCharacterButton">\n                            NEW CHARACTER\n                        </button>\n                        <button class="logoutButton">\n                            LOG OUT\n                        </button>\n                        <button class="accountOptionsButton">\n                            OPTIONS\n                        </button>\n                    </div>\n                </div>\n                <div class="charactersTableWrapper">\n                    <div class="charactersTableContainer">\n                        <table style="width:100%" class="charactersTable">\n                            <tr>\n                                <th>Select</th>\n                                <th>Level</th> \n                                <th>Class</th>\n                                <th>Character Name</th>\n                            </tr>\n                        </table>\n                        <div class="charactersLoading">\n                            <div>\n                                Loading your characters...\n                            </div>\n                            <div style="margin-top:12px;">\n                                <img src="../extra_images/loading.gif" alt="loading-gif" height="50px" width="50px">\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div> \n            </div>\n        </div>'),$(".charactersTable").hide();r.$gameNetwork.LoadGameFilesFromServer(r.$gameNetwork.userEmail,function(e){$(".charactersLoading").hide(),$(".charactersTable").show(),r.$gameNetwork.loadedGames=[];var t=1;r.$gameNetwork.loadedGames.push(null),e.forEach(function(e){var a=JsonEx.parse(e);r.$gameNetwork.loadedGames.push(a);var o=a.actors._data[1];$(".charactersTable").append(' \n            <tr>\n                <td><button class="game'+t+'">CHOOSE</button></td>\n                <td>'+o.initialLevel+"</td> \n                <td>"+o.altClassName+"</td>\n                <td>"+o.name+"</td>\n            </tr>\n            "),$(".game"+t).attr("gameIndex",""+t).click(function(e){$("#ErrorPrinter").html(""),n.prototype.reBindInput();var t=Number($(e.currentTarget).attr("gameIndex")),a=r.$gameNetwork.loadedGames[t];r.$gameNetwork.LoadSavedGame(a)}),t++})}),$(".newCharacterButton").click(function(){n.prototype.NewCharacter()})},n.prototype.NewCharacter=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="NewCharacterScreen" class="panel panel-primary" style="width:'+e+'px">\n            <div class="newCharacterWrapper">\n                <div class="nameWarning">\n                    <div class="infoText">\n                        You must enter a name for your character\n                    </div>\n                    <div>\n                    <button class="confirmNameWarning">\n                        OK\n                    </button>\n                    </div>   \n                </div>\n                <div class="charSelectMain">\n                    <div class="infoTextWrapper">\n                        <div class="infoTextInnerWrapper">\n                            <div class="infoText">\n                                Enter a character name and select your base class\n                            </div>\n                        </div>\n                    </div>\n                    <div class="characterNameWrapper">\n                        <div class="characterNameInput">\n                            <input class="characterNameInputText" type="text" placeholder="character name">\n                        </div>\n                    </div>\n\n                    <div class="clansmanClassWrapper">\n                        <div class="clansmanClassInnerWrapper">\n                            <button class="clansmenButton">\n                                CLANSMEN\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="bighatClassWrapper">\n                        <div class="bighatClassInnerWrapper">\n                            <button class="bighatButton">\n                                BIG HAT\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="divineClassWrapper">\n                        <div class="divinClassInnerWrapper">\n                            <button class="divineClassButton">\n                                DIVINE\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="mercenaryClassWrapper">\n                        <div class="mercenaryClassInnerWrapper">\n                            <button class="mercenaryClassButton">\n                                MERCENARY\n                            </button>\n                        </div>\n                    </div>     \n                </div>\n            </div>\n        </div>'),$(".nameWarning").hide();var t=function(){return $(".characterNameInputText").val()};$(".confirmNameWarning").click(function(){$(".nameWarning").hide(),$(".charSelectMain").show()}),$(".clansmenButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Clansmen",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".bighatButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Big Hat",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".divineClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Divine",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()}),$(".mercenaryClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Mercenary",n.prototype.CharacterSelect,e),n.prototype.loadingScreen()})},n.prototype.loadingScreen=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="loadingScreen" style="width:'+e+'px">\n            <div class="loadingScreenWrapper">\n                <div>\n                    Creating New Game...\n                </div>\n                <div style="margin-top:12px;">\n                    <img src="../extra_images/loading.gif" alt="loading-gif" height="80px" width="80px">\n                </div>\n            </div>\n        </div>')},n.prototype.createBackground=function(){this._backSprite1=new Sprite(ImageManager.loadTitle1($dataSystem.title1Name)),this._backSprite2=new Sprite(ImageManager.loadTitle2($dataSystem.title2Name)),this.addChild(this._backSprite1),this.addChild(this._backSprite2),this.centerSprite(this._backSprite1),this.centerSprite(this._backSprite2),this.createForeground()},n.prototype.createForeground=function(){this._gameTitleSprite=new Sprite(new Bitmap(Graphics.width,Graphics.height)),this.addChild(this._gameTitleSprite),$dataSystem.optDrawTitle&&this.drawGameTitle()},n.prototype.drawGameTitle=function(){var e=Graphics.height/4,t=Graphics.width-40,a=$dataSystem.gameTitle;this._gameTitleSprite.bitmap.outlineColor="black",this._gameTitleSprite.bitmap.outlineWidth=8,this._gameTitleSprite.bitmap.fontSize=72,this._gameTitleSprite.bitmap.drawText(a,20,e,t,48,"center")},n.prototype.centerSprite=function(e){e.x=Graphics.width/2,e.y=Graphics.height/2,e.anchor.x=.5,e.anchor.y=.5},n.prototype.playTitleMusic=function(){AudioManager.playBgm($dataSystem.titleBgm),AudioManager.stopBgs(),AudioManager.stopMe()},Scene_Boot.prototype.start=function(){Scene_Base.prototype.start.call(this),SoundManager.preloadImportantSounds(),DataManager.isBattleTest()?(DataManager.setupBattleTest(),SceneManager.goto(Scene_Battle)):DataManager.isEventTest()?(DataManager.setupEventTest(),SceneManager.goto(Scene_Map)):(this.checkPlayerLocation(),DataManager.setupNewGame(),SceneManager.goto(n)),this.updateDocumentTitle()},Input._onKeyDown=function(e){this._shouldPreventDefault(e)&&e.preventDefault(),144===e.keyCode&&this.clear();var t=this.keyMapper[e.keyCode];t&&(this._currentState[t]=!0)},Input._shouldPreventDefault=function(e){switch(e.keyCode){case 8:if($(e.target).is("input, textarea"))break;case 33:case 34:case 37:case 38:case 39:case 40:return!0}return!1}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QbHVnaW5zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL29ubGluZU1hcEJyb2FkY2FzdGVyLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVDb3JlLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVQYXJ0eS5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vanMvcGx1Z2lucy9PbmxpbmVTeXN0ZW0vcGFydHlQb3J0YWwuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL2xvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX29ubGluZUNvcmUiLCJfb25saW5lUGFydHkiLCIkZ2FtZU5ldHdvcmsiLCIkb25saW5lUGFydHkiLCJNYWdlQ29yZUNyZWF0ZUdhbWVPYmoiLCJEYXRhTWFuYWdlciIsImNyZWF0ZUdhbWVPYmplY3RzIiwidGhpcyIsIkdhbWVfTmV0d29yayIsIk9ubGluZV9QYXJ0eSIsIl9vbmxpbmVTeXN0ZW0iLCJTY2VuZV9NYXAiLCJTcHJpdGVzZXRfTWFwIiwiR2FtZV9QbGF5ZXIiLCJHYW1lX01hcCIsIkdhbWVfTmV0d29ya1BsYXllciIsIm9uTWFwTG9hZEFMaWFzIiwib25NYXBMb2FkZWQiLCJpbml0aWFsaXplIiwiYXBwbHkiLCJhcmd1bWVudHMiLCIkZ2FtZU1hcCIsIl9tYXBJZCIsImN1cnJlbnRNYXBJZCIsInBsYXllckRhdGEiLCJHZXRQbGF5ZXJDYXN0ZXJEYXRhIiwibWFwQ29ubmVjdGlvbiIsImludm9rZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0YXJnZXREYXRhRXZlbnRJbmRleGVzIiwiJGRhdGFNYXAiLCJldmVudHMiLCJsZW5ndGgiLCJfaXNOZXR3b3JrUGxheWVyRXZlbnQiLCJwdXNoIiwiZm9yRWFjaCIsInNwbGljZSIsInRhcmdldE1hcEV2ZW50SW5kZXhlcyIsIl9ldmVudHMiLCJfYWNjb3VudFVzZXJOYW1lIiwibmV0RXZlbnRzVG9SZW1vdmUiLCJldnMiLCJuZXR3b3JrTWFwRXZlbnRzIiwibmV0RXZlbnQiLCJTY2VuZU1hbmFnZXIiLCJfc2NlbmUiLCJfc3ByaXRlc2V0IiwiY2xlYXJBbGxOZXR3b3JrUGxheWVyRXZlbnRzIiwiZ2FtZV9sb2FkZWQiLCJjbGVhck5ldHdvcmtQbGF5ZXIiLCJhY2NvdW50VXNlck5hbWUiLCJfY2hhcmFjdGVyU3ByaXRlcyIsIl9jaGFyYWN0ZXIiLCJfdGlsZW1hcCIsInJlbW92ZUNoaWxkIiwiVXBkYXRlTmV0d29ya1BsYXllciIsImRhdGEiLCJ1c2VyQWNjb3VudCIsIm5ldEV2ZW50cyIsInNldE1vdmVTcGVlZCIsIm1vdmVTcGVlZCIsInNldE1vdmVGcmVxdWVuY3kiLCJtb3ZlRnJlcXVlbnp5IiwibW92ZVN0cmFpZ2h0IiwiZGlyZWN0aW9uIiwieCIsInkiLCJzZXRQb3NpdGlvbiIsIl9jaGFyYWN0ZXJOYW1lIiwiY2hhcmFjdGVyTmFtZSIsIl9jaGFyYWN0ZXJJbmRleCIsImNoYXJhY3RlckluZGV4IiwibW92ZUJ5SW5wdXQiLCJpc01vdmluZyIsImNhbk1vdmUiLCJnZXRJbnB1dERpcmVjdGlvbiIsIiRnYW1lVGVtcCIsImNsZWFyRGVzdGluYXRpb24iLCJpc0Rlc3RpbmF0aW9uVmFsaWQiLCJkZXN0aW5hdGlvblgiLCJkZXN0aW5hdGlvblkiLCJmaW5kRGlyZWN0aW9uVG8iLCJleGVjdXRlTW92ZSIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJ0b1N0cmluZyIsIm1hcEdyb3VwTmFtZSIsInNlZWROZXdQbGF5ZXJFdmVudCIsIm5ld1BsYXllclgiLCJuZXdQbGF5ZXJZIiwicGxheWVyQWNjb3VudE5hbWUiLCJuZXdFdmVudElkIiwiZW1wdHlFdmVudCIsInBhcnNlIiwiYWRkTmV0d29ya1BsYXllciIsIm5ld1BsYXllckV2ZW50SWQiLCJuZXdQbGF5ZXJNYXBJZCIsImNyZWF0ZU5ldHdvcmtQbGF5ZXIiLCJ0YXJnZXRJbmRleCIsImV2ZW50Iiwic0lkIiwiU3ByaXRlX0NoYXJhY3RlciIsInVwZGF0ZSIsImFkZENoaWxkIiwiR2FtZV9FdmVudCIsImNvbnN0cnVjdG9yIiwibWFwSWQiLCJldmVudElkIiwiX2lzTmV0d29ya1BsYXllciIsIkltcG9ydGVkIiwiT25saW5lQ29yZSIsImFwaVVybCIsInRva2VuIiwidXNlckVtYWlsIiwidXNlckFjY291bnROYW1lIiwibG9hZGVkR2FtZXMiLCJjb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbiIsImNvbm5lY3Rpb24iLCJzaWduYWxSIiwiSHViQ29ubmVjdGlvbkJ1aWxkZXIiLCJ3aXRoVXJsIiwiYnVpbGQiLCJzdGFydCIsIm9uIiwibmV3TmV0d29ya1BsYXllciIsIm1lbWJlcnMiLCJwaW5nRGF0YSIsIlNjZW5lX0JhdHRsZSIsInRhcmdldERhdGFFdmVudEluZGV4IiwidGFyZ2V0TWFwRXZlbnRJbmRleCIsIkNhcHR1cmVMb2dpblJlc3BvbnNlIiwicmVzcG9uc2VEYXRhIiwiZW1haWwiLCJ1c2VyIiwiJGdhbWVQbGF5ZXIiLCJfZGlyZWN0aW9uIiwiX3giLCJfeSIsIl9tb3ZlU3BlZWQiLCJfbW92ZUZyZXF1ZW5jeSIsIkxvYWRHYW1lRmlsZXNGcm9tU2VydmVyIiwiY2FsbGJhY2siLCIkIiwicmVzcG9uc2UiLCJsb2ciLCJmYWlsIiwid2luZG93IiwiYWxlcnQiLCJDcmVhdGVOZXdVc2VyIiwidXNlckRhdGEiLCJhamF4IiwidXJsIiwidHlwZSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsIkxvZ1VzZXJJbiIsIkNsYXNzU2VsZWN0Iiwic2F2ZWZpbGUiLCJjbGFzc0Nob2ljZSIsImNoYXJOYW1lIiwibmV3QWN0b3IiLCJhbHRDbGFzc05hbWUiLCJpZCIsImJhdHRsZXJOYW1lIiwiY2xhc3NJZCIsImVxdWlwcyIsImZhY2VJbmRleCIsImZhY2VOYW1lIiwidHJhaXRzIiwiaW5pdGlhbExldmVsIiwibWF4TGV2ZWwiLCJuaWNrbmFtZSIsIm5vdGUiLCJwcm9maWxlIiwiJGRhdGFBY3RvcnMiLCJhY3RvcnNBcnJheSIsIkdhbWVfQWN0b3JzIiwiZ2FtZUFjdG9yIiwiR2FtZV9BY3RvciIsImluaXRpYWxpemVkQWN0b3IiLCJhc3NpZ24iLCJfZGF0YSIsImFjdG9ycyIsImRhdGFBY3RvcnMiLCJMb2FkU2F2ZWRHYW1lIiwiY29udGVudHMiLCJleHRyYWN0U2F2ZUNvbnRlbnRzIiwiJGdhbWVBY3RvcnMiLCIkZGF0YVN5c3RlbSIsInN0YXJ0TWFwSWQiLCJHcmFwaGljcyIsImZyYW1lQ291bnQiLCJnb3RvIiwiQ3JlYXRlTmV3R2FtZSIsIm93bmVyRW1haWwiLCJzYXZlQ29udGVudHMiLCJtYWtlU2F2ZUNvbnRlbnRzIiwibmV3Z2FtZSIsImpzb24iLCJKc29uRXgiLCJwcm9jZXNzRGF0YSIsIl9wYXJ0eVBvcnRhbCIsIk9ubGluZV9QYXJ0eV9XaW5kb3ciLCJwYXJ0eUNvbm5lY3Rpb24iLCJpc0hvc3QiLCJwYXJ0aWVzU2Vla2luZyIsInBsYXllck9wdGlvbnMiLCJwYXJ0eU9wdGlvbnMiLCJjdXJyZW50UGFydHlQb3J0YWwiLCJtYWtlTmV3UGFydHlDb25uZWN0aW9uIiwiYXNIb3N0IiwicG9uZyIsIiRnYW1lTWVzc2FnZSIsImFkZCIsIiRnYW1lTWVzc2FnZXMiLCJtYWtlT25saW5lUGFydHlQb3J0YWwiLCJwb3B1bGF0ZVBsYXllck9wdGlvbnMiLCJwYXJ0eVBvcnRhbCIsIlBhcnR5UG9ydGFsV2luZG93IiwiY2xlYXJDb21tYW5kTGlzdCIsIm1ha2VDb21tYW5kTGlzdCIsInNldEhhbmRsZXIiLCJhZGRQbGF5ZXJUb1BhcnR5IiwicGxheWVycyIsInBsYXllciIsImV2dCIsImN1cnJlbnRFeHQiLCJuZXdQYXJ0eUFzSG9zdCIsIm9ubGluZUdyb3VwIiwiaG9zdCIsIldpbmRvd19CYXNlIiwiZHJhd1RleHRFeCIsIldpbmRvd19Db21tYW5kIiwibWFrZUNoYXJhY3RlckNvbW1hbmRzIiwicG9wdWxhdGVQYXJ0eU9wdGlvbnMiLCJjb250ZXh0Iiwib3BlblBhcnRpZXMiLCJhZGRDb21tYW5kIiwiUXVlc3REZWx1eGVQb3J0YWwiLCJJbnB1dCIsIlNjZW5lX0Jhc2UiLCJyZUJpbmRJbnB1dCIsImNyZWF0ZUJhY2tncm91bmQiLCJjbGVhclN0YWNrIiwic3RhcnRGYWRlSW4iLCJmYWRlU3BlZWQiLCJMb2dpbkZvcm0iLCJpc0J1c3kiLCJ0ZXJtaW5hdGUiLCJzbmFwRm9yQmFja2dyb3VuZCIsIlJlZ2lzdHJhdGlvblN1Y2Nlc3MiLCJzY3JlZW5XaWR0aCIsImJveFdpZHRoIiwiaHRtbCIsImNsaWNrIiwiUmVnaXN0cmF0aW9uRm9ybSIsInZhbCIsInJlZ2lzdHJhdGlvbkRhdGEiLCJhY2NvdW50TmFtZSIsInBhc3N3b3JkIiwic2NyYXBlUmVnaXN0cmF0aW9uRm9ybSIsImxvZ2luRGF0YSIsInNjcmFwZUxvZ2luSW5mbyIsIkNoYXJhY3RlclNlbGVjdCIsImhpZGUiLCJzaG93IiwiY291bnQiLCJwYXJzZWREYXRhIiwiY2hhckRhdGEiLCJhcHBlbmQiLCJhdHRyIiwiaW5kZXgiLCJOdW1iZXIiLCJjdXJyZW50VGFyZ2V0IiwiZ2FtZSIsIk5ld0NoYXJhY3RlciIsInNjcmFwZUNoYXJOYW1lIiwibG9hZGluZ1NjcmVlbiIsIl9iYWNrU3ByaXRlMSIsIlNwcml0ZSIsIkltYWdlTWFuYWdlciIsImxvYWRUaXRsZTEiLCJ0aXRsZTFOYW1lIiwiX2JhY2tTcHJpdGUyIiwibG9hZFRpdGxlMiIsInRpdGxlMk5hbWUiLCJjZW50ZXJTcHJpdGUiLCJjcmVhdGVGb3JlZ3JvdW5kIiwiX2dhbWVUaXRsZVNwcml0ZSIsIkJpdG1hcCIsIndpZHRoIiwiaGVpZ2h0Iiwib3B0RHJhd1RpdGxlIiwiZHJhd0dhbWVUaXRsZSIsIm1heFdpZHRoIiwidGV4dCIsImdhbWVUaXRsZSIsImJpdG1hcCIsIm91dGxpbmVDb2xvciIsIm91dGxpbmVXaWR0aCIsImZvbnRTaXplIiwiZHJhd1RleHQiLCJzcHJpdGUiLCJhbmNob3IiLCJwbGF5VGl0bGVNdXNpYyIsIkF1ZGlvTWFuYWdlciIsInBsYXlCZ20iLCJ0aXRsZUJnbSIsInN0b3BCZ3MiLCJzdG9wTWUiLCJTY2VuZV9Cb290IiwiU291bmRNYW5hZ2VyIiwicHJlbG9hZEltcG9ydGFudFNvdW5kcyIsImlzQmF0dGxlVGVzdCIsInNldHVwQmF0dGxlVGVzdCIsImlzRXZlbnRUZXN0Iiwic2V0dXBFdmVudFRlc3QiLCJjaGVja1BsYXllckxvY2F0aW9uIiwic2V0dXBOZXdHYW1lIiwidXBkYXRlRG9jdW1lbnRUaXRsZSIsIl9vbktleURvd24iLCJfc2hvdWxkUHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJjbGVhciIsImJ1dHRvbk5hbWUiLCJrZXlNYXBwZXIiLCJfY3VycmVudFN0YXRlIiwidGFyZ2V0IiwiaXMiXSwibWFwcGluZ3MiOiJ3QkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxVQUN6QyxFQUFBRSxHQUFBLGlCQUFBRixFQUFBLFFBQUFNLEtBQUFOLEVBQUFyQixFQUFBVSxFQUFBZSxFQUFBRSxFQUFBLFNBQUFBLEdBQWdILE9BQUFOLEVBQUFNLElBQXFCQyxLQUFBLEtBQUFELElBQ3JJLE9BQUFGLEdBSUF6QixFQUFBNkIsRUFBQSxTQUFBMUIsR0FDQSxJQUFBUyxFQUFBVCxLQUFBcUIsV0FDQSxXQUEyQixPQUFBckIsRUFBQSxTQUMzQixXQUFpQyxPQUFBQSxHQUVqQyxPQURBSCxFQUFBVSxFQUFBRSxFQUFBLElBQUFBLEdBQ0FBLEdBSUFaLEVBQUFhLEVBQUEsU0FBQWlCLEVBQUFDLEdBQXNELE9BQUFqQixPQUFBa0IsVUFBQUMsZUFBQTFCLEtBQUF1QixFQUFBQyxJQUd0RC9CLEVBQUFrQyxFQUFBLEdBSUFsQyxJQUFBbUMsRUFBQSx3SENsRkEsSUFBQUMsRUFBQXBDLEVBQUEsR0FDQXFDLEVBQUFyQyxFQUFBLEtBQ0FBLEVBQUEsTUFDQUEsRUFBQSwrSkFDUXNDLGlCQUFjQyxlQUV0QixJQUFJRCxFQUFlLEtBQ2ZDLEVBQWUsS0FFZkMsRUFBd0JDLFlBQVlDLGtCQUN4Q0QsWUFBWUMsa0JBQW9CLFdBQzVCRixFQUFzQmpDLEtBQUtvQyxNQUMzQnpDLEVBUklvQyxhQVFKQSxFQUFlQSxHQUFnQixJQUFJTSxlQUNuQzFDLEVBVGtCcUMsYUFTbEJBLEVBQWVBLEdBQWdCLElBQUlNLGdMQ2JuQyxJQUFBQyxFQUFBOUMsRUFBQSxLQUNRK0Msc0JBQVdDLDhCQUFlQywwQkFBYUMsb0JBQVVDLHFCQWtCekQsSUFBTUMsRUFBaUJMLFVBQVVmLFVBQVVxQixZQWtMM0MsU0FBU0YsSUFDTFIsS0FBS1csV0FBV0MsTUFBTVosS0FBTWEsV0FsTGhDVCxVQUFVZixVQUFVcUIsWUFBYyxXQUc5QixHQUZBRCxFQUFlN0MsS0FBS29DLE1BRWhCYyxTQUFTQyxTQUFXcEIsZUFBYXFCLGFBQWMsQ0FFL0MsSUFBSUMsRUFBYXRCLGVBQWF1QixzQkFFOUJ2QixlQUFhd0IsY0FBY0MsT0FBTyxxQkFBc0IsVUFBWXpCLGVBQWFxQixhQUFjSyxLQUFLQyxVQUFVTCxJQUc5RyxJQURBLElBQUlNLEtBQ0s5RCxFQUFJLEVBQUdBLEVBQUkrRCxTQUFTQyxPQUFPQyxPQUFRakUsSUFDYixPQUF2QitELFNBQVNDLE9BQU9oRSxLQUNpQyxJQUE3QytELFNBQVNDLE9BQU9oRSxHQUFHa0UsdUJBQ25CSixFQUF1QkssS0FBS25FLEdBS3BDOEQsRUFBdUJHLE9BQVMsR0FDaENILEVBQXVCTSxRQUFRLFNBQUFwRSxHQUMzQitELFNBQVNDLE9BQU9LLE9BQU9yRSxFQUFHLEtBS2xDLElBREEsSUFBSXNFLEtBQ0t0RSxFQUFJLEVBQUdBLEVBQUlxRCxTQUFTa0IsUUFBUU4sT0FBUWpFLElBQ3JDcUQsU0FBU2tCLFFBQVF2RSxHQUFHd0UsbUJBQzhCLElBQTlDbkIsU0FBU2tCLFFBQVF2RSxHQUFHa0UsdUJBQ3BCSSxFQUFzQkgsS0FBS25FLEdBS25Dc0UsRUFBc0JMLE9BQVMsR0FDL0JLLEVBQXNCRixRQUFRLFNBQUFwRSxHQUMxQnFELFNBQVNrQixRQUFRRixPQUFPckUsRUFBRyxLQUluQyxJQUFJeUUsS0FFQUMsRUFBTXhDLGVBQWF5QyxpQkFFdkIsSUFBSSxJQUFJQyxLQUFZRixFQUNaQSxFQUFJN0MsZUFBZStDLEtBQ3lCLElBQXhDRixFQUFJRSxHQUFVVix1QkFDZE8sRUFBa0JOLEtBQUtPLEVBQUlFLEdBQVVKLGtCQU03Q0MsRUFBa0JSLE9BQVMsR0FDM0JRLEVBQWtCTCxRQUFRLFNBQUFRLFVBQ2YxQyxlQUFheUMsaUJBQWlCQyxLQUk3Q0MsYUFBYUMsT0FBT0MsV0FBV0MsOEJBRS9COUMsZUFBYXFCLGFBQWVGLFNBQVNDLE9BRXJDcEIsZUFBYXdCLGNBQWNDLE9BQU8sZ0JBQWlCLFVBQVl6QixlQUFhcUIsYUFBY0ssS0FBS0MsVUFBVUwsSUFHN0d0QixlQUFhK0MsYUFBYyxHQUcvQnJDLGNBQWNoQixVQUFVc0QsbUJBQXFCLFNBQVNDLEdBQ2xELElBQUssSUFBSW5GLEVBQUksRUFBR0EsRUFBSXVDLEtBQUs2QyxrQkFBa0JuQixPQUFRakUsSUFBSyxDQUN4Q3VDLEtBQUs2QyxrQkFBa0JwRixHQUFHcUYsV0FDNUJiLG1CQUFxQlcsR0FDM0I1QyxLQUFLK0MsU0FBU0MsWUFBWWhELEtBQUs2QyxrQkFBa0JwRixNQUs3RDRDLGNBQWNoQixVQUFVb0QsNEJBQThCLFdBQ2xELElBQUssSUFBSWhGLEVBQUksRUFBR0EsRUFBSXVDLEtBQUs2QyxrQkFBa0JuQixPQUFRakUsSUFBSyxFQUVoQixJQUR4QnVDLEtBQUs2QyxrQkFBa0JwRixHQUFHcUYsV0FDNUJuQix1QkFDTjNCLEtBQUsrQyxTQUFTQyxZQUFZaEQsS0FBSzZDLGtCQUFrQnBGLE1BSzdENkMsWUFBWWpCLFVBQVU0RCxvQkFBc0IsU0FBVUMsR0FFbEQsSUFBSUMsRUFBY0QsRUFBS04sZ0JBQ25CUSxFQUFZekQsZUFBYXlDLGlCQUU3QmdCLEVBQVVELEdBQWFFLGFBQWFILEVBQUtJLFdBQ3pDRixFQUFVRCxHQUFhSSxpQkFBaUJMLEVBQUtNLGVBQzdDSixFQUFVRCxHQUFhTSxhQUFhUCxFQUFLUSxXQUVyQ04sRUFBVUQsR0FBYVEsSUFBSVQsRUFBS1MsR0FBS1AsRUFBVUQsR0FBYVMsSUFBSVYsRUFBS1UsR0FDckVSLEVBQVVELEdBQWFVLFlBQVlYLEVBQUtTLEVBQUdULEVBQUtVLEdBSXBEUixFQUFVRCxHQUFhVyxlQUFpQlosRUFBS2EsY0FDN0NYLEVBQVVELEdBQWFhLGdCQUFrQmQsRUFBS2UsZ0JBS2xEM0QsWUFBWWpCLFVBQVU2RSxZQUFjLFdBQ2hDLElBQUtsRSxLQUFLbUUsWUFBY25FLEtBQUtvRSxVQUFXLENBQ3BDLElBQUlWLEVBQVkxRCxLQUFLcUUsb0JBQ3JCLEdBQUlYLEVBQVksRUFDWlksVUFBVUMsd0JBQ1AsR0FBSUQsVUFBVUUscUJBQXFCLENBQ3RDLElBQUliLEVBQUlXLFVBQVVHLGVBQ2RiLEVBQUlVLFVBQVVJLGVBQ2xCaEIsRUFBWTFELEtBQUsyRSxnQkFBZ0JoQixFQUFHQyxHQUd4QyxHQUFJRixFQUFZLEVBQUcsQ0FHZixHQURBMUQsS0FBSzRFLFlBQVlsQixHQUNiL0QsZUFBYXFCLGVBQWlCRixTQUFTQyxPQUFRLENBQy9DLElBQUlFLEVBQWF0QixlQUFhdUIsc0JBQzlCLElBQ0l2QixlQUFhd0IsY0FBY0MsT0FBTyxxQkFBc0IsVUFBWXpCLGVBQWFxQixhQUFjSyxLQUFLQyxVQUFVTCxJQUVsSCxNQUFPNEQsR0FDSEMsUUFBUUMsTUFBTUYsRUFBRUcsWUFFcEJyRixlQUFhcUIsYUFBZUYsU0FBU0MsT0FFckMsSUFDSXBCLGVBQWF3QixjQUFjQyxPQUFPLGdCQUFpQixVQUFZekIsZUFBYXFCLGFBQWNLLEtBQUtDLFVBQVVMLElBRTdHLE1BQU80RCxHQUNIQyxRQUFRQyxNQUFNRixFQUFFRyxhQUl4QixJQUFJL0QsRUFBYXRCLGVBQWF1QixzQkFDMUIrRCxFQUFlLFVBQVluRSxTQUFTQyxPQUN4Q3BCLGVBQWF3QixjQUFjQyxPQUFPLHNCQUF1QjZELEVBQWM1RCxLQUFLQyxVQUFVTCxPQU1sR1gsWUFBWWpCLFVBQVU2RixtQkFBcUIsU0FBVUMsRUFBWUMsRUFBWUMsR0FDekUsSUFBSUMsRUFBYTlELFNBQVNDLE9BQU9DLE9BQzdCNkQsV0FBc0JELEVBQXRCLFlBQTRDRCxFQUE1Qyx1b0JBQW9zQkYsRUFBcHNCLFFBQXN0QkMsRUFBdHRCLDJDQUVKLE9BREE1RCxTQUFTQyxPQUFPRyxLQUFLUCxLQUFLbUUsTUFBTUQsSUFDekJELEdBS1gvRSxTQUFTbEIsVUFBVW9HLGlCQUFtQixTQUFTOUIsRUFBR0MsRUFBR3lCLEdBQ2pELElBQUlLLEVBQW1CcEYsWUFBWWpCLFVBQVU2RixtQkFBbUJ2QixFQUFHQyxFQUFHeUIsR0FDbEVNLEVBQWlCM0YsS0FBS2dDLFFBQVFOLE9BTWxDLE9BSkExQixLQUFLZ0MsUUFBUTJELEdBQWtCLElBQUluRixFQUFtQlIsS0FBS2UsT0FBUTJFLEVBQWtCL0IsRUFBR0MsR0FDeEY1RCxLQUFLZ0MsUUFBUTJELEdBQWdCMUQsaUJBQW1Cb0QsRUFDaERyRixLQUFLZ0MsUUFBUTJELEdBQWdCaEUsdUJBQXdCLEVBQ3JEVyxhQUFhQyxPQUFPQyxXQUFXb0Qsb0JBQW9CRCxFQUFnQk4sR0FDNURyRixLQUFLZ0MsUUFBUTJELElBSXhCdEYsY0FBY2hCLFVBQVV1RyxvQkFBc0IsU0FBU0MsRUFBYVIsR0FDaEUsSUFBSVMsRUFBUWhGLFNBQVNrQixRQUFRNkQsR0FDekJFLEVBQU0vRixLQUFLNkMsa0JBQWtCbkIsT0FDakMxQixLQUFLNkMsa0JBQWtCa0QsR0FBTyxJQUFJQyxpQkFBaUJGLEdBQ25EOUYsS0FBSzZDLGtCQUFrQmtELEdBQUs5RCxpQkFBbUJvRCxFQUMvQ3JGLEtBQUs2QyxrQkFBa0JrRCxHQUFLRSxTQUM1QmpHLEtBQUsrQyxTQUFTbUQsU0FBU2xHLEtBQUs2QyxrQkFBa0JrRCxLQVFsRHZGLEVBQW1CbkIsVUFBWWxCLE9BQU9ZLE9BQU9vSCxXQUFXOUcsV0FDeERtQixFQUFtQm5CLFVBQVUrRyxZQUFjNUYsRUFFM0NBLEVBQW1CbkIsVUFBVXNCLFdBQWEsU0FBUzBGLEVBQU9DLEVBQVEzQyxFQUFFQyxHQUNoRXVDLFdBQVc5RyxVQUFVc0IsV0FBVy9DLEtBQUtvQyxLQUFLcUcsRUFBTUMsR0FDaER0RyxLQUFLdUcsa0JBQW1CLEVBQ3hCdkcsS0FBSzZELFlBQVlGLEVBQUVDLHlHQzVNM0IsSUFBQXpELEVBQUE5QyxFQUFBLEdBSEltSixHQUlKbkosRUFBQSxHQUplbUosT0FlWCxTQUFTdkcsSUFDTEQsS0FBS1csV0FBV0MsTUFBTVosS0FBTWEsV0FmcEMyRixFQUFTQyxZQUFhLElBSWR4RyxlQWVKQSxFQUFhWixVQUFVc0IsV0FBYSxXQUNoQ1gsS0FBSzBHLE9BQVMsNEJBQ2QxRyxLQUFLMkcsTUFBUSxHQUNiM0csS0FBSzRHLFVBQVksR0FDakI1RyxLQUFLNkcsZ0JBQWtCLEdBQ3ZCN0csS0FBS2dCLGFBQWUsRUFDcEJoQixLQUFLbUIsaUJBQ0xuQixLQUFLb0Msb0JBQ0xwQyxLQUFLMEMsYUFBYyxFQUNuQjFDLEtBQUs4RyxnQkFHVDdHLEVBQWFaLFVBQVUwSCwyQkFBNkIsV0FDaEQsSUFBSUMsR0FBYSxJQUFJQyxRQUFRQyxzQkFDNUJDLFFBQVEsb0NBQ1JDLFFBQ0R6SCxlQUFhd0IsY0FBZ0I2RixFQUM3QixpQkFDSSxVQUNVckgsZUFBYXdCLGNBQWNrRyxRQUNqQyxJQUFJcEcsRUFBYXRCLGVBQWF1QixzQkFFOUJ2QixlQUFhd0IsY0FBY0MsT0FBTyxnQkFBaUIsVUFBWXpCLGVBQWFxQixhQUFjSyxLQUFLQyxVQUFVTCxJQUd6R3RCLGVBQWF3QixjQUFjbUcsR0FBRyxpQkFBa0IsU0FBVXJHLEdBQ3RELElBQUlpQyxFQUFPN0IsS0FBS21FLE1BQU12RSxHQUNQLElBQVhpQyxFQUFLUyxHQUFzQixJQUFYVCxFQUFLVSxJQUNyQlYsRUFBS1MsRUFBSSxFQUNUVCxFQUFLVSxFQUFJLEdBRWIsSUFBSTJELEVBQW1CekcsU0FBUzJFLGlCQUFpQnZDLEVBQUtTLEVBQUdULEVBQUtVLEVBQUdWLEVBQUtOLGlCQUN0RWpELGVBQWF5QyxpQkFBaUJjLEVBQUtOLGlCQUFtQjJFLEVBQ3REM0gsZUFBYTRILFFBQVE1RixLQUFLMkYsR0FFMUJqSCxZQUFZakIsVUFBVTRELG9CQUFvQkMsR0FDMUMsSUFBSXVFLEVBQVd4SCxFQUFhWixVQUFVNkIsc0JBQ3RDdkIsZUFBYXdCLGNBQWNDLE9BQU8sc0JBQXVCLFVBQVl6QixlQUFhcUIsYUFBY0ssS0FBS0MsVUFBVW1HLE1BR25IOUgsZUFBYXdCLGNBQWNtRyxHQUFHLGtCQUFtQixTQUFVckcsR0FFdkQsR0FBS3FCLGFBQWFDLE9BQU9DLGNBQWNGLGFBQWFDLGtCQUFrQm1GLGNBQXRFLENBSUEsSUFBSXhFLEVBQU83QixLQUFLbUUsTUFBTXZFLEdBRXRCLEdBQUl0QixlQUFheUMsaUJBQWlCYyxFQUFLTixpQkFDbkN0QyxZQUFZakIsVUFBVTRELG9CQUFvQkMsT0FDdkMsQ0FDSCxJQUFJcUUsRUFBbUJ6RyxTQUFTMkUsaUJBQWlCdkMsRUFBS1MsRUFBR1QsRUFBS1UsRUFBR1YsRUFBS04saUJBQ3RFakQsZUFBYXlDLGlCQUFpQmMsRUFBS04saUJBQW1CMkUsRUFDdEQzSCxlQUFhNEgsUUFBUTVGLEtBQUsyRixHQUMxQmpILFlBQVlqQixVQUFVNEQsb0JBQW9CQyxPQUtsRHZELGVBQWF3QixjQUFjbUcsR0FBRyxzQkFBdUIsU0FBVXJHLEdBSzNELElBSEEsSUFBSWlDLEVBQU83QixLQUFLbUUsTUFBTXZFLEdBRWxCMEcsRUFBdUIsRUFDbEJsSyxFQUFJLEVBQUdBLEVBQUkrRCxTQUFTQyxPQUFPQyxPQUFRakUsSUFDYixPQUF2QitELFNBQVNDLE9BQU9oRSxJQUNaK0QsU0FBU0MsT0FBT2hFLEdBQUdPLE9BQVNrRixFQUFLTixrQkFDakMrRSxFQUF1QmxLLEdBSW5DK0QsU0FBU0MsT0FBT0ssT0FBTzZGLEVBQXNCLEdBRzdDLElBREEsSUFBSUMsRUFBc0IsRUFDakJuSyxFQUFJLEVBQUdBLEVBQUlxRCxTQUFTa0IsUUFBUU4sT0FBUWpFLElBQ3JDcUQsU0FBU2tCLFFBQVF2RSxHQUFHd0Usa0JBQ2hCbkIsU0FBU2tCLFFBQVF2RSxHQUFHd0UsbUJBQXFCaUIsRUFBS04sa0JBQzlDZ0YsRUFBc0JuSyxHQUlsQ3FELFNBQVNrQixRQUFRRixPQUFPOEYsRUFBcUIsVUFFdENqSSxlQUFheUMsaUJBQWlCYyxFQUFLTixpQkFDMUNOLGFBQWFDLE9BQU9DLFdBQVdHLG1CQUFtQk8sRUFBS04sbUJBSy9ELE1BQU9pQyxHQUNIQyxRQUFRQyxNQUFNRixFQUFFRyxhQXpFeEIsSUE4RUovRSxFQUFhWixVQUFVd0kscUJBQXVCLFNBQVVDLEdBQ3BEbkksZUFBYWdILE1BQVFtQixFQUFhbkIsTUFDbENoSCxlQUFhaUgsVUFBWWtCLEVBQWFDLE1BQ3RDcEksZUFBYWtILGdCQUFrQmlCLEVBQWFFLE1BR2hEL0gsRUFBYVosVUFBVTZCLG9CQUFzQixXQVl6QyxPQVRJMEIsZ0JBQWlCakQsZUFBYWtILGdCQUM5Qm5ELFVBQVd1RSxZQUFZQyxXQUN2QnZFLEVBQUdzRSxZQUFZRSxHQUNmdkUsRUFBR3FFLFlBQVlHLEdBQ2Y5RSxVQUFXMkUsWUFBWUksV0FDdkI3RSxjQUFleUUsWUFBWUssZUFDM0J2RSxjQUFla0UsWUFBWW5FLGVBQzNCRyxlQUFnQmdFLFlBQVlqRSxrQkFLcEMvRCxFQUFhWixVQUFVa0osd0JBQTBCLFNBQVMzQixFQUFXNEIsR0FDakVDLEVBQUVuSyxJQUFJcUIsZUFBYStHLE9BQWIsYUFBbUNFLEVBQWEsU0FBUzhCLEdBQzNENUQsUUFBUTZELElBQUlELEdBQ1pGLEVBQVNFLEtBQ1ZFLEtBQUssV0FDSkMsT0FBT0MsTUFBTSxrQkFJckI3SSxFQUFhWixVQUFVMEosY0FBZ0IsU0FBU0MsRUFBVVIsR0FDdERDLEVBQUVRLE1BQ0VDLElBQUt2SixlQUFhK0csT0FBYixxQkFDTHlDLEtBQU0sT0FDTmpHLEtBQU04RixFQUNOSSxZQUFhLG1CQUNiQyxRQUFTLFNBQVU5SyxHQUNmaUssS0FFSnpELE1BQU8sU0FBVXhHLEdBQ2J1RyxRQUFRNkQsSUFBSXBLLE9BS3hCMEIsRUFBYVosVUFBVWlLLFVBQVksU0FBU04sRUFBVVIsR0FDbERDLEVBQUVRLE1BQ0VDLElBQUt2SixlQUFhK0csT0FBYixrQkFDTHlDLEtBQU0sT0FDTmpHLEtBQU04RixFQUNOSSxZQUFhLG1CQUNiQyxRQUFTLFNBQVU5SyxHQUNmb0IsZUFBYWlILFVBQVlySSxFQUFFd0osTUFDM0I5SCxFQUFhWixVQUFVd0kscUJBQXFCdEosR0FDNUNpSyxLQUVKekQsTUFBTyxTQUFVeEcsR0FDYnVHLFFBQVE2RCxJQUFJcEssT0FLeEIwQixFQUFhWixVQUFVa0ssWUFBYyxTQUFVQyxFQUFVQyxFQUFhQyxHQUVsRSxJQUFJQyxLQUVnQixhQUFoQkYsRUFDQUUsR0FBWSxNQUNQQyxhQUFBLEdBQWtCSCxFQUFjSSxHQUFLLEVBQUVDLFlBQWMsV0FBVzdGLGVBQWlCLEVBQUVGLGNBQWdCLFNBQVNnRyxRQUFVLEVBQUVDLFFBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHQyxVQUFZLEVBQUVDLFNBQVcsU0FBU0MsVUFBWUMsYUFBZSxFQUFFQyxTQUFXLEdBQUdyTSxLQUFBLEdBQVUwTCxFQUFXWSxTQUFXLEdBQUdDLEtBQU8sR0FBR0MsUUFBVSxLQUcvUCxZQUFoQmYsRUFDUEUsR0FBWSxNQUNQQyxhQUFBLEdBQWtCSCxFQUFjSSxHQUFLLEVBQUVDLFlBQWMsV0FBVzdGLGVBQWlCLEVBQUVGLGNBQWdCLFNBQVNnRyxRQUFVLEVBQUVDLFFBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHQyxVQUFZLEVBQUVDLFNBQVcsU0FBU0MsVUFBWUMsYUFBZSxFQUFFQyxTQUFXLEdBQUdyTSxLQUFBLEdBQVUwTCxFQUFXWSxTQUFXLEdBQUdDLEtBQU8sR0FBR0MsUUFBVSxLQUkvUCxXQUFoQmYsRUFDUEUsR0FBWSxNQUNQQyxhQUFBLEdBQWtCSCxFQUFjSSxHQUFLLEVBQUVDLFlBQWMsV0FBVzdGLGVBQWlCLEVBQUVGLGNBQWdCLFNBQVNnRyxRQUFVLEVBQUVDLFFBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHQyxVQUFZLEVBQUVDLFNBQVcsU0FBU0MsVUFBWUMsYUFBZSxFQUFFQyxTQUFXLEdBQUdyTSxLQUFBLEdBQVUwTCxFQUFXWSxTQUFXLEdBQUdDLEtBQU8sR0FBR0MsUUFBVSxLQUkvUCxjQUFoQmYsSUFDUEUsR0FBWSxNQUNQQyxhQUFBLEdBQWtCSCxFQUFjSSxHQUFLLEVBQUVDLFlBQWMsV0FBVzdGLGVBQWlCLEVBQUVGLGNBQWdCLFNBQVNnRyxRQUFVLEVBQUVDLFFBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHQyxVQUFZLEVBQUVDLFNBQVcsU0FBU0MsVUFBWUMsYUFBZSxFQUFFQyxTQUFXLEdBQUdyTSxLQUFBLEdBQVUwTCxFQUFXWSxTQUFXLEdBQUdDLEtBQU8sR0FBR0MsUUFBVSxNQUsxUkMsWUFBY2QsRUFDZCxJQUFJZSxFQUFjLElBQUlDLFlBQ2xCQyxFQUFZLElBQUlDLFdBQVcsR0FDM0JDLEVBQW1CM00sT0FBTzRNLE9BQU9ILEVBQVdqQixFQUFTLElBT3pELE9BTkFBLEVBQVMsR0FBS21CLEVBQ2RKLEVBQVlNLE1BQVFyQixFQUVwQkgsRUFBU3lCLE9BQVNQLEVBQ2xCbEIsRUFBUzBCLFdBQWFULFlBRWZqQixHQUdYdkosRUFBYVosVUFBVThMLGNBQWdCLFNBQVVDLEdBRTdDdEwsWUFBWUMsb0JBQ1pELFlBQVl1TCxvQkFBb0JELEdBQ2hDWCxZQUFjVyxFQUFTRixXQUV2QixJQUFJUixFQUFjLElBQUlDLFlBQ2xCQyxFQUFZLElBQUlDLFdBQVcsR0FDL0JILEVBQVlNLE9BQVMsS0FBTUosR0FDM0JVLFlBQWNaLEVBRWQvSyxlQUFhcUIsYUFBZXVLLFlBQVlDLFdBRXhDQyxTQUFTQyxXQUFhLEVBRXRCcEosYUFBYXFKLEtBQUt2TCxXQUVsQlQsZUFBYW9ILDhCQUlqQjlHLEVBQWFaLFVBQVV1TSxjQUFnQixTQUFVQyxFQUFZcEMsRUFBYWpCLEVBQVVrQixHQUNoRixJQUFJb0MsRUFBZWhNLFlBQVlpTSxtQkFDekJDLEVBQVVyTSxlQUFhNEosWUFBWXVDLEVBQWNyQyxFQUFhQyxHQUNoRXVDLEVBQU9DLE9BQU81SyxVQUFVMEssR0FJNUJsSCxRQUFRNkQsSUFBSSxTQUVaRixFQUFFUSxNQUNFQyxJQUFLdkosZUFBYStHLE9BQWIseUJBQStDbUYsRUFDcEQxQyxLQUFNLE9BQ05qRyxLQUFNK0ksRUFDTkUsYUFBYSxFQUNiL0MsWUFBYSxtQkFDYkMsUUFBUyxXQUNMYixtSUM5UGhCLElBQUFySSxFQUFBOUMsRUFBQSxHQUNBK08sRUFBQS9PLEVBQUEsR0FFQSxTQUFTNkMsSUFDTEYsS0FBS1csV0FBV0MsTUFBTVosS0FBTWEsV0E4RWhDLFNBQVN3TCxJQUNMck0sS0FBS1csV0FBV0MsTUFBTVosS0FBTWEsYUFwRnhCWCxpQkFBY21NLHNCQVF0Qm5NLEVBQWFiLFVBQVVzQixXQUFhLFdBQ2hDWCxLQUFLd0gsV0FDTHhILEtBQUtzTSxtQkFDTHRNLEtBQUt1TSxRQUFTLEVBQ2R2TSxLQUFLd00sa0JBQ0x4TSxLQUFLeU0saUJBQ0x6TSxLQUFLME0sZ0JBQ0wxTSxLQUFLMk0sdUJBR1R6TSxFQUFhYixVQUFVdU4sdUJBQXlCLFNBQVVDLEdBRXRELElBQUk3RixHQUFhLElBQUlDLFFBQVFDLHNCQUM1QkMsUUFBUSx3Q0FDUkMsUUFFRHhILGVBQWEwTSxnQkFBa0J0RixFQUMvQixpQkFDSSxJQUdJLFNBRk1wSCxlQUFhME0sZ0JBQWdCakYsUUFFL0J3RixFQUFRLENBRVJqTixlQUFhME0sZ0JBQWdCaEYsR0FBRyxtQkFBb0IsU0FBVXdGLEdBQzFEbE4sZUFBYTJNLFFBQVMsRUFDdEJRLGFBQWFDLElBQUksNkJBQ2pCMUssYUFBYUMsT0FBTzJELFNBQVMsSUFBSW1HLEtBRXJDek0sZUFBYTBNLGdCQUFnQmxMLE9BQU8sbUJBQXBDLFNBQWlFekIsZUFBYWtILGdCQU5uRSxVQVNqQixNQUFPaEMsR0FDTEMsUUFBUUMsTUFBTUYsRUFBRUcsWUFDaEJpSSxjQUFjRCxJQUFJLGlDQWhCMUIsSUFzQko5TSxFQUFhYixVQUFVNk4sc0JBQXdCLFdBQzNDdE4sZUFBYXVOLHdCQUNiLElBQUlDLEVBQWMsSUFBSUMsb0JBQWtCLElBQUssS0FDN0N6TixlQUFhK00sbUJBQXFCUyxFQUNsQ3hOLGVBQWErTSxtQkFBbUJXLG1CQUNoQzFOLGVBQWErTSxtQkFBbUJZLGtCQUNoQzNOLGVBQWErTSxtQkFBbUJhLFdBQVcsbUJBQW9CeE4sS0FBS3lOLGlCQUFpQnhPLEtBQUtlLE9BQzFGc0MsYUFBYUMsT0FBTzJELFNBQVNrSCxJQUdqQ2xOLEVBQWFiLFVBQVU4TixzQkFBd0IsV0FDM0MsSUFDSU8sRUFBVS9OLGVBQWF5QyxpQkFFM0IsSUFBSyxJQUFJcEQsS0FEVFksZUFBYTZNLGlCQUNHaUIsRUFBUyxDQUNyQixJQUFJQyxFQUFTRCxFQUFRMU8sR0FDckJZLGVBQWE2TSxjQUFjN0ssS0FBSytMLEtBS3hDek4sRUFBYWIsVUFBVW9PLGlCQUFtQixTQUFVRyxHQUNoRDlJLFFBQVE2RCxJQUFJLFNBQ1EzSSxLQUFLMk0sbUJBQW1Ca0IsY0FHaEQzTixFQUFhYixVQUFVeU8sZUFBaUIsV0FDcEMsSUFBSUMsR0FDQUMsS0FBTXJPLGVBQWFrSCxnQkFDbkI2RyxTQUFVL04sZUFBYWtILGtCQUczQmpILGVBQWE0TSxlQUFlNUssS0FBS21NLEdBQ2pDbk8sZUFBYWdOLHdCQUF1QixJQU94Q1AsRUFBb0JoTixVQUFZbEIsT0FBT1ksT0FBT2tQLFlBQVk1TyxXQUMxRGdOLEVBQW9CaE4sVUFBVStHLFlBQWNpRyxFQUU1Q0EsRUFBb0JoTixVQUFVc0IsV0FBYSxXQUN2Q3NOLFlBQVk1TyxVQUFVc0IsV0FBVy9DLEtBQUtvQyxLQUFNLEVBQUcsRUFBRyxJQUFLLEtBSXZEQSxLQUFLa08sV0FBTCxHQUFtQnZPLGVBQWFrSCxnQkFBbUIsRUFBRyw4R0M5RnRELElBQUExRyxFQUFBOUMsRUFBQSxHQUtBLFNBQVNnUSxFQUFrQjFKLEVBQUdDLEdBQzFCdUssZUFBZTlPLFVBQVVzQixXQUFXL0MsS0FBS29DLEtBQU0yRCxFQUFHQyxFQUFHLElBQUssT0FQdER5SixvQkFHUkEsRUFBa0JoTyxVQUFZbEIsT0FBT1ksT0FBT29QLGVBQWU5TyxXQUMzRGdPLEVBQWtCaE8sVUFBVStHLFlBQWNpSCxFQU8xQ0EsRUFBa0JoTyxVQUFVc0IsV0FBYSxhQUl6QzBNLEVBQWtCaE8sVUFBVWtPLGdCQUFrQixXQUMxQ3ZOLEtBQUtvTyx5QkFHVGYsRUFBa0JoTyxVQUFVOE4sc0JBQXdCLFdBQ2hELElBQ0lPLEVBQVUvTixlQUFheUMsaUJBQzNCLElBQUssSUFBSXBELEtBQU8wTyxFQUFTLENBQ3JCLElBQUlDLEVBQVNELEVBQVExTyxHQUNyQlksZUFBYTZNLGNBQWM3SyxLQUFLK0wsS0FJeENOLEVBQWtCaE8sVUFBVWdQLHFCQUF1QixXQUMvQyxJQUFJQyxFQUFVdE8sS0FDQUosZUFBYTJPLFlBQ25CMU0sUUFBUSxTQUFBdEMsR0FDWitPLEVBQVE1QixhQUFhOUssS0FBS3JDLE1BSWxDOE4sRUFBa0JoTyxVQUFVK08sc0JBQXdCLFdBQ2hELElBQUlFLEVBQVV0TyxLQUNkSixlQUFhNk0sY0FBYzVLLFFBQVEsU0FBQXRDLEdBQy9CK08sRUFBUUUsV0FBUixHQUFzQmpQLEVBQUUwQyxpQkFBb0Isb0JBQW9CLEVBQWhFLEdBQXlFMUMsRUFBRTBDLHVJQ3ZDdkYsSUFBQTlCLEVBQUE5QyxFQUFBLEdBR0EsU0FBU29SLElBQ0x6TyxLQUFLVyxXQUFXQyxNQUFNWixLQUFNYSxhQUh4QjROLHNCQUFtQkMsWUFNM0JELEVBQWtCcFAsVUFBWWxCLE9BQU9ZLE9BQU80UCxXQUFXdFAsV0FDdkRvUCxFQUFrQnBQLFVBQVUrRyxZQUFjcUksRUFFMUNBLEVBQWtCcFAsVUFBVXNCLFdBQWEsV0FDckNnTyxXQUFXdFAsVUFBVXNCLFdBQVcvQyxLQUFLb0MsT0FHekN5TyxFQUFrQnBQLFVBQVV1UCxZQUFjLFdBQ3RDRixNQUFNL04sY0FHVjhOLEVBQWtCcFAsVUFBVU4sT0FBUyxXQUNqQzRQLFdBQVd0UCxVQUFVTixPQUFPbkIsS0FBS29DLE1BQ2pDQSxLQUFLNk8sb0JBR1RKLEVBQWtCcFAsVUFBVXVQLFlBQWMsV0FDdENGLE1BQU0vTixjQUdWOE4sRUFBa0JwUCxVQUFVZ0ksTUFBUSxXQUNoQ3NILFdBQVd0UCxVQUFVZ0ksTUFBTXpKLEtBQUtvQyxNQUNoQ3NDLGFBQWF3TSxhQUViOU8sS0FBSytPLFlBQVkvTyxLQUFLZ1AsYUFBYSxHQUNuQ2hQLEtBQUtpUCxhQUdUUixFQUFrQnBQLFVBQVU0RyxPQUFTLFdBQ2pDMEksV0FBV3RQLFVBQVU0RyxPQUFPckksS0FBS29DLE9BR3JDeU8sRUFBa0JwUCxVQUFVNlAsT0FBUyxXQUNqQyxPQUFPUCxXQUFXdFAsVUFBVTZQLE9BQU90UixLQUFLb0MsT0FHNUN5TyxFQUFrQnBQLFVBQVU4UCxVQUFZLFdBQ3BDUixXQUFXdFAsVUFBVThQLFVBQVV2UixLQUFLb0MsTUFDcENzQyxhQUFhOE0scUJBR2pCWCxFQUFrQnBQLFVBQVVnUSxvQkFBc0IsV0FDOUMsSUFDSUMsRUFBZTdELFNBQVM4RCxTQUFZOUQsU0FBUzhELFNBQVcsRUFDNUQ5RyxFQUFFLGlCQUFpQitHLEtBQW5CLHdEQUM0REYsRUFENUQsdWlCQWlCQTdHLEVBQUUsOEJBQThCZ0gsTUFBTSxXQUNsQ2hCLEVBQWtCcFAsVUFBVTRQLGVBSXBDUixFQUFrQnBQLFVBQVVxUSxpQkFBbUIsV0FDM0MsSUFBSXBCLEVBQVV0TyxLQUNWc1AsRUFBZTdELFNBQVM4RCxTQUFZOUQsU0FBUzhELFNBQVcsRUFDNUQ5RyxFQUFFLGlCQUFpQitHLEtBQW5CLHVDQUMyQ0YsRUFEM0MsZ2pEQXdEQTdHLEVBQUUseUJBQXlCZ0gsTUFBTSxTQUFVNUssR0FDdkMsSUFBSTNCLEVBZnFCLFdBQ3pCLElBQUk2RSxFQUFRVSxFQUFFLGNBQWNrSCxNQUl4QkMsR0FDQUMsWUFKV3BILEVBQUUsb0JBQW9Ca0gsTUFLakNHLFNBSldySCxFQUFFLGlCQUFpQmtILE1BSzlCNUgsTUFBT0EsR0FHWCxPQURXMUcsS0FBS0MsVUFBVXNPLEdBS2ZHLEdBQ1hwUSxlQUFhb0osY0FBYzdGLEVBQU1vTCxFQUFRZSx1QkFHN0M1RyxFQUFFLGtCQUFrQmdILE1BQU0sU0FBVTVLLEdBQ2hDNEosRUFBa0JwUCxVQUFVNFAsZUFJcENSLEVBQWtCcFAsVUFBVTRQLFVBQVksV0FDcEMsSUFBSVgsRUFBVXRPLEtBQ1ZzUCxFQUFlN0QsU0FBUzhELFNBQVk5RCxTQUFTOEQsU0FBVyxFQUM1RDlHLEVBQUUsaUJBQWlCK0csS0FBbkIsb0NBQ3dDRixFQUR4QyxtMUNBaURBN0csRUFBRSxzQkFBc0JnSCxNQUFNLFNBQVU1SyxHQUNwQyxJQUFJM0IsRUFkYyxXQUNsQixJQUdJOE0sR0FDQWpJLE1BSlFVLEVBQUUsbUJBQW1Ca0gsTUFLN0JHLFNBSldySCxFQUFFLHNCQUFzQmtILE9BUXZDLE9BRFd0TyxLQUFLQyxVQUFVME8sR0FLZkMsR0FDWHRRLGVBQWEySixVQUFVcEcsRUFBTW9MLEVBQVE0QixtQkFHekN6SCxFQUFFLDJCQUEyQmdILE1BQU0sU0FBVTVLLEdBQ3pDNEosRUFBa0JwUCxVQUFVcVEsc0JBSXBDakIsRUFBa0JwUCxVQUFVNlEsZ0JBQWtCLFdBQzFDLElBQ0laLEVBQWU3RCxTQUFTOEQsU0FBWTlELFNBQVM4RCxTQUFXLEVBQzVEOUcsRUFBRSxpQkFBaUIrRyxLQUFuQixnREFDb0RGLEVBRHBELHl5REE0Q0E3RyxFQUFFLG9CQUFvQjBILE9BOEN0QnhRLGVBQWE0SSx3QkFBd0I1SSxlQUFhaUgsVUE1Q2pDLFNBQVU4QixHQUN2QkQsRUFBRSxzQkFBc0IwSCxPQUN4QjFILEVBQUUsb0JBQW9CMkgsT0FDdEJ6USxlQUFhbUgsZUFDYixJQUFJdUosRUFBUSxFQUNaMVEsZUFBYW1ILFlBQVlsRixLQUFLLE1BQzlCOEcsRUFBUzdHLFFBQVEsU0FBQTlELEdBRWIsSUFBSXVTLEVBQWFwRSxPQUFPMUcsTUFBTXpILEdBQzlCNEIsZUFBYW1ILFlBQVlsRixLQUFLME8sR0FDOUIsSUFBSUMsRUFBV0QsRUFBV3JGLE9BQU9ELE1BQU0sR0FDdkN2QyxFQUFFLG9CQUFvQitILE9BQXRCLCtEQUU2QkgsRUFGN0IsK0NBR1VFLEVBQVNuRyxhQUhuQiwrQkFJVW1HLEVBQVMzRyxhQUpuQiw4QkFLVTJHLEVBQVN2UyxLQUxuQiwwQ0FRQXlLLFVBQVU0SCxHQUFTSSxLQUFLLFlBQXhCLEdBQXdDSixHQUFTWixNQUFPLFNBQVU3QixHQUU5RG5GLEVBQUUsaUJBQWlCK0csS0FBSyxJQUN4QmYsRUFBa0JwUCxVQUFVdVAsY0FFNUIsSUFBSThCLEVBQVFDLE9BQU9sSSxFQUFFbUYsRUFBSWdELGVBQWVILEtBQUssY0FDekNJLEVBQU9sUixlQUFhbUgsWUFBWTRKLEdBQ3BDL1EsZUFBYXdMLGNBQWMwRixLQWMvQlIsUUFNUjVILEVBQUUsdUJBQXVCZ0gsTUFBTyxXQUM1QmhCLEVBQWtCcFAsVUFBVXlSLGtCQUlwQ3JDLEVBQWtCcFAsVUFBVXlSLGFBQWUsV0FDdkMsSUFDSXhCLEVBQWU3RCxTQUFTOEQsU0FBWTlELFNBQVM4RCxTQUFXLEVBQzVEOUcsRUFBRSxpQkFBaUIrRyxLQUFuQix5RUFDNkVGLEVBRDdFLG82RUErREE3RyxFQUFFLGdCQUFnQjBILE9BRWxCLElBQUlZLEVBQWlCLFdBQ2pCLE9BQU90SSxFQUFFLDJCQUEyQmtILE9BR3hDbEgsRUFBRSx1QkFBdUJnSCxNQUFPLFdBQzVCaEgsRUFBRSxnQkFBZ0IwSCxPQUNsQjFILEVBQUUsbUJBQW1CMkgsU0FJekIzSCxFQUFFLG1CQUFtQmdILE1BQU8sV0FDeEIsSUFBSS9GLEVBQVdxSCxJQUNmLEdBQWlCLEtBQWJySCxFQUdBLE9BRkFqQixFQUFFLG1CQUFtQjBILFlBQ3JCMUgsRUFBRSxnQkFBZ0IySCxPQUl0QnpRLGVBQWFpTSxjQUFjak0sZUFBYWlILFVBQVcsV0FBWTZILEVBQWtCcFAsVUFBVTZRLGdCQUFpQnhHLEdBRTVHK0UsRUFBa0JwUCxVQUFVMlIsa0JBR2hDdkksRUFBRSxpQkFBaUJnSCxNQUFPLFdBQ3RCLElBQUkvRixFQUFXcUgsSUFDZixHQUFpQixLQUFickgsRUFHQSxPQUZBakIsRUFBRSxtQkFBbUIwSCxZQUNyQjFILEVBQUUsZ0JBQWdCMkgsT0FJdEJ6USxlQUFhaU0sY0FBY2pNLGVBQWFpSCxVQUFXLFVBQVc2SCxFQUFrQnBQLFVBQVU2USxnQkFBaUJ4RyxHQUUzRytFLEVBQWtCcFAsVUFBVTJSLGtCQUloQ3ZJLEVBQUUsc0JBQXNCZ0gsTUFBTyxXQUMzQixJQUFJL0YsRUFBV3FILElBQ2YsR0FBaUIsS0FBYnJILEVBR0EsT0FGQWpCLEVBQUUsbUJBQW1CMEgsWUFDckIxSCxFQUFFLGdCQUFnQjJILE9BSXRCelEsZUFBYWlNLGNBQWNqTSxlQUFhaUgsVUFBVyxTQUFVNkgsRUFBa0JwUCxVQUFVNlEsZ0JBQWlCeEcsR0FFMUcrRSxFQUFrQnBQLFVBQVUyUixrQkFJaEN2SSxFQUFFLHlCQUF5QmdILE1BQU8sV0FDOUIsSUFBSS9GLEVBQVdxSCxJQUNmLEdBQWlCLEtBQWJySCxFQUdBLE9BRkFqQixFQUFFLG1CQUFtQjBILFlBQ3JCMUgsRUFBRSxnQkFBZ0IySCxPQUl0QnpRLGVBQWFpTSxjQUFjak0sZUFBYWlILFVBQVcsWUFBYTZILEVBQWtCcFAsVUFBVTZRLGdCQUFpQnhHLEdBRTdHK0UsRUFBa0JwUCxVQUFVMlIsbUJBSXBDdkMsRUFBa0JwUCxVQUFVMlIsY0FBZ0IsV0FDeEMsSUFDSTFCLEVBQWU3RCxTQUFTOEQsU0FBWTlELFNBQVM4RCxTQUFXLEVBQzVEOUcsRUFBRSxpQkFBaUIrRyxLQUFuQix3Q0FDNENGLEVBRDVDLHdXQWFKYixFQUFrQnBQLFVBQVV3UCxpQkFBbUIsV0FDM0M3TyxLQUFLaVIsYUFBZSxJQUFJQyxPQUFPQyxhQUFhQyxXQUFXN0YsWUFBWThGLGFBQ25FclIsS0FBS3NSLGFBQWUsSUFBSUosT0FBT0MsYUFBYUksV0FBV2hHLFlBQVlpRyxhQUNuRXhSLEtBQUtrRyxTQUFTbEcsS0FBS2lSLGNBQ25CalIsS0FBS2tHLFNBQVNsRyxLQUFLc1IsY0FDZnRSLEtBQUt5UixhQUFhelIsS0FBS2lSLGNBQzNCalIsS0FBS3lSLGFBQWF6UixLQUFLc1IsY0FDbkJ0UixLQUFLMFIsb0JBR2JqRCxFQUFrQnBQLFVBQVVxUyxpQkFBbUIsV0FDM0MxUixLQUFLMlIsaUJBQW1CLElBQUlULE9BQU8sSUFBSVUsT0FBT25HLFNBQVNvRyxNQUFPcEcsU0FBU3FHLFNBQ3ZFOVIsS0FBS2tHLFNBQVNsRyxLQUFLMlIsa0JBQ2ZwRyxZQUFZd0csY0FDWi9SLEtBQUtnUyxpQkFJYnZELEVBQWtCcFAsVUFBVTJTLGNBQWdCLFdBQ3hDLElBQ0lwTyxFQUFJNkgsU0FBU3FHLE9BQVMsRUFDdEJHLEVBQVd4RyxTQUFTb0csTUFBUWxPLEdBQzVCdU8sRUFBTzNHLFlBQVk0RyxVQUN2Qm5TLEtBQUsyUixpQkFBaUJTLE9BQU9DLGFBQWUsUUFDNUNyUyxLQUFLMlIsaUJBQWlCUyxPQUFPRSxhQUFlLEVBQzVDdFMsS0FBSzJSLGlCQUFpQlMsT0FBT0csU0FBVyxHQUN4Q3ZTLEtBQUsyUixpQkFBaUJTLE9BQU9JLFNBQVNOLEVBUDlCLEdBT3VDdE8sRUFBR3FPLEVBQVUsR0FBSSxXQUdwRXhELEVBQWtCcFAsVUFBVW9TLGFBQWUsU0FBU2dCLEdBQ2hEQSxFQUFPOU8sRUFBSThILFNBQVNvRyxNQUFRLEVBQzVCWSxFQUFPN08sRUFBSTZILFNBQVNxRyxPQUFTLEVBQzdCVyxFQUFPQyxPQUFPL08sRUFBSSxHQUNsQjhPLEVBQU9DLE9BQU85TyxFQUFJLElBR3RCNkssRUFBa0JwUCxVQUFVc1QsZUFBaUIsV0FDekNDLGFBQWFDLFFBQVF0SCxZQUFZdUgsVUFDakNGLGFBQWFHLFVBQ2JILGFBQWFJLFVBSWpCQyxXQUFXNVQsVUFBVWdJLE1BQVEsV0FDekJzSCxXQUFXdFAsVUFBVWdJLE1BQU16SixLQUFLb0MsTUFDaENrVCxhQUFhQyx5QkFDVHJULFlBQVlzVCxnQkFDWnRULFlBQVl1VCxrQkFDWi9RLGFBQWFxSixLQUFLakUsZUFDWDVILFlBQVl3VCxlQUNuQnhULFlBQVl5VCxpQkFDWmpSLGFBQWFxSixLQUFLdkwsYUFFbEJKLEtBQUt3VCxzQkFDTDFULFlBQVkyVCxlQUNablIsYUFBYXFKLEtBQUs4QyxJQUV0QnpPLEtBQUswVCx1QkFVUmhGLE1BQU1pRixXQUFhLFNBQVM3TixHQUNwQjlGLEtBQUs0VCxzQkFBc0I5TixJQUMzQkEsRUFBTStOLGlCQUVZLE1BQWxCL04sRUFBTWdPLFNBQ045VCxLQUFLK1QsUUFFVCxJQUFJQyxFQUFhaFUsS0FBS2lVLFVBQVVuTyxFQUFNZ08sU0FDbENFLElBQ0FoVSxLQUFLa1UsY0FBY0YsSUFBYyxJQVV6Q3RGLE1BQU1rRixzQkFBd0IsU0FBUy9PLEdBQ25DLE9BQVFBLEVBQUVpUCxTQUNULEtBQUssRUFDSixHQUFJckwsRUFBRTVELEVBQUVzUCxRQUFRQyxHQUFHLG1CQUNsQixNQUNGLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNELE9BQU8sRUFFWixPQUFPIiwiZmlsZSI6Ik9ubGluZVN5c3RlbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7R2FtZV9OZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVDb3JlXCI7XHJcbmltcG9ydCB7T25saW5lX1BhcnR5fSBmcm9tIFwiLi9vbmxpbmVQYXJ0eVwiO1xyXG5pbXBvcnQgKiBhcyBCcm9hZGNhc3RlciBmcm9tIFwiLi9vbmxpbmVNYXBCcm9hZGNhc3RlclwiO1xyXG5pbXBvcnQgKiBhcyBMb2dpblBvcnRhbCBmcm9tIFwiLi9sb2dpblBvcnRhbFwiO1xyXG5leHBvcnQgeyRnYW1lTmV0d29yaywgJG9ubGluZVBhcnR5fTtcclxuXHJcbnZhciAkZ2FtZU5ldHdvcmsgPSBudWxsO1xyXG52YXIgJG9ubGluZVBhcnR5ID0gbnVsbDtcclxuXHJcbmxldCBNYWdlQ29yZUNyZWF0ZUdhbWVPYmogPSBEYXRhTWFuYWdlci5jcmVhdGVHYW1lT2JqZWN0cztcclxuRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBNYWdlQ29yZUNyZWF0ZUdhbWVPYmouY2FsbCh0aGlzKTtcclxuICAgICRnYW1lTmV0d29yayA9ICRnYW1lTmV0d29yayB8fCBuZXcgR2FtZV9OZXR3b3JrKCk7XHJcbiAgICAkb25saW5lUGFydHkgPSAkb25saW5lUGFydHkgfHwgbmV3IE9ubGluZV9QYXJ0eSgpO1xyXG59OyIsIiAgICBpbXBvcnQgeyRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCI7XHJcbiAgICBleHBvcnQge1NjZW5lX01hcCwgU3ByaXRlc2V0X01hcCwgR2FtZV9QbGF5ZXIsIEdhbWVfTWFwLCBHYW1lX05ldHdvcmtQbGF5ZXJ9XHJcblxyXG4gICAgXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byBicm9hZGNhdCBwbGF5ZXIgbG9jYXRpb24vc3ByaXRlIGluZm8gdG8gb3RoZXIgcGxheWVycyBpbiBtYXAgZ3JvdXBcclxuICAgIC8vIGF3YWl0IGNvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUsIGdyb3VwTXNnKTtcclxuICAgIFxyXG4gICAgLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gYWRkIHBsYXllciB0byBtYXAgZ3JvdXAgYmFzZWQgb24gbWFwIG5hbWVcclxuICAgIC8vIGF3YWl0IGNvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUpO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byByZW1vdmUgcGxheWVyIGZyb20gbWFwIGdyb3VwcyAod2hlbiBwbGF5ZXIgbGVhdmVzIG1hcCByb29tKVxyXG4gICAgLy8gYXdhaXQgY29ubmVjdGlvbi5pbnZva2UoXCJSZW1vdmVGcm9tTWFwR3JvdXBcIiwgbWFwR3JvdXBOYW1lKTtcclxuICAgIFxyXG4gICAgLy8gdmFyaWFibGUgdG8gaG9sZCBkYXRhIG9uIG90aGVyIHBsYXllcnMgaW4gbWFwR3JvdXBcclxuICAgIFxyXG4gICAgLy8gb3ZlcmxvYWQgbWFwIHNvY2tldCBjcmVhdGlvbiBmdW5jdGlvbiB0byBoYW5kbGUgYWRkaW5nIHBsYXllciB0byBtYXAgZ3JvdXAgaW5pdGlhbGx5IGFuZCB0b1xyXG4gICAgLy8gZGVmaW5lIGZ1bmN0aW9uIHVzZWQgdG8gYnJvYWRjYXN0IGluY29taW5nIHBsYXllciBkYXRhIHRvIG1hcFxyXG5cclxuICAgIFxyXG4gICAgY29uc3Qgb25NYXBMb2FkQUxpYXMgPSBTY2VuZV9NYXAucHJvdG90eXBlLm9uTWFwTG9hZGVkO1xyXG4gICAgU2NlbmVfTWFwLnByb3RvdHlwZS5vbk1hcExvYWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvbk1hcExvYWRBTGlhcy5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoJGdhbWVNYXAuX21hcElkICE9PSAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJSZW1vdmVGcm9tTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0RGF0YUV2ZW50SW5kZXhlcyA9IFtdOyBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkZGF0YU1hcC5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZGF0YU1hcC5ldmVudHNbaV0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhRXZlbnRJbmRleGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHRhcmdldERhdGFFdmVudEluZGV4ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YUV2ZW50SW5kZXhlcy5mb3JFYWNoKGkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRkYXRhTWFwLmV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRNYXBFdmVudEluZGV4ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAkZ2FtZU1hcC5fZXZlbnRzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRnYW1lTWFwLl9ldmVudHNbaV0uX2FjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU1hcC5fZXZlbnRzW2ldLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXBFdmVudEluZGV4ZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0TWFwRXZlbnRJbmRleGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldE1hcEV2ZW50SW5kZXhlcy5mb3JFYWNoKGkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTWFwLl9ldmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV0RXZlbnRzVG9SZW1vdmUgPSBbXTtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgZXZzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yKGxldCBuZXRFdmVudCBpbiBldnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldnMuaGFzT3duUHJvcGVydHkobmV0RXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2c1tuZXRFdmVudF0uX2lzTmV0d29ya1BsYXllckV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldEV2ZW50c1RvUmVtb3ZlLnB1c2goZXZzW25ldEV2ZW50XS5fYWNjb3VudFVzZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChuZXRFdmVudHNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBuZXRFdmVudHNUb1JlbW92ZS5mb3JFYWNoKG5ldEV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbbmV0RXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldC5jbGVhckFsbE5ldHdvcmtQbGF5ZXJFdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSAkZ2FtZU1hcC5fbWFwSWQ7XHJcblxyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb01hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmdhbWVfbG9hZGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgU3ByaXRlc2V0X01hcC5wcm90b3R5cGUuY2xlYXJOZXR3b3JrUGxheWVyID0gZnVuY3Rpb24oYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0uX2NoYXJhY3RlcjtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Ll9hY2NvdW50VXNlck5hbWUgPT09IGFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZW1hcC5yZW1vdmVDaGlsZCh0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgU3ByaXRlc2V0X01hcC5wcm90b3R5cGUuY2xlYXJBbGxOZXR3b3JrUGxheWVyRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0uX2NoYXJhY3RlcjtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Ll9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZW1hcC5yZW1vdmVDaGlsZCh0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICBsZXQgdXNlckFjY291bnQgPSBkYXRhLmFjY291bnRVc2VyTmFtZTtcclxuICAgICAgICBsZXQgbmV0RXZlbnRzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcblxyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uc2V0TW92ZVNwZWVkKGRhdGEubW92ZVNwZWVkKTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLnNldE1vdmVGcmVxdWVuY3koZGF0YS5tb3ZlRnJlcXVlbnp5KTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLm1vdmVTdHJhaWdodChkYXRhLmRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChuZXRFdmVudHNbdXNlckFjY291bnRdLnghPT1kYXRhLnggfHwgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS55IT09ZGF0YS55KXtcclxuICAgICAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5zZXRQb3NpdGlvbihkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5fY2hhcmFjdGVyTmFtZSA9IGRhdGEuY2hhcmFjdGVyTmFtZTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLl9jaGFyYWN0ZXJJbmRleCA9IGRhdGEuY2hhcmFjdGVySW5kZXg7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBvdmVybG9hZCBNViBmdW5jdGlvbiB0byBicm9hZGNhc3QgcGxheWVyIG1vdmVtZW50IHRvIG1hcCBncm91cC4gbG9naWMgdG8gaGFuZGxlIG1hcEdyb3VwIGNoYW5nZXMgYWxzbyBoZXJlXHJcbiAgICBHYW1lX1BsYXllci5wcm90b3R5cGUubW92ZUJ5SW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNb3ZpbmcoKSAmJiB0aGlzLmNhbk1vdmUoKSkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5nZXRJbnB1dERpcmVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJGdhbWVUZW1wLmNsZWFyRGVzdGluYXRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgkZ2FtZVRlbXAuaXNEZXN0aW5hdGlvblZhbGlkKCkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSAkZ2FtZVRlbXAuZGVzdGluYXRpb25YKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICRnYW1lVGVtcC5kZXN0aW5hdGlvblkoKTtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHRoaXMuZmluZERpcmVjdGlvblRvKHgsIHkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU1vdmUoZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmICgkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkICE9PSAkZ2FtZU1hcC5fbWFwSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiUmVtb3ZlRnJvbU1hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSAkZ2FtZU1hcC5fbWFwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkFkZFRvTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IG1hcEdyb3VwTmFtZSA9IFwibWFwUm9vbVwiICsgJGdhbWVNYXAuX21hcElkIFxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuc2VlZE5ld1BsYXllckV2ZW50ID0gZnVuY3Rpb24gKG5ld1BsYXllclgsIG5ld1BsYXllclksIHBsYXllckFjY291bnROYW1lKSB7XHJcbiAgICAgICAgbGV0IG5ld0V2ZW50SWQgPSAkZGF0YU1hcC5ldmVudHMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBlbXB0eUV2ZW50ID0gYHtcImlkXCI6JHtuZXdFdmVudElkfSxcIm5hbWVcIjpcIiR7cGxheWVyQWNjb3VudE5hbWV9XCIsXCJub3RlXCI6XCJcIixcInBhZ2VzXCI6W3tcImNvbmRpdGlvbnNcIjp7XCJhY3RvcklkXCI6MSxcImFjdG9yVmFsaWRcIjpmYWxzZSxcIml0ZW1JZFwiOjEsXCJpdGVtVmFsaWRcIjpmYWxzZSxcInNlbGZTd2l0Y2hDaFwiOlwiQVwiLFwic2VsZlN3aXRjaFZhbGlkXCI6ZmFsc2UsXCJzd2l0Y2gxSWRcIjoxLFwic3dpdGNoMVZhbGlkXCI6ZmFsc2UsXCJzd2l0Y2gySWRcIjoxLFwic3dpdGNoMlZhbGlkXCI6ZmFsc2UsXCJ2YXJpYWJsZUlkXCI6MSxcInZhcmlhYmxlVmFsaWRcIjpmYWxzZSxcInZhcmlhYmxlVmFsdWVcIjowfSxcImRpcmVjdGlvbkZpeFwiOmZhbHNlLFwiaW1hZ2VcIjp7XCJjaGFyYWN0ZXJJbmRleFwiOjAsXCJjaGFyYWN0ZXJOYW1lXCI6XCJcIixcImRpcmVjdGlvblwiOjIsXCJwYXR0ZXJuXCI6MCxcInRpbGVJZFwiOjB9LFwibGlzdFwiOlt7XCJjb2RlXCI6MCxcImluZGVudFwiOjAsXCJwYXJhbWV0ZXJzXCI6W119XSxcIm1vdmVGcmVxdWVuY3lcIjozLFwibW92ZVJvdXRlXCI6e1wibGlzdFwiOlt7XCJjb2RlXCI6MCxcInBhcmFtZXRlcnNcIjpbXX1dLFwicmVwZWF0XCI6dHJ1ZSxcInNraXBwYWJsZVwiOmZhbHNlLFwid2FpdFwiOmZhbHNlfSxcIm1vdmVTcGVlZFwiOjMsXCJtb3ZlVHlwZVwiOjAsXCJwcmlvcml0eVR5cGVcIjowLFwic3RlcEFuaW1lXCI6ZmFsc2UsXCJ0aHJvdWdoXCI6ZmFsc2UsXCJ0cmlnZ2VyXCI6MCxcIndhbGtBbmltZVwiOnRydWV9XSxcInhcIjoke25ld1BsYXllclh9LFwieVwiOiR7bmV3UGxheWVyWX0sXCJtZXRhXCI6e30sXCJfaXNOZXR3b3JrUGxheWVyRXZlbnRcIjp0cnVlfWA7XHJcbiAgICAgICAgJGRhdGFNYXAuZXZlbnRzLnB1c2goSlNPTi5wYXJzZShlbXB0eUV2ZW50KSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0V2ZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvL2xvZ2ljIHRvIGFkZCBuZXcgcGxheWVyIGluc3RhbmNlIHRvIG5ldHdvcmtNYXBFdmVudHNcclxuICAgIEdhbWVfTWFwLnByb3RvdHlwZS5hZGROZXR3b3JrUGxheWVyID0gZnVuY3Rpb24oeCwgeSwgcGxheWVyQWNjb3VudE5hbWUpIHtcclxuICAgICAgICBsZXQgbmV3UGxheWVyRXZlbnRJZCA9IEdhbWVfUGxheWVyLnByb3RvdHlwZS5zZWVkTmV3UGxheWVyRXZlbnQoeCwgeSwgcGxheWVyQWNjb3VudE5hbWUpO1xyXG4gICAgICAgIGxldCBuZXdQbGF5ZXJNYXBJZCA9IHRoaXMuX2V2ZW50cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1tuZXdQbGF5ZXJNYXBJZF0gPSBuZXcgR2FtZV9OZXR3b3JrUGxheWVyKHRoaXMuX21hcElkLCBuZXdQbGF5ZXJFdmVudElkLCB4LCB5KTtcclxuICAgICAgICB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdLl9hY2NvdW50VXNlck5hbWUgPSBwbGF5ZXJBY2NvdW50TmFtZTtcclxuICAgICAgICB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9IHRydWU7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5fc3ByaXRlc2V0LmNyZWF0ZU5ldHdvcmtQbGF5ZXIobmV3UGxheWVyTWFwSWQsIHBsYXllckFjY291bnROYW1lKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRzW25ld1BsYXllck1hcElkXTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIGxvZ2ljIHRvIGNyZWF0ZSBuZXcgcGxheWVyIGluc3RhbmNlIGZvciBuZXR3b3JrTWFwRXZlbnRzXHJcbiAgICBTcHJpdGVzZXRfTWFwLnByb3RvdHlwZS5jcmVhdGVOZXR3b3JrUGxheWVyID0gZnVuY3Rpb24odGFyZ2V0SW5kZXgsIHBsYXllckFjY291bnROYW1lKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50ID0gJGdhbWVNYXAuX2V2ZW50c1t0YXJnZXRJbmRleF07XHJcbiAgICAgICAgdmFyIHNJZCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXSA9IG5ldyBTcHJpdGVfQ2hhcmFjdGVyKGV2ZW50KTtcclxuICAgICAgICB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW3NJZF0uX2FjY291bnRVc2VyTmFtZSA9IHBsYXllckFjY291bnROYW1lO1xyXG4gICAgICAgIHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLl90aWxlbWFwLmFkZENoaWxkKHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvZ2ljIHRvIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgaW5zdGFuY2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gYnJvYWRjYXN0IHRvIHRoZSBtYXBcclxuICAgIGZ1bmN0aW9uIEdhbWVfTmV0d29ya1BsYXllcigpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR2FtZV9FdmVudC5wcm90b3R5cGUpO1xyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdhbWVfTmV0d29ya1BsYXllcjtcclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24obWFwSWQsIGV2ZW50SWQseCx5KSB7XHJcbiAgICAgICAgR2FtZV9FdmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsbWFwSWQsZXZlbnRJZCk7XHJcbiAgICAgICAgdGhpcy5faXNOZXR3b3JrUGxheWVyID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHgseSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiIsInZhciBJbXBvcnRlZCA9IEltcG9ydGVkIHx8IHt9O1xyXG5JbXBvcnRlZC5PbmxpbmVDb3JlID0gdHJ1ZTtcclxuXHJcbmltcG9ydCB7JGdhbWVOZXR3b3JrLCAkb25saW5lUGFydHl9IGZyb20gXCIuL29ubGluZVN5c3RlbVwiXHJcbmltcG9ydCB7IEdhbWVfTWFwIH0gZnJvbSBcIi4vb25saW5lTWFwQnJvYWRjYXN0ZXJcIjtcclxuZXhwb3J0IHtHYW1lX05ldHdvcmt9O1xyXG5cclxuICAgIC8qOlxyXG4gICAgICogQHBsdWdpbmRlc2MgUGx1Z2luIHRvIHN1cHBvcnQgb25saW5lIHBsYXkuXHJcbiAgICAgKiBAYXV0aG9yIEdhcnJldHQgV2FyZFxyXG4gICAgICpcclxuICAgICAqIEBoZWxwIFRCRFxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBHYW1lX05ldHdvcmsoKSB7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmFwaVVybCA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpJztcclxuICAgICAgICB0aGlzLnRva2VuID0gJyc7XHJcbiAgICAgICAgdGhpcy51c2VyRW1haWwgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMudXNlckFjY291bnROYW1lID0gXCJcIjtcclxuICAgICAgICB0aGlzLmN1cnJlbnRNYXBJZCA9IDA7IFxyXG4gICAgICAgIHRoaXMubWFwQ29ubmVjdGlvbiA9IHt9O1xyXG4gICAgICAgIHRoaXMubmV0d29ya01hcEV2ZW50cyA9IHt9O1xyXG4gICAgICAgIHRoaXMuZ2FtZV9sb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxvYWRlZEdhbWVzID0gW107XHJcbiAgICB9O1xyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBsZXQgY29ubmVjdGlvbiA9IG5ldyBzaWduYWxSLkh1YkNvbm5lY3Rpb25CdWlsZGVyKClcclxuICAgICAgICAud2l0aFVybChcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9nYW1lTWFwSHViXCIpXHJcbiAgICAgICAgLmJ1aWxkKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xyXG4gICAgICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHBsYXllckRhdGEgPSAkZ2FtZU5ldHdvcmsuR2V0UGxheWVyQ2FzdGVyRGF0YSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkFkZFRvTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24ub24oXCJOZXdQbGF5ZXJPbk1hcFwiLCBmdW5jdGlvbiAocGxheWVyRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShwbGF5ZXJEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS54ID09PSAwIHx8IGRhdGEueSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnggPSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnkgPSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3TmV0d29ya1BsYXllciA9ICRnYW1lTWFwLmFkZE5ldHdvcmtQbGF5ZXIoZGF0YS54LCBkYXRhLnksIGRhdGEuYWNjb3VudFVzZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tkYXRhLmFjY291bnRVc2VyTmFtZV0gPSBuZXdOZXR3b3JrUGxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5tZW1iZXJzLnB1c2gobmV3TmV0d29ya1BsYXllcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5VcGRhdGVOZXR3b3JrUGxheWVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwaW5nRGF0YSA9IEdhbWVfTmV0d29yay5wcm90b3R5cGUuR2V0UGxheWVyQ2FzdGVyRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkJyb2FkY2FzdFRvTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwaW5nRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24ub24oXCJQbGF5ZXJNYXBVcGRhdGVcIiwgZnVuY3Rpb24gKHBsYXllckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFTY2VuZU1hbmFnZXIuX3NjZW5lLl9zcHJpdGVzZXQgfHwgU2NlbmVNYW5hZ2VyLl9zY2VuZSBpbnN0YW5jZW9mIFNjZW5lX0JhdHRsZSkgeyAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShwbGF5ZXJEYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbZGF0YS5hY2NvdW50VXNlck5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5VcGRhdGVOZXR3b3JrUGxheWVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdOZXR3b3JrUGxheWVyID0gJGdhbWVNYXAuYWRkTmV0d29ya1BsYXllcihkYXRhLngsIGRhdGEueSwgZGF0YS5hY2NvdW50VXNlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tkYXRhLmFjY291bnRVc2VyTmFtZV0gPSBuZXdOZXR3b3JrUGxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkb25saW5lUGFydHkubWVtYmVycy5wdXNoKG5ld05ldHdvcmtQbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuVXBkYXRlTmV0d29ya1BsYXllcihkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24ub24oXCJSZW1vdmVQbGF5ZXJGcm9tTWFwXCIsIGZ1bmN0aW9uIChwbGF5ZXJEYXRhKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShwbGF5ZXJEYXRhKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldERhdGFFdmVudEluZGV4ID0gMDsgXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkZGF0YU1hcC5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRkYXRhTWFwLmV2ZW50c1tpXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRkYXRhTWFwLmV2ZW50c1tpXS5uYW1lID09PSBkYXRhLmFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldERhdGFFdmVudEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkZGF0YU1hcC5ldmVudHMuc3BsaWNlKHRhcmdldERhdGFFdmVudEluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE1hcEV2ZW50SW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgJGdhbWVNYXAuX2V2ZW50cy5sZW5ndGg7IGkgKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRnYW1lTWFwLl9ldmVudHNbaV0uX2FjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRnYW1lTWFwLl9ldmVudHNbaV0uX2FjY291bnRVc2VyTmFtZSA9PT0gZGF0YS5hY2NvdW50VXNlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXBFdmVudEluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU1hcC5fZXZlbnRzLnNwbGljZSh0YXJnZXRNYXBFdmVudEluZGV4LCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXTtcclxuICAgICAgICAgICAgICAgICAgICBTY2VuZU1hbmFnZXIuX3NjZW5lLl9zcHJpdGVzZXQuY2xlYXJOZXR3b3JrUGxheWVyKGRhdGEuYWNjb3VudFVzZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ2FwdHVyZUxvZ2luUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2VEYXRhKSB7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLnRva2VuID0gcmVzcG9uc2VEYXRhLnRva2VuO1xyXG4gICAgICAgICRnYW1lTmV0d29yay51c2VyRW1haWwgPSByZXNwb25zZURhdGEuZW1haWw7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLnVzZXJBY2NvdW50TmFtZSA9IHJlc3BvbnNlRGF0YS51c2VyO1xyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuR2V0UGxheWVyQ2FzdGVyRGF0YSA9IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgbGV0IHBsYXllckRhdGEgPSB7XHJcbiAgICAgICAgICAgIGFjY291bnRVc2VyTmFtZTogJGdhbWVOZXR3b3JrLnVzZXJBY2NvdW50TmFtZSxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiAkZ2FtZVBsYXllci5fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICB4OiAkZ2FtZVBsYXllci5feCxcclxuICAgICAgICAgICAgeTogJGdhbWVQbGF5ZXIuX3ksXHJcbiAgICAgICAgICAgIG1vdmVTcGVlZDogJGdhbWVQbGF5ZXIuX21vdmVTcGVlZCxcclxuICAgICAgICAgICAgbW92ZUZyZXF1ZW56eTogJGdhbWVQbGF5ZXIuX21vdmVGcmVxdWVuY3ksXHJcbiAgICAgICAgICAgIGNoYXJhY3Rlck5hbWU6ICRnYW1lUGxheWVyLl9jaGFyYWN0ZXJOYW1lLFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJJbmRleDogJGdhbWVQbGF5ZXIuX2NoYXJhY3RlckluZGV4XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwbGF5ZXJEYXRhO1xyXG4gICAgfTtcclxuICAgICAgICBcclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuTG9hZEdhbWVGaWxlc0Zyb21TZXJ2ZXIgPSBmdW5jdGlvbih1c2VyRW1haWwsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgJC5nZXQoJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvR2FtZURhdGEvJHt1c2VyRW1haWx9YCwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XHJcbiAgICAgICAgfSkuZmFpbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgd2luZG93LmFsZXJ0KCdMb2FkIGZhaWxlZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNyZWF0ZU5ld1VzZXIgPSBmdW5jdGlvbih1c2VyRGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0FjY291bnRzL3JlZ2lzdGVyYCxcclxuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHVzZXJEYXRhLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkxvZ1VzZXJJbiA9IGZ1bmN0aW9uKHVzZXJEYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvQWNjb3VudHMvbG9naW5gLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay51c2VyRW1haWwgPSByLmVtYWlsO1xyXG4gICAgICAgICAgICAgICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DYXB0dXJlTG9naW5SZXNwb25zZShyKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ2xhc3NTZWxlY3QgPSBmdW5jdGlvbiAoc2F2ZWZpbGUsIGNsYXNzQ2hvaWNlLCBjaGFyTmFtZSkge1xyXG5cclxuICAgICAgICBsZXQgbmV3QWN0b3IgPSBbXTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoY2xhc3NDaG9pY2UgPT09ICdDbGFuc21lbicpIHtcclxuICAgICAgICAgICAgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjEsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IxXzFcIixcImNoYXJhY3RlckluZGV4XCI6MCxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yMVwiLFwiY2xhc3NJZFwiOjEsXCJlcXVpcHNcIjpbMSwxLDIsMywwXSxcImZhY2VJbmRleFwiOjAsXCJmYWNlTmFtZVwiOlwiQWN0b3IxXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKGNsYXNzQ2hvaWNlID09PSAnQmlnIEhhdCcpIHtcclxuICAgICAgICAgICAgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjIsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IyXzVcIixcImNoYXJhY3RlckluZGV4XCI6NCxcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yMlwiLFwiY2xhc3NJZFwiOjMsXCJlcXVpcHNcIjpbMywwLDAsMCwwXSxcImZhY2VJbmRleFwiOjQsXCJmYWNlTmFtZVwiOlwiQWN0b3IyXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9IGVsc2UgaWYgKGNsYXNzQ2hvaWNlID09PSAnRGl2aW5lJykge1xyXG4gICAgICAgICAgICBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6NCxcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjJfNFwiLFwiY2hhcmFjdGVySW5kZXhcIjozLFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IzXCIsXCJjbGFzc0lkXCI6NCxcImVxdWlwc1wiOls0LDAsMCwwLDBdLFwiZmFjZUluZGV4XCI6MyxcImZhY2VOYW1lXCI6XCJBY3RvcjNcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdNZXJjZW5hcnknKSB7XHJcbiAgICAgICAgICAgIG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjozLFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMV83XCIsXCJjaGFyYWN0ZXJJbmRleFwiOjYsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjFcIixcImNsYXNzSWRcIjoyLFwiZXF1aXBzXCI6WzIsMCwwLDAsMF0sXCJmYWNlSW5kZXhcIjo2LFwiZmFjZU5hbWVcIjpcIkFjdG9yMVwiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgJGRhdGFBY3RvcnMgPSBuZXdBY3RvcjtcclxuICAgICAgICBsZXQgYWN0b3JzQXJyYXkgPSBuZXcgR2FtZV9BY3RvcnMoKTtcclxuICAgICAgICBsZXQgZ2FtZUFjdG9yID0gbmV3IEdhbWVfQWN0b3IoMSk7XHJcbiAgICAgICAgbGV0IGluaXRpYWxpemVkQWN0b3IgPSBPYmplY3QuYXNzaWduKGdhbWVBY3RvciwgbmV3QWN0b3JbMV0pO1xyXG4gICAgICAgIG5ld0FjdG9yWzFdID0gaW5pdGlhbGl6ZWRBY3RvcjtcclxuICAgICAgICBhY3RvcnNBcnJheS5fZGF0YSA9IG5ld0FjdG9yO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNhdmVmaWxlLmFjdG9ycyA9IGFjdG9yc0FycmF5O1xyXG4gICAgICAgIHNhdmVmaWxlLmRhdGFBY3RvcnMgPSAkZGF0YUFjdG9ycztcclxuXHJcbiAgICAgICAgcmV0dXJuIHNhdmVmaWxlO1xyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuTG9hZFNhdmVkR2FtZSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xyXG5cclxuICAgICAgICBEYXRhTWFuYWdlci5jcmVhdGVHYW1lT2JqZWN0cygpO1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLmV4dHJhY3RTYXZlQ29udGVudHMoY29udGVudHMpO1xyXG4gICAgICAgICRkYXRhQWN0b3JzID0gY29udGVudHMuZGF0YUFjdG9ycztcclxuXHJcbiAgICAgICAgbGV0IGFjdG9yc0FycmF5ID0gbmV3IEdhbWVfQWN0b3JzKCk7XHJcbiAgICAgICAgbGV0IGdhbWVBY3RvciA9IG5ldyBHYW1lX0FjdG9yKDEpO1xyXG4gICAgICAgIGFjdG9yc0FycmF5Ll9kYXRhID0gW251bGwsIGdhbWVBY3Rvcl07XHJcbiAgICAgICAgJGdhbWVBY3RvcnMgPSBhY3RvcnNBcnJheTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSAkZGF0YVN5c3RlbS5zdGFydE1hcElkO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgR3JhcGhpY3MuZnJhbWVDb3VudCA9IDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmdvdG8oU2NlbmVfTWFwKTtcclxuXHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmNvbm5lY3RNYXBTb2NrZXRBZnRlckxvZ2luKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ3JlYXRlTmV3R2FtZSA9IGZ1bmN0aW9uIChvd25lckVtYWlsLCBjbGFzc0Nob2ljZSwgY2FsbGJhY2ssIGNoYXJOYW1lKSB7XHJcbiAgICAgICAgbGV0IHNhdmVDb250ZW50cyA9IERhdGFNYW5hZ2VyLm1ha2VTYXZlQ29udGVudHMoKTtcclxuICAgICAgICBjb25zdCBuZXdnYW1lID0gJGdhbWVOZXR3b3JrLkNsYXNzU2VsZWN0KHNhdmVDb250ZW50cywgY2xhc3NDaG9pY2UsIGNoYXJOYW1lKTtcclxuICAgICAgICBsZXQganNvbiA9IEpzb25FeC5zdHJpbmdpZnkobmV3Z2FtZSk7XHJcbiAgICAgICAgLy8gbGV0IGRhdGEgPSBMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KGpzb24pO1xyXG5cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInlpcHBlXCIpO1xyXG5cclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICRnYW1lTmV0d29yay5hcGlVcmwgKyBgL0dhbWVEYXRhL1NhdmVOZXdHYW1lLyR7b3duZXJFbWFpbH1gLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YToganNvbixcclxuICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiIsImV4cG9ydCB7T25saW5lX1BhcnR5LCBPbmxpbmVfUGFydHlfV2luZG93fTtcclxuaW1wb3J0IHskb25saW5lUGFydHksICRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCI7XHJcbmltcG9ydCB7UGFydHlQb3J0YWxXaW5kb3d9IGZyb20gXCIuL3BhcnR5UG9ydGFsXCI7XHJcblxyXG5mdW5jdGlvbiBPbmxpbmVfUGFydHkoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5tZW1iZXJzID0gW107XHJcbiAgICB0aGlzLnBhcnR5Q29ubmVjdGlvbiA9IHt9O1xyXG4gICAgdGhpcy5pc0hvc3QgPSBmYWxzZTtcclxuICAgIHRoaXMucGFydGllc1NlZWtpbmcgPSBbXTtcclxuICAgIHRoaXMucGxheWVyT3B0aW9ucyA9IFtdO1xyXG4gICAgdGhpcy5wYXJ0eU9wdGlvbnMgPSBbXTtcclxuICAgIHRoaXMuY3VycmVudFBhcnR5UG9ydGFsID0ge307IFxyXG59O1xyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5tYWtlTmV3UGFydHlDb25uZWN0aW9uID0gZnVuY3Rpb24gKGFzSG9zdCkge1xyXG5cclxuICAgIGxldCBjb25uZWN0aW9uID0gbmV3IHNpZ25hbFIuSHViQ29ubmVjdGlvbkJ1aWxkZXIoKVxyXG4gICAgLndpdGhVcmwoXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvb25saW5lUGFydHlIdWJcIilcclxuICAgIC5idWlsZCgpO1xyXG5cclxuICAgICRvbmxpbmVQYXJ0eS5wYXJ0eUNvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xyXG4gICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCAkb25saW5lUGFydHkucGFydHlDb25uZWN0aW9uLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXNIb3N0KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGluZyA9IFwiaGVsbG9cIjtcclxuICAgICAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5wYXJ0eUNvbm5lY3Rpb24ub24oXCJOZXdQYXJ0eVdpdGhIb3N0XCIsIGZ1bmN0aW9uIChwb25nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LmlzSG9zdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVNZXNzYWdlLmFkZChcIllvdXIgUGFydHkgV2FzIENyZWF0ZWQgISFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5hZGRDaGlsZChuZXcgT25saW5lX1BhcnR5X1dpbmRvdyk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb1BhcnR5QXNIb3N0XCIsIGBwYXJ0eTokeyRnYW1lTmV0d29yay51c2VyQWNjb3VudE5hbWV9YCwgcGluZyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICRnYW1lTWVzc2FnZXMuYWRkKFwiWW91ciBQYXJ0eSBmYWlsZWQgdG8gY3JlYXRlIFwiKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSkoKTtcclxufTtcclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUubWFrZU9ubGluZVBhcnR5UG9ydGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgJG9ubGluZVBhcnR5LnBvcHVsYXRlUGxheWVyT3B0aW9ucygpO1xyXG4gICAgbGV0IHBhcnR5UG9ydGFsID0gbmV3IFBhcnR5UG9ydGFsV2luZG93KDMwMCwgMzAwKTtcclxuICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwgPSBwYXJ0eVBvcnRhbDtcclxuICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwuY2xlYXJDb21tYW5kTGlzdCgpO1xyXG4gICAgJG9ubGluZVBhcnR5LmN1cnJlbnRQYXJ0eVBvcnRhbC5tYWtlQ29tbWFuZExpc3QoKTtcclxuICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwuc2V0SGFuZGxlcignYWRkUGxheWVyVG9QYXJ0eScsIHRoaXMuYWRkUGxheWVyVG9QYXJ0eS5iaW5kKHRoaXMpKTsgICAgXHJcbiAgICBTY2VuZU1hbmFnZXIuX3NjZW5lLmFkZENoaWxkKHBhcnR5UG9ydGFsKTtcclxufTtcclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUucG9wdWxhdGVQbGF5ZXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHBsYXllcnMgPSAkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50cztcclxuICAgICRvbmxpbmVQYXJ0eS5wbGF5ZXJPcHRpb25zID0gW107XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gcGxheWVycykge1xyXG4gICAgICAgIGxldCBwbGF5ZXIgPSBwbGF5ZXJzW2tleV07XHJcbiAgICAgICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMucHVzaChwbGF5ZXIpO1xyXG4gICAgfTtcclxufTtcclxuXHJcblxyXG5PbmxpbmVfUGFydHkucHJvdG90eXBlLmFkZFBsYXllclRvUGFydHkgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICBjb25zb2xlLmxvZygnc2NvcmUnKTtcclxuICAgIGxldCBjdXJyZW50RXh0ZW50ID0gdGhpcy5jdXJyZW50UGFydHlQb3J0YWwuY3VycmVudEV4dCgpO1xyXG59O1xyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5uZXdQYXJ0eUFzSG9zdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBvbmxpbmVHcm91cCA9IHtcclxuICAgICAgICBob3N0OiAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lLFxyXG4gICAgICAgIHBsYXllcnM6IFskZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lXVxyXG4gICAgfTtcclxuXHJcbiAgICAkb25saW5lUGFydHkucGFydGllc1NlZWtpbmcucHVzaChvbmxpbmVHcm91cCk7XHJcbiAgICAkb25saW5lUGFydHkubWFrZU5ld1BhcnR5Q29ubmVjdGlvbih0cnVlKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIE9ubGluZV9QYXJ0eV9XaW5kb3coKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuT25saW5lX1BhcnR5X1dpbmRvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19CYXNlLnByb3RvdHlwZSk7XHJcbk9ubGluZV9QYXJ0eV9XaW5kb3cucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT25saW5lX1BhcnR5X1dpbmRvdztcclxuXHJcbk9ubGluZV9QYXJ0eV9XaW5kb3cucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgIFdpbmRvd19CYXNlLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgMCwgMCwgMjAwLCAxMDApO1xyXG5cclxuICAgIGxldCBwYXJ0eVN0cmluZyA9IFwiXCI7XHJcblxyXG4gICAgdGhpcy5kcmF3VGV4dEV4KGAkeyRnYW1lTmV0d29yay51c2VyQWNjb3VudE5hbWV9YCwgMiwgMilcclxufVxyXG5cclxuIiwiICAgIGV4cG9ydCB7UGFydHlQb3J0YWxXaW5kb3d9O1xyXG4gICAgaW1wb3J0IHskb25saW5lUGFydHksICRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCI7XHJcblxyXG4gICAgUGFydHlQb3J0YWxXaW5kb3cucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShXaW5kb3dfQ29tbWFuZC5wcm90b3R5cGUpO1xyXG4gICAgUGFydHlQb3J0YWxXaW5kb3cucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUGFydHlQb3J0YWxXaW5kb3c7XHJcblxyXG4gICAgZnVuY3Rpb24gUGFydHlQb3J0YWxXaW5kb3coeCwgeSkge1xyXG4gICAgICAgIFdpbmRvd19Db21tYW5kLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcywgeCwgeSwgMTAwLCAxMDApO1xyXG4gICAgICAgIC8vIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgUGFydHlQb3J0YWxXaW5kb3cucHJvdG90eXBlLm1ha2VDb21tYW5kTGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1ha2VDaGFyYWN0ZXJDb21tYW5kcygpO1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUucG9wdWxhdGVQbGF5ZXJPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgICAgICBsZXQgcGxheWVycyA9ICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzO1xyXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBwbGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGxldCBwbGF5ZXIgPSBwbGF5ZXJzW2tleV07XHJcbiAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5wbGF5ZXJPcHRpb25zLnB1c2gocGxheWVyKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUucG9wdWxhdGVQYXJ0eU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBwYXJ0aWVzID0gJG9ubGluZVBhcnR5Lm9wZW5QYXJ0aWVzO1xyXG4gICAgICAgIHBhcnRpZXMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgY29udGV4dC5wYXJ0eU9wdGlvbnMucHVzaChwKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgUGFydHlQb3J0YWxXaW5kb3cucHJvdG90eXBlLm1ha2VDaGFyYWN0ZXJDb21tYW5kcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICAgICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMuZm9yRWFjaChwID0+IHtcclxuICAgICAgICAgICAgY29udGV4dC5hZGRDb21tYW5kKGAke3AuX2FjY291bnRVc2VyTmFtZX1gLCAnYWRkUGxheWVyVG9QYXJ0eScsIHRydWUsIGAke3AuX2FjY291bnRVc2VyTmFtZX1gKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiIsImltcG9ydCB7JGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIlxyXG5leHBvcnQge1F1ZXN0RGVsdXhlUG9ydGFsLCBJbnB1dH1cclxuXHJcbmZ1bmN0aW9uIFF1ZXN0RGVsdXhlUG9ydGFsICgpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2NlbmVfQmFzZS5wcm90b3R5cGUpO1xyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBRdWVzdERlbHV4ZVBvcnRhbDtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5pbml0aWFsaXplLmNhbGwodGhpcyk7XHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5yZUJpbmRJbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgSW5wdXQuaW5pdGlhbGl6ZSgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUuY3JlYXRlLmNhbGwodGhpcyk7XHJcbiAgICB0aGlzLmNyZWF0ZUJhY2tncm91bmQoKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5yZUJpbmRJbnB1dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgSW5wdXQuaW5pdGlhbGl6ZSgpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUuc3RhcnQuY2FsbCh0aGlzKTtcclxuICAgIFNjZW5lTWFuYWdlci5jbGVhclN0YWNrKCk7XHJcbiAgICAvLyB0aGlzLnBsYXlUaXRsZU11c2ljKCk7XHJcbiAgICB0aGlzLnN0YXJ0RmFkZUluKHRoaXMuZmFkZVNwZWVkKCksIGZhbHNlKTtcclxuICAgIHRoaXMuTG9naW5Gb3JtKCk7XHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLnVwZGF0ZS5jYWxsKHRoaXMpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmlzQnVzeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIFNjZW5lX0Jhc2UucHJvdG90eXBlLmlzQnVzeS5jYWxsKHRoaXMpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnRlcm1pbmF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUudGVybWluYXRlLmNhbGwodGhpcyk7XHJcbiAgICBTY2VuZU1hbmFnZXIuc25hcEZvckJhY2tncm91bmQoKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5SZWdpc3RyYXRpb25TdWNjZXNzID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKCcjRXJyb3JQcmludGVyJykuaHRtbChcclxuICAgICAgICBgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NXcmFwcGVyXCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc1RleHRXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NUZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lzdHJhdGlvbiBTdWNjZXNmdWwhIFxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc0J1dHRvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc0J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMT0cgSU5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgXHJcbiAgICApO1xyXG4gICAgJCgnLnJlZ2lzdHJhdGlvblN1Y2Nlc3NCdXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkxvZ2luRm9ybSgpO1xyXG4gICAgfSlcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLlJlZ2lzdHJhdGlvbkZvcm0gPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoXHJcbiAgICAgICAgYDxkaXYgaWQ9XCJSZWdpc3RlckZvcm1cIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdGVyLXRleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvdmlkZSB5b3VyIGVtYWlsIGFkZHJlc3MsIGEgZGVzaXJlZCB1c2VyIG5hbWUsIGFuZCBhIHBhc3N3b3JkLiBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbWFpbFdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW1haWxJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJlbWFpbFRleHRcIiBwbGFjZWhvbGRlcj1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY2NvdW50TmFtZVdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNjb3VudE5hbWVJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJhY2NvdW50TmFtZVRleHRcIiBwbGFjZWhvbGRlcj1cInVzZXIgbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFzc3dvcmRXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhc3N3b3JkSW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwicGFzc3dvcmRUZXh0XCIgdHlwZT1cInBhc3N3b3JkXCIgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0ZXJCdXR0b25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdGVyQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZWdpc3RlclN1Ym1pdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVHSVNURVIgTk9XXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9Mb2dpbkJ1dHRvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9Mb2dpbkJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG9Mb2dpblN1Ym1pdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTE9HSU4gUE9SVEFMXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgIClcclxuXHJcbiAgICBsZXQgc2NyYXBlUmVnaXN0cmF0aW9uRm9ybSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgZW1haWwgPSAkKCcuZW1haWxUZXh0JykudmFsKCk7XHJcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gJCgnLmFjY291bnROYW1lVGV4dCcpLnZhbCgpO1xyXG4gICAgICAgIGxldCBwYXNzd29yZCA9ICQoJy5wYXNzd29yZFRleHQnKS52YWwoKTtcclxuXHJcbiAgICAgICAgbGV0IHJlZ2lzdHJhdGlvbkRhdGEgPSB7XHJcbiAgICAgICAgICAgIGFjY291bnROYW1lOiB1c2VybmFtZSxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1haWxcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShyZWdpc3RyYXRpb25EYXRhKTtcclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgfTtcclxuXHJcbiAgICAkKCcucmVnaXN0ZXJTdWJtaXRCdXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGxldCBkYXRhID0gc2NyYXBlUmVnaXN0cmF0aW9uRm9ybSgpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5DcmVhdGVOZXdVc2VyKGRhdGEsIGNvbnRleHQuUmVnaXN0cmF0aW9uU3VjY2Vzcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcudG9Mb2dpbkJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkxvZ2luRm9ybSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5Mb2dpbkZvcm0gPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoXHJcbiAgICAgICAgYDxkaXYgaWQ9XCJMb2dpbkZvcm1cIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIkxvZ2luV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2VsY29tZS10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFdlbGNvbWUuIExvZyBJbiBiZWxvdywgb3IgY2xpY2sgdGhlIFNpZ24gVXAgYnV0dG9uIHRvIGNyZWF0ZSBhIG5ldyBhY2NvdW50LiBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luRW1haWxXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luRW1haWxJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJsb2dpbkVtYWlsVGV4dFwiIHBsYWNlaG9sZGVyPVwiZW1haWxcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luUGFzc3dvcmRXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luUGFzc3dvcmRJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJsb2dpblBhc3N3b3JkVGV4dFwiIHBsYWNlaG9sZGVyPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ2luQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbkJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibG9naW5TdWJtaXRCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExPR0lOXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9SZWdpc3RlcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9SZWdpc3RlckJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG9SZWdpc3RlclN1Ym1pdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lHTiBVUCFcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgIGxldCBzY3JhcGVMb2dpbkluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGVtYWlsID0gJCgnLmxvZ2luRW1haWxUZXh0JykudmFsKCk7XHJcbiAgICAgICAgbGV0IHBhc3N3b3JkID0gJCgnLmxvZ2luUGFzc3dvcmRUZXh0JykudmFsKCk7XHJcblxyXG4gICAgICAgIGxldCBsb2dpbkRhdGEgPSB7XHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeShsb2dpbkRhdGEpO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5sb2dpblN1Ym1pdEJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBzY3JhcGVMb2dpbkluZm8oKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuTG9nVXNlckluKGRhdGEsIGNvbnRleHQuQ2hhcmFjdGVyU2VsZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy50b1JlZ2lzdGVyU3VibWl0QnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuUmVnaXN0cmF0aW9uRm9ybSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QgPSBmdW5jdGlvbigpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoXHJcbiAgICAgICAgYDxkaXYgaWQ9XCJDaGFyYWN0ZXJTZWxlY3RTY3JlZW5cIiBzdHlsZT1cIndpZHRoOiR7c2NyZWVuV2lkdGh9cHhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2VsY29tZS10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IHlvdXIgY2hhcmFjdGVyLCBvciBjcmVhdGUgYSBuZXcgb25lIGJ5IGNsaWNraW5nIHRoZSBuZXcgY2hhcmFjdGVyIGJ1dHRvbi4gXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyU2VsZWN0QnV0dG9uc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdEJ1dHRvbnNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cIm5ld0NoYXJhY3RlckJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTkVXIENIQVJBQ1RFUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxvZ291dEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTE9HIE9VVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjY291bnRPcHRpb25zQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUFRJT05TXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyc1RhYmxlV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJzVGFibGVDb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHN0eWxlPVwid2lkdGg6MTAwJVwiIGNsYXNzPVwiY2hhcmFjdGVyc1RhYmxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPlNlbGVjdDwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkxldmVsPC90aD4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkNsYXNzPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGg+Q2hhcmFjdGVyIE5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3RlcnNMb2FkaW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvYWRpbmcgeW91ciBjaGFyYWN0ZXJzLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJtYXJnaW4tdG9wOjEycHg7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuLi9leHRyYV9pbWFnZXMvbG9hZGluZy5naWZcIiBhbHQ9XCJsb2FkaW5nLWdpZlwiIGhlaWdodD1cIjUwcHhcIiB3aWR0aD1cIjUwcHhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgICQoJy5jaGFyYWN0ZXJzVGFibGUnKS5oaWRlKCk7XHJcblxyXG4gICAgbGV0IHByaW50R2FtZXMgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAkKCcuY2hhcmFjdGVyc0xvYWRpbmcnKS5oaWRlKCk7XHJcbiAgICAgICAgJCgnLmNoYXJhY3RlcnNUYWJsZScpLnNob3coKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsubG9hZGVkR2FtZXMgPSBbXTtcclxuICAgICAgICBsZXQgY291bnQgPSAxO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5sb2FkZWRHYW1lcy5wdXNoKG51bGwpO1xyXG4gICAgICAgIHJlc3BvbnNlLmZvckVhY2goZCA9PiB7XHJcbiAgICAgICAgICAgIC8vIGxldCBzdHJpbmcgPSBMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChkKVxyXG4gICAgICAgICAgICBsZXQgcGFyc2VkRGF0YSA9IEpzb25FeC5wYXJzZShkKTtcclxuICAgICAgICAgICAgJGdhbWVOZXR3b3JrLmxvYWRlZEdhbWVzLnB1c2gocGFyc2VkRGF0YSk7XHJcbiAgICAgICAgICAgIGxldCBjaGFyRGF0YSA9IHBhcnNlZERhdGEuYWN0b3JzLl9kYXRhWzFdO1xyXG4gICAgICAgICAgICAkKCcuY2hhcmFjdGVyc1RhYmxlJykuYXBwZW5kKGAgXHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPVwiZ2FtZSR7Y291bnR9XCI+Q0hPT1NFPC9idXR0b24+PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD4ke2NoYXJEYXRhLmluaXRpYWxMZXZlbH08L3RkPiBcclxuICAgICAgICAgICAgICAgIDx0ZD4ke2NoYXJEYXRhLmFsdENsYXNzTmFtZX08L3RkPlxyXG4gICAgICAgICAgICAgICAgPHRkPiR7Y2hhckRhdGEubmFtZX08L3RkPlxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgJChgLmdhbWUke2NvdW50fWApLmF0dHIoXCJnYW1lSW5kZXhcIiwgYCR7Y291bnR9YCkuY2xpY2soIGZ1bmN0aW9uIChldnQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKCcnKVxyXG4gICAgICAgICAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnJlQmluZElucHV0KCk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9IE51bWJlcigkKGV2dC5jdXJyZW50VGFyZ2V0KS5hdHRyKFwiZ2FtZUluZGV4XCIpKTtcclxuICAgICAgICAgICAgICAgIGxldCBnYW1lID0gJGdhbWVOZXR3b3JrLmxvYWRlZEdhbWVzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5Mb2FkU2F2ZWRHYW1lKGdhbWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gJGdhbWVOZXR3b3JrLlBvcHVsYXRlRGF0YWJhc2UoZCk7XHJcbiAgICAgICAgICAgICAgICAvLyBEYXRhTWFuYWdlci5jcmVhdGVHYW1lT2JqZWN0cygpO1xyXG4gICAgICAgICAgICAgICAgLy8gJGdhbWVQYXJ0eS5zZXR1cFN0YXJ0aW5nTWVtYmVycygpO1xyXG4gICAgICAgICAgICAgICAgLy8gJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCA9IGQuJGRhdGFTeXN0ZW0uc3RhcnRNYXBJZDtcclxuICAgICAgICAgICAgICAgIC8vICRnYW1lUGxheWVyLnJlc2VydmVUcmFuc2ZlcigkZGF0YVN5c3RlbS5zdGFydE1hcElkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICRkYXRhU3lzdGVtLnN0YXJ0WCwgJGRhdGFTeXN0ZW0uc3RhcnRZKTtcclxuICAgICAgICAgICAgICAgIC8vIEdyYXBoaWNzLmZyYW1lQ291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8gU2NlbmVNYW5hZ2VyLmdvdG8oU2NlbmVfTWFwKTtcclxuICAgICAgICAgICAgICAgIC8vICRnYW1lTmV0d29yay5jb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbigpO1xyXG5cclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY291bnQgKys7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgJGdhbWVOZXR3b3JrLkxvYWRHYW1lRmlsZXNGcm9tU2VydmVyKCRnYW1lTmV0d29yay51c2VyRW1haWwsIHByaW50R2FtZXMpO1xyXG5cclxuICAgICQoJy5uZXdDaGFyYWN0ZXJCdXR0b24nKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5OZXdDaGFyYWN0ZXIoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTmV3Q2hhcmFjdGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwiTmV3Q2hhcmFjdGVyU2NyZWVuXCIgY2xhc3M9XCJwYW5lbCBwYW5lbC1wcmltYXJ5XCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZXdDaGFyYWN0ZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmFtZVdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgWW91IG11c3QgZW50ZXIgYSBuYW1lIGZvciB5b3VyIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvbmZpcm1OYW1lV2FybmluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPS1xyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdE1haW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvVGV4dElubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRW50ZXIgYSBjaGFyYWN0ZXIgbmFtZSBhbmQgc2VsZWN0IHlvdXIgYmFzZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJOYW1lV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyTmFtZUlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJjaGFyYWN0ZXJOYW1lSW5wdXRUZXh0XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cImNoYXJhY3RlciBuYW1lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2xhbnNtYW5DbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsYW5zbWFuQ2xhc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbGFuc21lbkJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENMQU5TTUVOXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWdoYXRDbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJpZ2hhdENsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYmlnaGF0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQklHIEhBVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGl2aW5lQ2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXZpbkNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZGl2aW5lQ2xhc3NCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBESVZJTkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lcmNlbmFyeUNsYXNzV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVyY2VuYXJ5Q2xhc3NJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJtZXJjZW5hcnlDbGFzc0J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FUkNFTkFSWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PiAgICAgXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YFxyXG4gICAgKVxyXG5cclxuICAgICQoJy5uYW1lV2FybmluZycpLmhpZGUoKTtcclxuXHJcbiAgICBsZXQgc2NyYXBlQ2hhck5hbWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICQoJy5jaGFyYWN0ZXJOYW1lSW5wdXRUZXh0JykudmFsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmNvbmZpcm1OYW1lV2FybmluZycpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuaGlkZSgpOyBcclxuICAgICAgICAkKCcuY2hhclNlbGVjdE1haW4nKS5zaG93KCk7XHJcbiAgICB9KTtcclxuXHJcblxyXG4gICAgJCgnLmNsYW5zbWVuQnV0dG9uJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY2hhck5hbWUgPSBzY3JhcGVDaGFyTmFtZSgpO1xyXG4gICAgICAgIGlmIChjaGFyTmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAkKCcuY2hhclNlbGVjdE1haW4nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5uYW1lV2FybmluZycpLnNob3coKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICRnYW1lTmV0d29yay5DYXB0dXJlQ29yZUdhbWVNZXRhRGF0YSgpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5DcmVhdGVOZXdHYW1lKCRnYW1lTmV0d29yay51c2VyRW1haWwsICdDbGFuc21lbicsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKTtcclxuICAgICAgICAvLyRnYW1lTmV0d29yay5DcmVhdGVOZXdTYXZlRmlsZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQ2xhbnNtZW4nLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmJpZ2hhdEJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQmlnIEhhdCcsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKTtcclxuICAgICAgICAvLyRnYW1lTmV0d29yay5DcmVhdGVOZXdTYXZlRmlsZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQmlnIEhhdCcsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKVxyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5sb2FkaW5nU2NyZWVuKCk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLmRpdmluZUNsYXNzQnV0dG9uJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY2hhck5hbWUgPSBzY3JhcGVDaGFyTmFtZSgpO1xyXG4gICAgICAgIGlmIChjaGFyTmFtZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAkKCcuY2hhclNlbGVjdE1haW4nKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICQoJy5uYW1lV2FybmluZycpLnNob3coKTtcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vICRnYW1lTmV0d29yay5DYXB0dXJlQ29yZUdhbWVNZXRhRGF0YSgpO1xyXG4gICAgICAgICRnYW1lTmV0d29yay5DcmVhdGVOZXdHYW1lKCRnYW1lTmV0d29yay51c2VyRW1haWwsICdEaXZpbmUnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSk7XHJcbiAgICAgICAgLy8kZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0RpdmluZScsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKSBcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5tZXJjZW5hcnlDbGFzc0J1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnTWVyY2VuYXJ5JywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpO1xyXG4gICAgICAgIC8vJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld1NhdmVGaWxlKCRnYW1lTmV0d29yay51c2VyRW1haWwsICdNZXJjZW5hcnknLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IChHcmFwaGljcy5ib3hXaWR0aCAtIChHcmFwaGljcy5ib3hXaWR0aCAvIDMpKTtcclxuICAgICQoXCIjRXJyb3JQcmludGVyXCIpLmh0bWwoXHJcbiAgICAgICAgYDxkaXYgaWQ9XCJsb2FkaW5nU2NyZWVuXCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nU2NyZWVuV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICBDcmVhdGluZyBOZXcgR2FtZS4uLlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDoxMnB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vZXh0cmFfaW1hZ2VzL2xvYWRpbmcuZ2lmXCIgYWx0PVwibG9hZGluZy1naWZcIiBoZWlnaHQ9XCI4MHB4XCIgd2lkdGg9XCI4MHB4XCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YCk7ICAgXHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY3JlYXRlQmFja2dyb3VuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fYmFja1Nwcml0ZTEgPSBuZXcgU3ByaXRlKEltYWdlTWFuYWdlci5sb2FkVGl0bGUxKCRkYXRhU3lzdGVtLnRpdGxlMU5hbWUpKTtcclxuICAgIHRoaXMuX2JhY2tTcHJpdGUyID0gbmV3IFNwcml0ZShJbWFnZU1hbmFnZXIubG9hZFRpdGxlMigkZGF0YVN5c3RlbS50aXRsZTJOYW1lKSk7XHJcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2JhY2tTcHJpdGUxKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fYmFja1Nwcml0ZTIpO1xyXG4gICAgICAgIHRoaXMuY2VudGVyU3ByaXRlKHRoaXMuX2JhY2tTcHJpdGUxKTtcclxuICAgIHRoaXMuY2VudGVyU3ByaXRlKHRoaXMuX2JhY2tTcHJpdGUyKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUZvcmVncm91bmQoKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jcmVhdGVGb3JlZ3JvdW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9nYW1lVGl0bGVTcHJpdGUgPSBuZXcgU3ByaXRlKG5ldyBCaXRtYXAoR3JhcGhpY3Mud2lkdGgsIEdyYXBoaWNzLmhlaWdodCkpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9nYW1lVGl0bGVTcHJpdGUpO1xyXG4gICAgaWYgKCRkYXRhU3lzdGVtLm9wdERyYXdUaXRsZSkge1xyXG4gICAgICAgIHRoaXMuZHJhd0dhbWVUaXRsZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmRyYXdHYW1lVGl0bGUgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB4ID0gMjA7XHJcbiAgICB2YXIgeSA9IEdyYXBoaWNzLmhlaWdodCAvIDQ7XHJcbiAgICB2YXIgbWF4V2lkdGggPSBHcmFwaGljcy53aWR0aCAtIHggKiAyO1xyXG4gICAgdmFyIHRleHQgPSAkZGF0YVN5c3RlbS5nYW1lVGl0bGU7XHJcbiAgICB0aGlzLl9nYW1lVGl0bGVTcHJpdGUuYml0bWFwLm91dGxpbmVDb2xvciA9ICdibGFjayc7XHJcbiAgICB0aGlzLl9nYW1lVGl0bGVTcHJpdGUuYml0bWFwLm91dGxpbmVXaWR0aCA9IDg7XHJcbiAgICB0aGlzLl9nYW1lVGl0bGVTcHJpdGUuYml0bWFwLmZvbnRTaXplID0gNzI7XHJcbiAgICB0aGlzLl9nYW1lVGl0bGVTcHJpdGUuYml0bWFwLmRyYXdUZXh0KHRleHQsIHgsIHksIG1heFdpZHRoLCA0OCwgJ2NlbnRlcicpO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNlbnRlclNwcml0ZSA9IGZ1bmN0aW9uKHNwcml0ZSkge1xyXG4gICAgc3ByaXRlLnggPSBHcmFwaGljcy53aWR0aCAvIDI7XHJcbiAgICBzcHJpdGUueSA9IEdyYXBoaWNzLmhlaWdodCAvIDI7XHJcbiAgICBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XHJcbiAgICBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucGxheVRpdGxlTXVzaWMgPSBmdW5jdGlvbigpIHtcclxuICAgIEF1ZGlvTWFuYWdlci5wbGF5QmdtKCRkYXRhU3lzdGVtLnRpdGxlQmdtKTtcclxuICAgIEF1ZGlvTWFuYWdlci5zdG9wQmdzKCk7XHJcbiAgICBBdWRpb01hbmFnZXIuc3RvcE1lKCk7XHJcbn07XHJcblxyXG5cclxuU2NlbmVfQm9vdC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLnN0YXJ0LmNhbGwodGhpcyk7XHJcbiAgICBTb3VuZE1hbmFnZXIucHJlbG9hZEltcG9ydGFudFNvdW5kcygpO1xyXG4gICAgaWYgKERhdGFNYW5hZ2VyLmlzQmF0dGxlVGVzdCgpKSB7XHJcbiAgICAgICAgRGF0YU1hbmFnZXIuc2V0dXBCYXR0bGVUZXN0KCk7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmdvdG8oU2NlbmVfQmF0dGxlKTtcclxuICAgIH0gZWxzZSBpZiAoRGF0YU1hbmFnZXIuaXNFdmVudFRlc3QoKSkge1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLnNldHVwRXZlbnRUZXN0KCk7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmdvdG8oU2NlbmVfTWFwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5jaGVja1BsYXllckxvY2F0aW9uKCk7XHJcbiAgICAgICAgRGF0YU1hbmFnZXIuc2V0dXBOZXdHYW1lKCk7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLmdvdG8oUXVlc3REZWx1eGVQb3J0YWwpO1xyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVEb2N1bWVudFRpdGxlKCk7XHJcbn07XHJcbiAgICBcclxuXHJcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblx0Ly9cclxuXHQvLyBPdmVycmlkaW5nICdJbnB1dC5fb25LZXlEb3duJyB0byBwYXNzICdldmVudCcgYXMgcGFyYW1ldGVyXHJcblx0Ly8gdG8gJ0lucHV0Ll9zaG91bGRQcmV2ZW50RGVmYXVsdCdcclxuXHQvL1xyXG5cclxuXHRJbnB1dC5fb25LZXlEb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuXHQgICAgaWYgKHRoaXMuX3Nob3VsZFByZXZlbnREZWZhdWx0KGV2ZW50KSkge1xyXG5cdCAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHQgICAgfVxyXG5cdCAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gMTQ0KSB7ICAgIC8vIE51bWxvY2tcclxuXHQgICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHQgICAgfVxyXG5cdCAgICB2YXIgYnV0dG9uTmFtZSA9IHRoaXMua2V5TWFwcGVyW2V2ZW50LmtleUNvZGVdO1xyXG5cdCAgICBpZiAoYnV0dG9uTmFtZSkge1xyXG5cdCAgICAgICAgdGhpcy5fY3VycmVudFN0YXRlW2J1dHRvbk5hbWVdID0gdHJ1ZTtcclxuXHQgICAgfVxyXG5cdH07XHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vXHJcblx0Ly8gT3ZlcnJpZGluZyBJbnB1dC5fc2hvdWxkUHJldmVudERlZmF1bHQgdG8gYWxsb3cgdGhlIHVzZSBvZiB0aGUgJ2JhY2tzcGFjZSBrZXknXHJcblx0Ly8gaW4gaW5wdXQgZm9ybXMuXHJcblx0Ly9cclxuXHJcblx0SW5wdXQuX3Nob3VsZFByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oZSkge1xyXG5cdCAgICBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG5cdFx0ICAgIGNhc2UgODogICAgIC8vIGJhY2tzcGFjZVxyXG5cdFx0ICAgIFx0aWYgKCQoZS50YXJnZXQpLmlzKFwiaW5wdXQsIHRleHRhcmVhXCIpKVxyXG5cdFx0ICAgIFx0XHRicmVhaztcclxuXHRcdCAgICBjYXNlIDMzOiAgICAvLyBwYWdldXBcclxuXHRcdCAgICBjYXNlIDM0OiAgICAvLyBwYWdlZG93blxyXG5cdFx0ICAgIGNhc2UgMzc6ICAgIC8vIGxlZnQgYXJyb3dcclxuXHRcdCAgICBjYXNlIDM4OiAgICAvLyB1cCBhcnJvd1xyXG5cdFx0ICAgIGNhc2UgMzk6ICAgIC8vIHJpZ2h0IGFycm93XHJcblx0XHQgICAgY2FzZSA0MDogICAgLy8gZG93biBhcnJvd1xyXG5cdFx0ICAgICAgICByZXR1cm4gdHJ1ZTtcclxuXHQgICAgfVxyXG5cdCAgICByZXR1cm4gZmFsc2U7XHJcblx0fTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==