var Plugins=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(5),o=n(15),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function c(e){return null!==e&&"object"===(void 0===e?"undefined":r(e))}function u(e){return"[object Function]"===i.call(e)}function p(e,t){if(null!==e&&void 0!==e)if("object"!==(void 0===e?"undefined":r(e))&&(e=[e]),s(e))for(var n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:p,merge:function e(){var t={};function n(n,a){"object"===r(t[a])&&"object"===(void 0===n?"undefined":r(n))?t[a]=e(t[a],n):t[a]=n}for(var a=0,o=arguments.length;a<o;a++)p(arguments[a],n);return t},extend:function(e,t,n){return p(t,function(t,r){e[r]=n&&"function"==typeof t?a(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$onlineParty=t.$gameNetwork=void 0;var r=n(10),a=n(11);o(n(3)),o(n(33));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.$gameNetwork=i,t.$onlineParty=s;var i=null,s=null,c=DataManager.createGameObjects;DataManager.createGameObjects=function(){c.call(this),t.$gameNetwork=i=i||new r.Game_Network,t.$onlineParty=s=s||new a.Online_Party}},function(e,t,n){"use strict";(function(t){var r=n(0),a=n(18),o={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=n(6):void 0!==t&&(e=n(6)),e}(),transformRequest:[function(e,t){return a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(o)}),e.exports=s}).call(this,n(17))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_NetworkPlayer=t.Game_Map=t.Game_Player=t.Spriteset_Map=t.Scene_Map=void 0;var r=n(1);t.Scene_Map=Scene_Map,t.Spriteset_Map=Spriteset_Map,t.Game_Player=Game_Player,t.Game_Map=Game_Map,t.Game_NetworkPlayer=o;var a=Scene_Map.prototype.onMapLoaded;function o(){this.initialize.apply(this,arguments)}Scene_Map.prototype.onMapLoaded=function(){if(a.call(this),$gameMap._mapId!==r.$gameNetwork.currentMapId){var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e));for(var t=[],n=0;n<$dataMap.events.length;n++)null!==$dataMap.events[n]&&!0===$dataMap.events[n]._isNetworkPlayerEvent&&t.push(n);t.length>0&&t.forEach(function(e){$dataMap.events.splice(e,1)});for(var o=[],i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&!0===$gameMap._events[i]._isNetworkPlayerEvent&&o.push(i);o.length>0&&o.forEach(function(e){$gameMap._events.splice(e,1)});var s=[],c=r.$gameNetwork.networkMapEvents;for(var u in c)c.hasOwnProperty(u)&&!0===c[u]._isNetworkPlayerEvent&&s.push(c[u]._accountUserName);s.length>0&&s.forEach(function(e){delete r.$gameNetwork.networkMapEvents[e]}),SceneManager._scene._spriteset.clearAllNetworkPlayerEvents(),r.$gameNetwork.currentMapId=$gameMap._mapId,r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e))}r.$gameNetwork.game_loaded=!0},Spriteset_Map.prototype.clearNetworkPlayer=function(e){for(var t=0;t<this._characterSprites.length;t++){this._characterSprites[t]._character._accountUserName===e&&this._tilemap.removeChild(this._characterSprites[t])}},Spriteset_Map.prototype.clearAllNetworkPlayerEvents=function(){for(var e=0;e<this._characterSprites.length;e++){!0===this._characterSprites[e]._character._isNetworkPlayerEvent&&this._tilemap.removeChild(this._characterSprites[e])}},Game_Player.prototype.UpdateNetworkPlayer=function(e){var t=e.accountUserName,n=r.$gameNetwork.networkMapEvents;n[t].setMoveSpeed(e.moveSpeed),n[t].setMoveFrequency(e.moveFrequenzy),n[t].moveStraight(e.direction),n[t].x===e.x&&n[t].y===e.y||n[t].setPosition(e.x,e.y),n[t]._characterName=e.characterName,n[t]._characterIndex=e.characterIndex},Game_Player.prototype.moveByInput=function(){if(!this.isMoving()&&this.canMove()){var e=this.getInputDirection();if(e>0)$gameTemp.clearDestination();else if($gameTemp.isDestinationValid()){var t=$gameTemp.destinationX(),n=$gameTemp.destinationY();e=this.findDirectionTo(t,n)}if(e>0){if(this.executeMove(e),r.$gameNetwork.currentMapId!==$gameMap._mapId){var a=r.$gameNetwork.GetPlayerCasterData();try{r.$gameNetwork.mapConnection.invoke("RemoveFromMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(a))}catch(e){console.error(e.toString())}r.$gameNetwork.currentMapId=$gameMap._mapId;try{r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(a))}catch(e){console.error(e.toString())}}var o=r.$gameNetwork.GetPlayerCasterData(),i="mapRoom"+$gameMap._mapId;r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup",i,JSON.stringify(o))}}},Game_Player.prototype.seedNewPlayerEvent=function(e,t,n){var r=$dataMap.events.length,a='{"id":'+r+',"name":"'+n+'","note":"","pages":[{"conditions":{"actorId":1,"actorValid":false,"itemId":1,"itemValid":false,"selfSwitchCh":"A","selfSwitchValid":false,"switch1Id":1,"switch1Valid":false,"switch2Id":1,"switch2Valid":false,"variableId":1,"variableValid":false,"variableValue":0},"directionFix":false,"image":{"characterIndex":0,"characterName":"","direction":2,"pattern":0,"tileId":0},"list":[{"code":0,"indent":0,"parameters":[]}],"moveFrequency":3,"moveRoute":{"list":[{"code":0,"parameters":[]}],"repeat":true,"skippable":false,"wait":false},"moveSpeed":3,"moveType":0,"priorityType":0,"stepAnime":false,"through":false,"trigger":0,"walkAnime":true}],"x":'+e+',"y":'+t+',"meta":{},"_isNetworkPlayerEvent":true}';return $dataMap.events.push(JSON.parse(a)),r},Game_Map.prototype.addNetworkPlayer=function(e,t,n){var r=Game_Player.prototype.seedNewPlayerEvent(e,t,n),a=this._events.length;return this._events[a]=new o(this._mapId,r,e,t),this._events[a]._accountUserName=n,this._events[a]._isNetworkPlayerEvent=!0,SceneManager._scene._spriteset.createNetworkPlayer(a,n),this._events[a]},Spriteset_Map.prototype.createNetworkPlayer=function(e,t){var n=$gameMap._events[e],r=this._characterSprites.length;this._characterSprites[r]=new Sprite_Character(n),this._characterSprites[r]._accountUserName=t,this._characterSprites[r].update(),this._tilemap.addChild(this._characterSprites[r])},o.prototype=Object.create(Game_Event.prototype),o.prototype.constructor=o,o.prototype.initialize=function(e,t,n,r){Game_Event.prototype.initialize.call(this,e,t),this._isNetworkPlayer=!0,this.setPosition(n,r)}},function(e,t,n){"use strict";e.exports=n(14)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),a=n(19),o=n(21),i=n(22),s=n(23),c=n(7),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(24);e.exports=function(e){return new Promise(function(t,p){var l=e.data,d=e.headers;r.isFormData(l)&&delete d["Content-Type"];var m=new XMLHttpRequest,f="onreadystatechange",h=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in m||s(e.url)||(m=new window.XDomainRequest,f="onload",h=!0,m.onprogress=function(){},m.ontimeout=function(){}),e.auth){var y=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+u(y+":"+v)}if(m.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,m[f]=function(){if(m&&(4===m.readyState||h)&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in m?i(m.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?m.response:m.responseText,status:1223===m.status?204:m.status,statusText:1223===m.status?"No Content":m.statusText,headers:n,config:e,request:m};a(t,p,r),m=null}},m.onerror=function(){p(c("Network Error",e,null,m)),m=null},m.ontimeout=function(){p(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var g=n(25),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}if("setRequestHeader"in m&&r.forEach(d,function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete d[t]:m.setRequestHeader(t,e)}),e.withCredentials&&(m.withCredentials=!0),e.responseType)try{m.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){m&&(m.abort(),p(e),m=null)}),void 0===l&&(l=null),m.send(l)})}},function(e,t,n){"use strict";var r=n(20);e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Game_Network=void 0;var r=n(1),a=(n(3),a||{});function o(){this.initialize.apply(this,arguments)}a.OnlineCore=!0,t.Game_Network=o,o.prototype.initialize=function(){this.apiUrl="http://localhost:5000/api",this.token="",this.userEmail="",this.userAccountName="",this.currentMapId=0,this.mapConnection={},this.networkMapEvents={},this.game_loaded=!1,this.loadedGames=[]},o.prototype.connectMapSocketAfterLogin=function(){var e=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/gameMapHub").build();r.$gameNetwork.mapConnection=e,async function(){try{await r.$gameNetwork.mapConnection.start();var e=r.$gameNetwork.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("AddToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(e)),r.$gameNetwork.mapConnection.on("NewPlayerOnMap",function(e){var t=JSON.parse(e);0!==t.x&&0!==t.y||(t.x=1,t.y=1);var n=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=n,r.$onlineParty.members.push(n),Game_Player.prototype.UpdateNetworkPlayer(t);var a=o.prototype.GetPlayerCasterData();r.$gameNetwork.mapConnection.invoke("BroadcastToMapGroup","mapRoom"+r.$gameNetwork.currentMapId,JSON.stringify(a))}),r.$gameNetwork.mapConnection.on("PlayerMapUpdate",function(e){if(SceneManager._scene._spriteset&&!(SceneManager._scene instanceof Scene_Battle)){var t=JSON.parse(e);if(r.$gameNetwork.networkMapEvents[t.accountUserName])Game_Player.prototype.UpdateNetworkPlayer(t);else{var n=$gameMap.addNetworkPlayer(t.x,t.y,t.accountUserName);r.$gameNetwork.networkMapEvents[t.accountUserName]=n,r.$onlineParty.members.push(n),Game_Player.prototype.UpdateNetworkPlayer(t)}}}),r.$gameNetwork.mapConnection.on("RemovePlayerFromMap",function(e){for(var t=JSON.parse(e),n=0,a=0;a<$dataMap.events.length;a++)null!==$dataMap.events[a]&&$dataMap.events[a].name===t.accountUserName&&(n=a);$dataMap.events.splice(n,1);for(var o=0,i=1;i<$gameMap._events.length;i++)$gameMap._events[i]._accountUserName&&$gameMap._events[i]._accountUserName===t.accountUserName&&(o=i);$gameMap._events.splice(o,1),delete r.$gameNetwork.networkMapEvents[t.accountUserName],SceneManager._scene._spriteset.clearNetworkPlayer(t.accountUserName)})}catch(e){console.error(e.toString())}}()},o.prototype.CaptureLoginResponse=function(e){r.$gameNetwork.token=e.token,r.$gameNetwork.userEmail=e.email,r.$gameNetwork.userAccountName=e.user},o.prototype.GetPlayerCasterData=function(){return{accountUserName:r.$gameNetwork.userAccountName,direction:$gamePlayer._direction,x:$gamePlayer._x,y:$gamePlayer._y,moveSpeed:$gamePlayer._moveSpeed,moveFrequenzy:$gamePlayer._moveFrequency,characterName:$gamePlayer._characterName,characterIndex:$gamePlayer._characterIndex}},o.prototype.LoadGameFilesFromServer=function(e,t){$.get(r.$gameNetwork.apiUrl+"/GameData/"+e,function(e){console.log(e),t(e)}).fail(function(){window.alert("Load failed")})},o.prototype.CreateNewUser=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/register",type:"POST",data:e,contentType:"application/json",success:function(e){t()},error:function(e){console.log(e)}})},o.prototype.LogUserIn=function(e,t){$.ajax({url:r.$gameNetwork.apiUrl+"/Accounts/login",type:"POST",data:e,contentType:"application/json",success:function(e){r.$gameNetwork.userEmail=e.email,o.prototype.CaptureLoginResponse(e),t()},error:function(e){console.log(e)}})},o.prototype.ClassSelect=function(e,t,n){var r=[];"Clansmen"===t?r=[null,{altClassName:""+t,id:1,battlerName:"Actor1_1",characterIndex:0,characterName:"Actor1",classId:1,equips:[1,1,2,3,0],faceIndex:0,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+n,nickname:"",note:"",profile:""}]:"Big Hat"===t?r=[null,{altClassName:""+t,id:2,battlerName:"Actor2_5",characterIndex:4,characterName:"Actor2",classId:3,equips:[3,0,0,0,0],faceIndex:4,faceName:"Actor2",traits:[],initialLevel:1,maxLevel:99,name:""+n,nickname:"",note:"",profile:""}]:"Divine"===t?r=[null,{altClassName:""+t,id:4,battlerName:"Actor2_4",characterIndex:3,characterName:"Actor3",classId:4,equips:[4,0,0,0,0],faceIndex:3,faceName:"Actor3",traits:[],initialLevel:1,maxLevel:99,name:""+n,nickname:"",note:"",profile:""}]:"Mercenary"===t&&(r=[null,{altClassName:""+t,id:3,battlerName:"Actor1_7",characterIndex:6,characterName:"Actor1",classId:2,equips:[2,0,0,0,0],faceIndex:6,faceName:"Actor1",traits:[],initialLevel:1,maxLevel:99,name:""+n,nickname:"",note:"",profile:""}]),$dataActors=r;var a=new Game_Actors,o=new Game_Actor(1),i=Object.assign(o,r[1]);return r[1]=i,a._data=r,e.actors=a,e.dataActors=$dataActors,e},o.prototype.LoadSavedGame=function(e){DataManager.createGameObjects(),DataManager.extractSaveContents(e),$dataActors=e.dataActors;var t=new Game_Actors,n=new Game_Actor(1);t._data=[null,n],$gameActors=t,r.$gameNetwork.currentMapId=$dataSystem.startMapId,Graphics.frameCount=0,SceneManager.goto(Scene_Map),r.$gameNetwork.connectMapSocketAfterLogin()},o.prototype.CreateNewGame=function(e,t,n,a){var o=DataManager.makeSaveContents(),i=r.$gameNetwork.ClassSelect(o,t,a),s=JsonEx.stringify(i);console.log("yippe"),$.ajax({url:r.$gameNetwork.apiUrl+"/GameData/SaveNewGame/"+e,type:"POST",data:s,processData:!1,contentType:"application/json",success:function(){n()}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Online_Party_Window=t.Online_Party=void 0;var r=n(1),a=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(n(4));function i(){this.initialize.apply(this,arguments)}function s(){this.initialize.apply(this,arguments)}t.Online_Party=i,t.Online_Party_Window=s,i.prototype.initialize=function(){this.members=[],this.partyConnection={},this.isHost=!1,this.partiesSeeking=[],this.playerOptions=[],this.partyOptions=[],this.currentOnlinePArty={},this.currentPartyPortal={}},i.prototype.makeNewPartyConnection=function(e){var t=(new signalR.HubConnectionBuilder).withUrl("http://localhost:5000/onlinePartyHub").build();r.$onlineParty.partyConnection=t,async function(){try{if(await r.$onlineParty.partyConnection.start(),e){r.$onlineParty.partyConnection.on("NewPartyWithHost",function(e){r.$onlineParty.isHost=!0,$gameMessage.add("Your Party Was Created !!"),SceneManager._scene.addChild(new s);var t=r.$onlineParty.createNewOnlineParty(e);console.log(t)}),r.$onlineParty.partyConnection.invoke("AddToPartyAsHost","party:"+r.$gameNetwork.userAccountName,"hello")}}catch(e){console.error(e.toString()),$gameMessages.add("Your Party failed to create ")}}()},i.prototype.createNewOnlineParty=function(e){return JSON.parse(e)},i.prototype.makeOnlinePartyPortal=function(){var e=this;o.default.get(r.$gameNetwork.apiUrl+"/parties",{contentType:"application/json"}).then(function(t){r.$onlineParty.partyOptions=t.data;var n=new a.PartyPortalWindow(300,300);r.$onlineParty.currentPartyPortal=n,r.$onlineParty.currentPartyPortal.setHandler("joinParty",e.addPlayerToParty.bind(e)),SceneManager._scene.addChild(n)})},i.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in r.$onlineParty.playerOptions=[],e){var n=e[t];r.$onlineParty.playerOptions.push(n)}},i.prototype.addPlayerToParty=function(e){console.log("score");var t=this.currentPartyPortal.currentExt();r.$onlineParty.partyConnection.invoke("AddToParty","party:"+t,""+r.$gameNetwork.userAccountName)},i.prototype.newPartyAsHost=function(){var e={host:r.$gameNetwork.userAccountName,players:[r.$gameNetwork.userAccountName]};r.$onlineParty.partiesSeeking.push(e),r.$onlineParty.makeNewPartyConnection(!0)},i.prototype.newPlayerInParty=function(e){},s.prototype=Object.create(Window_Base.prototype),s.prototype.constructor=s,s.prototype.initialize=function(){Window_Base.prototype.initialize.call(this,0,0,200,100);this.drawTextEx(""+r.$gameNetwork.userAccountName,2,2)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PartyPortalWindow=void 0;var r=n(1);a(n(13)),a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){Window_Command.prototype.initialize.call(this,e,t,100,100)}t.PartyPortalWindow=o,o.prototype=Object.create(Window_Command.prototype),o.prototype.constructor=o,o.prototype.initialize=function(){this._openParties=[]},o.prototype.makeCommandList=function(){this.makePartyCommands()},o.prototype.populatePlayerOptions=function(){var e=r.$gameNetwork.networkMapEvents;for(var t in e){var n=e[t];r.$onlineParty.playerOptions.push(n)}},o.prototype.populatePartyOptions=function(){var e=this;r.$onlineParty.openParties.forEach(function(t){e.partyOptions.push(t)})},o.prototype.makeCharacterCommands=function(){var e=this;r.$onlineParty.playerOptions.forEach(function(t){e.addCommand(""+t._accountUserName,"addPlayerToParty",!0,""+t._accountUserName)})},o.prototype.makePartyCommands=function(){var e=this;r.$onlineParty.partyOptions.forEach(function(t){e.addCommand(""+t.partyName,"joinParty",!0,""+t.partyName)})},o.prototype.buildWindow=function(){this.clearCommandList(),this.makePartyCommands(),this.setHandler("addPlayerToParty",r.$onlineParty.currentPartyPortal.addPlayerToParty.bind(this))}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(0),a=n(5),o=n(16),i=n(2);function s(e){var t=new o(e),n=a(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=s(i);c.Axios=o,c.create=function(e){return s(r.merge(i,e))},c.Cancel=n(9),c.CancelToken=n(31),c.isCancel=n(8),c.all=function(e){return Promise.all(e)},c.spread=n(32),e.exports=c,e.exports.default=c},function(e,t,n){"use strict";
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(r(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(2),a=n(0),o=n(26),i=n(27);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=a.merge({url:arguments[0]},arguments[1])),(e=a.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},a.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}}),a.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,n,r){return this.request(a.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=s},function(e,t,n){"use strict";var r,a,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var u,p=[],l=!1,d=-1;function m(){l&&u&&(l=!1,u.length?p=u.concat(p):d=-1,p.length&&f())}function f(){if(!l){var e=c(m);l=!0;for(var t=p.length;t;){for(u=p,p=[];++d<t;)u&&u[d].run();d=-1,t=p.length}u=null,l=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new h(e,t)),1!==p.length||l||c(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e}},function(e,t,n){"use strict";var r=n(0);function a(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,function(e,t){null!==e&&void 0!==e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))}))}),o=i.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(0),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}}),i):i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function a(){this.message="String contains an invalid character"}a.prototype=new Error,a.prototype.code=5,a.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),i="",s=0,c=r;o.charAt(0|s)||(c="=",s%1);i+=c.charAt(63&t>>8-s%1*8)){if((n=o.charCodeAt(s+=.75))>255)throw new a;t=t<<8|n}return i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function a(){this.handlers=[]}a.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=a},function(e,t,n){"use strict";var r=n(0),a=n(28),o=n(8),i=n(2),s=n(29),c=n(30);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=a(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||i.adapter)(e).then(function(t){return u(e),t.data=a(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=a(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(9);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a(function(t){e=t}),cancel:e}},e.exports=a},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Input=t.QuestDeluxePortal=void 0;var r=n(1);function a(){this.initialize.apply(this,arguments)}t.QuestDeluxePortal=a,t.Input=Input,a.prototype=Object.create(Scene_Base.prototype),a.prototype.constructor=a,a.prototype.initialize=function(){Scene_Base.prototype.initialize.call(this)},a.prototype.reBindInput=function(){Input.initialize()},a.prototype.create=function(){Scene_Base.prototype.create.call(this),this.createBackground()},a.prototype.reBindInput=function(){Input.initialize()},a.prototype.start=function(){Scene_Base.prototype.start.call(this),SceneManager.clearStack(),this.startFadeIn(this.fadeSpeed(),!1),this.LoginForm()},a.prototype.update=function(){Scene_Base.prototype.update.call(this)},a.prototype.isBusy=function(){return Scene_Base.prototype.isBusy.call(this)},a.prototype.terminate=function(){Scene_Base.prototype.terminate.call(this),SceneManager.snapForBackground()},a.prototype.RegistrationSuccess=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div class="registrationSuccessWrapper" style="width:'+e+'px">\n            <div class="registrationSuccessInnerWrapper">\n                <div class="registrationSuccessTextWrapper">\n                    <div class="registrationSuccessText">\n                        Registration Succesful! \n                    </div>\n                </div>\n                <div class="registrationSuccessButtonWrapper">\n                    <button class="registrationSuccessButton">\n                        LOG IN\n                    </button>\n                </div>\n            </div>\n        </div>\n        '),$(".registrationSuccessButton").click(function(){a.prototype.LoginForm()})},a.prototype.RegistrationForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="RegisterForm" style="width:'+t+'px">\n            <div class="registrationWrapper">\n                <div>\n                    <div class="register-text">\n                        Provide your email address, a desired user name, and a password. \n                    </div>\n                </div>\n\n                <div class="emailWrapper">\n                    <div class="emailInput">\n                        <input class="emailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="accountNameWrapper">\n                    <div class="accountNameInput">\n                        <input class="accountNameText" placeholder="user name">\n                    </div>\n                </div>\n                <div class="passwordWrapper">\n                    <div class="passwordInput">\n                        <input class="passwordText" type="password" placeholder="password">\n                    </div>\n                </div>\n                <div class="registerButtonWrapper">\n                    <div class="registerButton">\n                        <button class="registerSubmitButton">\n                            REGISTER NOW\n                        </button>\n                    </div>\n                </div>\n                <div class="toLoginButtonWrapper">\n                    <div class="toLoginButton">\n                        <button class="toLoginSubmitButton">\n                            LOGIN PORTAL\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".registerSubmitButton").click(function(t){var n=function(){var e=$(".emailText").val(),t={accountName:$(".accountNameText").val(),password:$(".passwordText").val(),email:e};return JSON.stringify(t)}();r.$gameNetwork.CreateNewUser(n,e.RegistrationSuccess)}),$(".toLoginButton").click(function(e){a.prototype.LoginForm()})},a.prototype.LoginForm=function(){var e=this,t=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="LoginForm" style="width:'+t+'px">\n            <div class="LoginWrapper">\n                <div>\n                    <div class="welcome-text">\n                        Welcome. Log In below, or click the Sign Up button to create a new account. \n                    </div>\n                </div>\n                <div class="loginEmailWrapper">\n                    <div class="loginEmailInput">\n                        <input class="loginEmailText" placeholder="email">\n                    </div>\n                </div>\n                <div class="loginPasswordWrapper">\n                    <div class="loginPasswordInput">\n                        <input class="loginPasswordText" placeholder="password" type="password">\n                    </div>\n                </div>\n                <div class="loginButtonWrapper">\n                    <div class="loginButton">\n                        <button class="loginSubmitButton">\n                            LOGIN\n                        </button>\n                    </div>\n                </div>\n                <div class="toRegisterWrapper">\n                    <div class="toRegisterButton">\n                        <button class="toRegisterSubmitButton">\n                            SIGN UP!\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>');$(".loginSubmitButton").click(function(t){var n=function(){var e={email:$(".loginEmailText").val(),password:$(".loginPasswordText").val()};return JSON.stringify(e)}();r.$gameNetwork.LogUserIn(n,e.CharacterSelect)}),$(".toRegisterSubmitButton").click(function(e){a.prototype.RegistrationForm()})},a.prototype.CharacterSelect=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="CharacterSelectScreen" style="width:'+e+'px">\n            <div class="charSelectWrapper">\n                <div class="welcome-text">\n                    Select your character, or create a new one by clicking the new character button. \n                </div>\n                <div class="charSelectButtonsWrapper">\n                    <div class="charSelectButtons">\n                        <button class="newCharacterButton">\n                            NEW CHARACTER\n                        </button>\n                        <button class="logoutButton">\n                            LOG OUT\n                        </button>\n                        <button class="accountOptionsButton">\n                            OPTIONS\n                        </button>\n                    </div>\n                </div>\n                <div class="charactersTableWrapper">\n                    <div class="charactersTableContainer">\n                        <table style="width:100%" class="charactersTable">\n                            <tr>\n                                <th>Select</th>\n                                <th>Level</th> \n                                <th>Class</th>\n                                <th>Character Name</th>\n                            </tr>\n                        </table>\n                        <div class="charactersLoading">\n                            <div>\n                                Loading your characters...\n                            </div>\n                            <div style="margin-top:12px;">\n                                <img src="../extra_images/loading.gif" alt="loading-gif" height="50px" width="50px">\n                            </div>\n                        </div>\n                    </div>\n                    </div>\n                </div> \n            </div>\n        </div>'),$(".charactersTable").hide();r.$gameNetwork.LoadGameFilesFromServer(r.$gameNetwork.userEmail,function(e){$(".charactersLoading").hide(),$(".charactersTable").show(),r.$gameNetwork.loadedGames=[];var t=1;r.$gameNetwork.loadedGames.push(null),e.forEach(function(e){var n=JsonEx.parse(e);r.$gameNetwork.loadedGames.push(n);var o=n.actors._data[1];$(".charactersTable").append(' \n            <tr>\n                <td><button class="game'+t+'">CHOOSE</button></td>\n                <td>'+o.initialLevel+"</td> \n                <td>"+o.altClassName+"</td>\n                <td>"+o.name+"</td>\n            </tr>\n            "),$(".game"+t).attr("gameIndex",""+t).click(function(e){$("#ErrorPrinter").html(""),a.prototype.reBindInput();var t=Number($(e.currentTarget).attr("gameIndex")),n=r.$gameNetwork.loadedGames[t];r.$gameNetwork.LoadSavedGame(n)}),t++})}),$(".newCharacterButton").click(function(){a.prototype.NewCharacter()})},a.prototype.NewCharacter=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="NewCharacterScreen" class="panel panel-primary" style="width:'+e+'px">\n            <div class="newCharacterWrapper">\n                <div class="nameWarning">\n                    <div class="infoText">\n                        You must enter a name for your character\n                    </div>\n                    <div>\n                    <button class="confirmNameWarning">\n                        OK\n                    </button>\n                    </div>   \n                </div>\n                <div class="charSelectMain">\n                    <div class="infoTextWrapper">\n                        <div class="infoTextInnerWrapper">\n                            <div class="infoText">\n                                Enter a character name and select your base class\n                            </div>\n                        </div>\n                    </div>\n                    <div class="characterNameWrapper">\n                        <div class="characterNameInput">\n                            <input class="characterNameInputText" type="text" placeholder="character name">\n                        </div>\n                    </div>\n\n                    <div class="clansmanClassWrapper">\n                        <div class="clansmanClassInnerWrapper">\n                            <button class="clansmenButton">\n                                CLANSMEN\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="bighatClassWrapper">\n                        <div class="bighatClassInnerWrapper">\n                            <button class="bighatButton">\n                                BIG HAT\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="divineClassWrapper">\n                        <div class="divinClassInnerWrapper">\n                            <button class="divineClassButton">\n                                DIVINE\n                            </button>\n                        </div>\n                    </div>\n\n                    <div class="mercenaryClassWrapper">\n                        <div class="mercenaryClassInnerWrapper">\n                            <button class="mercenaryClassButton">\n                                MERCENARY\n                            </button>\n                        </div>\n                    </div>     \n                </div>\n            </div>\n        </div>'),$(".nameWarning").hide();var t=function(){return $(".characterNameInputText").val()};$(".confirmNameWarning").click(function(){$(".nameWarning").hide(),$(".charSelectMain").show()}),$(".clansmenButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Clansmen",a.prototype.CharacterSelect,e),a.prototype.loadingScreen()}),$(".bighatButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Big Hat",a.prototype.CharacterSelect,e),a.prototype.loadingScreen()}),$(".divineClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Divine",a.prototype.CharacterSelect,e),a.prototype.loadingScreen()}),$(".mercenaryClassButton").click(function(){var e=t();if(""===e)return $(".charSelectMain").hide(),void $(".nameWarning").show();r.$gameNetwork.CreateNewGame(r.$gameNetwork.userEmail,"Mercenary",a.prototype.CharacterSelect,e),a.prototype.loadingScreen()})},a.prototype.loadingScreen=function(){var e=Graphics.boxWidth-Graphics.boxWidth/3;$("#ErrorPrinter").html('<div id="loadingScreen" style="width:'+e+'px">\n            <div class="loadingScreenWrapper">\n                <div>\n                    Creating New Game...\n                </div>\n                <div style="margin-top:12px;">\n                    <img src="../extra_images/loading.gif" alt="loading-gif" height="80px" width="80px">\n                </div>\n            </div>\n        </div>')},a.prototype.createBackground=function(){this._backSprite1=new Sprite(ImageManager.loadTitle1($dataSystem.title1Name)),this._backSprite2=new Sprite(ImageManager.loadTitle2($dataSystem.title2Name)),this.addChild(this._backSprite1),this.addChild(this._backSprite2),this.centerSprite(this._backSprite1),this.centerSprite(this._backSprite2),this.createForeground()},a.prototype.createForeground=function(){this._gameTitleSprite=new Sprite(new Bitmap(Graphics.width,Graphics.height)),this.addChild(this._gameTitleSprite),$dataSystem.optDrawTitle&&this.drawGameTitle()},a.prototype.drawGameTitle=function(){var e=Graphics.height/4,t=Graphics.width-40,n=$dataSystem.gameTitle;this._gameTitleSprite.bitmap.outlineColor="black",this._gameTitleSprite.bitmap.outlineWidth=8,this._gameTitleSprite.bitmap.fontSize=72,this._gameTitleSprite.bitmap.drawText(n,20,e,t,48,"center")},a.prototype.centerSprite=function(e){e.x=Graphics.width/2,e.y=Graphics.height/2,e.anchor.x=.5,e.anchor.y=.5},a.prototype.playTitleMusic=function(){AudioManager.playBgm($dataSystem.titleBgm),AudioManager.stopBgs(),AudioManager.stopMe()},Scene_Boot.prototype.start=function(){Scene_Base.prototype.start.call(this),SoundManager.preloadImportantSounds(),DataManager.isBattleTest()?(DataManager.setupBattleTest(),SceneManager.goto(Scene_Battle)):DataManager.isEventTest()?(DataManager.setupEventTest(),SceneManager.goto(Scene_Map)):(this.checkPlayerLocation(),DataManager.setupNewGame(),SceneManager.goto(a)),this.updateDocumentTitle()},Input._onKeyDown=function(e){this._shouldPreventDefault(e)&&e.preventDefault(),144===e.keyCode&&this.clear();var t=this.keyMapper[e.keyCode];t&&(this._currentState[t]=!0)},Input._shouldPreventDefault=function(e){switch(e.keyCode){case 8:if($(e.target).is("input, textarea"))break;case 33:case 34:case 37:case 38:case 39:case 40:return!0}return!1}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9QbHVnaW5zL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVTeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL29ubGluZU1hcEJyb2FkY2FzdGVyLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9iaW5kLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2NyZWF0ZUVycm9yLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NhbmNlbC9pc0NhbmNlbC5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVDb3JlLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9qcy9wbHVnaW5zL09ubGluZVN5c3RlbS9vbmxpbmVQYXJ0eS5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vanMvcGx1Z2lucy9PbmxpbmVTeXN0ZW0vcGFydHlQb3J0YWwuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9pcy1idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9idWlsZFVSTC5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J0b2EuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvZGlzcGF0Y2hSZXF1ZXN0LmpzIiwid2VicGFjazovL1BsdWdpbnMvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly9QbHVnaW5zLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vUGx1Z2lucy8uL2pzL3BsdWdpbnMvT25saW5lU3lzdGVtL2xvZ2luUG9ydGFsLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwicmVxdWlyZSIsImlzQnVmZmVyIiwidG9TdHJpbmciLCJpc0FycmF5IiwidmFsIiwiaXNPYmplY3QiLCJfdHlwZW9mIiwiaXNGdW5jdGlvbiIsImZvckVhY2giLCJvYmoiLCJmbiIsImxlbmd0aCIsImlzQXJyYXlCdWZmZXIiLCJpc0Zvcm1EYXRhIiwiRm9ybURhdGEiLCJpc0FycmF5QnVmZmVyVmlldyIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwiYnVmZmVyIiwiaXNTdHJpbmciLCJpc051bWJlciIsImlzVW5kZWZpbmVkIiwiaXNEYXRlIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNTdHJlYW0iLCJwaXBlIiwiaXNVUkxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJpc1N0YW5kYXJkQnJvd3NlckVudiIsIm5hdmlnYXRvciIsInByb2R1Y3QiLCJ3aW5kb3ciLCJkb2N1bWVudCIsIm1lcmdlIiwicmVzdWx0IiwiYXNzaWduVmFsdWUiLCJhcmd1bWVudHMiLCJleHRlbmQiLCJhIiwiYiIsInRoaXNBcmciLCJ0cmltIiwic3RyIiwicmVwbGFjZSIsIl9vbmxpbmVDb3JlIiwiX29ubGluZVBhcnR5IiwiJGdhbWVOZXR3b3JrIiwiJG9ubGluZVBhcnR5IiwiTWFnZUNvcmVDcmVhdGVHYW1lT2JqIiwiRGF0YU1hbmFnZXIiLCJjcmVhdGVHYW1lT2JqZWN0cyIsInRoaXMiLCJHYW1lX05ldHdvcmsiLCJPbmxpbmVfUGFydHkiLCJwcm9jZXNzIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiZGVmYXVsdHMiLCJhZGFwdGVyIiwiWE1MSHR0cFJlcXVlc3QiLCJnZXREZWZhdWx0QWRhcHRlciIsInRyYW5zZm9ybVJlcXVlc3QiLCJkYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJlIiwidGltZW91dCIsInhzcmZDb29raWVOYW1lIiwieHNyZkhlYWRlck5hbWUiLCJtYXhDb250ZW50TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJzdGF0dXMiLCJjb21tb24iLCJBY2NlcHQiLCJtZXRob2QiLCJfb25saW5lU3lzdGVtIiwiU2NlbmVfTWFwIiwiU3ByaXRlc2V0X01hcCIsIkdhbWVfUGxheWVyIiwiR2FtZV9NYXAiLCJHYW1lX05ldHdvcmtQbGF5ZXIiLCJvbk1hcExvYWRBTGlhcyIsIm9uTWFwTG9hZGVkIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiJGdhbWVNYXAiLCJfbWFwSWQiLCJjdXJyZW50TWFwSWQiLCJwbGF5ZXJEYXRhIiwiR2V0UGxheWVyQ2FzdGVyRGF0YSIsIm1hcENvbm5lY3Rpb24iLCJpbnZva2UiLCJ0YXJnZXREYXRhRXZlbnRJbmRleGVzIiwiJGRhdGFNYXAiLCJldmVudHMiLCJfaXNOZXR3b3JrUGxheWVyRXZlbnQiLCJwdXNoIiwic3BsaWNlIiwidGFyZ2V0TWFwRXZlbnRJbmRleGVzIiwiX2V2ZW50cyIsIl9hY2NvdW50VXNlck5hbWUiLCJuZXRFdmVudHNUb1JlbW92ZSIsImV2cyIsIm5ldHdvcmtNYXBFdmVudHMiLCJuZXRFdmVudCIsIlNjZW5lTWFuYWdlciIsIl9zY2VuZSIsIl9zcHJpdGVzZXQiLCJjbGVhckFsbE5ldHdvcmtQbGF5ZXJFdmVudHMiLCJnYW1lX2xvYWRlZCIsImNsZWFyTmV0d29ya1BsYXllciIsImFjY291bnRVc2VyTmFtZSIsIl9jaGFyYWN0ZXJTcHJpdGVzIiwiX2NoYXJhY3RlciIsIl90aWxlbWFwIiwicmVtb3ZlQ2hpbGQiLCJVcGRhdGVOZXR3b3JrUGxheWVyIiwidXNlckFjY291bnQiLCJuZXRFdmVudHMiLCJzZXRNb3ZlU3BlZWQiLCJtb3ZlU3BlZWQiLCJzZXRNb3ZlRnJlcXVlbmN5IiwibW92ZUZyZXF1ZW56eSIsIm1vdmVTdHJhaWdodCIsImRpcmVjdGlvbiIsIngiLCJ5Iiwic2V0UG9zaXRpb24iLCJfY2hhcmFjdGVyTmFtZSIsImNoYXJhY3Rlck5hbWUiLCJfY2hhcmFjdGVySW5kZXgiLCJjaGFyYWN0ZXJJbmRleCIsIm1vdmVCeUlucHV0IiwiaXNNb3ZpbmciLCJjYW5Nb3ZlIiwiZ2V0SW5wdXREaXJlY3Rpb24iLCIkZ2FtZVRlbXAiLCJjbGVhckRlc3RpbmF0aW9uIiwiaXNEZXN0aW5hdGlvblZhbGlkIiwiZGVzdGluYXRpb25YIiwiZGVzdGluYXRpb25ZIiwiZmluZERpcmVjdGlvblRvIiwiZXhlY3V0ZU1vdmUiLCJjb25zb2xlIiwiZXJyb3IiLCJtYXBHcm91cE5hbWUiLCJzZWVkTmV3UGxheWVyRXZlbnQiLCJuZXdQbGF5ZXJYIiwibmV3UGxheWVyWSIsInBsYXllckFjY291bnROYW1lIiwibmV3RXZlbnRJZCIsImVtcHR5RXZlbnQiLCJhZGROZXR3b3JrUGxheWVyIiwibmV3UGxheWVyRXZlbnRJZCIsIm5ld1BsYXllck1hcElkIiwiY3JlYXRlTmV0d29ya1BsYXllciIsInRhcmdldEluZGV4IiwiZXZlbnQiLCJzSWQiLCJTcHJpdGVfQ2hhcmFjdGVyIiwidXBkYXRlIiwiYWRkQ2hpbGQiLCJHYW1lX0V2ZW50IiwiY29uc3RydWN0b3IiLCJtYXBJZCIsImV2ZW50SWQiLCJfaXNOZXR3b3JrUGxheWVyIiwiYXJncyIsIkFycmF5Iiwic2V0dGxlIiwiYnVpbGRVUkwiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImJ0b2EiLCJjb25maWciLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlcXVlc3REYXRhIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0IiwibG9hZEV2ZW50IiwieERvbWFpbiIsIlhEb21haW5SZXF1ZXN0IiwidXJsIiwib25wcm9ncmVzcyIsIm9udGltZW91dCIsImF1dGgiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiQXV0aG9yaXphdGlvbiIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsInBhcmFtcyIsInBhcmFtc1NlcmlhbGl6ZXIiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJpbmRleE9mIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2UiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJzdGF0dXNUZXh0Iiwib25lcnJvciIsImNvb2tpZXMiLCJ4c3JmVmFsdWUiLCJ3aXRoQ3JlZGVudGlhbHMiLCJyZWFkIiwidW5kZWZpbmVkIiwidG9Mb3dlckNhc2UiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25Eb3dubG9hZFByb2dyZXNzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uVXBsb2FkUHJvZ3Jlc3MiLCJ1cGxvYWQiLCJjYW5jZWxUb2tlbiIsInByb21pc2UiLCJ0aGVuIiwiY2FuY2VsIiwiYWJvcnQiLCJzZW5kIiwiZW5oYW5jZUVycm9yIiwibWVzc2FnZSIsImNvZGUiLCJFcnJvciIsIl9fQ0FOQ0VMX18iLCJDYW5jZWwiLCJJbXBvcnRlZCIsIk9ubGluZUNvcmUiLCJhcGlVcmwiLCJ0b2tlbiIsInVzZXJFbWFpbCIsInVzZXJBY2NvdW50TmFtZSIsImxvYWRlZEdhbWVzIiwiY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4iLCJjb25uZWN0aW9uIiwic2lnbmFsUiIsIkh1YkNvbm5lY3Rpb25CdWlsZGVyIiwid2l0aFVybCIsImJ1aWxkIiwic3RhcnQiLCJvbiIsIm5ld05ldHdvcmtQbGF5ZXIiLCJtZW1iZXJzIiwicGluZ0RhdGEiLCJTY2VuZV9CYXR0bGUiLCJ0YXJnZXREYXRhRXZlbnRJbmRleCIsInRhcmdldE1hcEV2ZW50SW5kZXgiLCJDYXB0dXJlTG9naW5SZXNwb25zZSIsInJlc3BvbnNlRGF0YSIsImVtYWlsIiwidXNlciIsIiRnYW1lUGxheWVyIiwiX2RpcmVjdGlvbiIsIl94IiwiX3kiLCJfbW92ZVNwZWVkIiwiX21vdmVGcmVxdWVuY3kiLCJMb2FkR2FtZUZpbGVzRnJvbVNlcnZlciIsImNhbGxiYWNrIiwiJCIsImxvZyIsImZhaWwiLCJhbGVydCIsIkNyZWF0ZU5ld1VzZXIiLCJ1c2VyRGF0YSIsImFqYXgiLCJ0eXBlIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwiTG9nVXNlckluIiwiQ2xhc3NTZWxlY3QiLCJzYXZlZmlsZSIsImNsYXNzQ2hvaWNlIiwiY2hhck5hbWUiLCJuZXdBY3RvciIsImFsdENsYXNzTmFtZSIsImlkIiwiYmF0dGxlck5hbWUiLCJjbGFzc0lkIiwiZXF1aXBzIiwiZmFjZUluZGV4IiwiZmFjZU5hbWUiLCJ0cmFpdHMiLCJpbml0aWFsTGV2ZWwiLCJtYXhMZXZlbCIsIm5pY2tuYW1lIiwibm90ZSIsInByb2ZpbGUiLCIkZGF0YUFjdG9ycyIsImFjdG9yc0FycmF5IiwiR2FtZV9BY3RvcnMiLCJnYW1lQWN0b3IiLCJHYW1lX0FjdG9yIiwiaW5pdGlhbGl6ZWRBY3RvciIsImFzc2lnbiIsIl9kYXRhIiwiYWN0b3JzIiwiZGF0YUFjdG9ycyIsIkxvYWRTYXZlZEdhbWUiLCJjb250ZW50cyIsImV4dHJhY3RTYXZlQ29udGVudHMiLCIkZ2FtZUFjdG9ycyIsIiRkYXRhU3lzdGVtIiwic3RhcnRNYXBJZCIsIkdyYXBoaWNzIiwiZnJhbWVDb3VudCIsImdvdG8iLCJDcmVhdGVOZXdHYW1lIiwib3duZXJFbWFpbCIsInNhdmVDb250ZW50cyIsIm1ha2VTYXZlQ29udGVudHMiLCJuZXdnYW1lIiwianNvbiIsIkpzb25FeCIsInByb2Nlc3NEYXRhIiwiX3BhcnR5UG9ydGFsIiwiT25saW5lX1BhcnR5X1dpbmRvdyIsInBhcnR5Q29ubmVjdGlvbiIsImlzSG9zdCIsInBhcnRpZXNTZWVraW5nIiwicGxheWVyT3B0aW9ucyIsInBhcnR5T3B0aW9ucyIsImN1cnJlbnRPbmxpbmVQQXJ0eSIsImN1cnJlbnRQYXJ0eVBvcnRhbCIsIm1ha2VOZXdQYXJ0eUNvbm5lY3Rpb24iLCJhc0hvc3QiLCJwYXJ0eVN0cmluZyIsIiRnYW1lTWVzc2FnZSIsImFkZCIsInBhcnR5IiwiY3JlYXRlTmV3T25saW5lUGFydHkiLCIkZ2FtZU1lc3NhZ2VzIiwibWFrZU9ubGluZVBhcnR5UG9ydGFsIiwiX3RoaXMiLCJheGlvcyIsInBhcnR5UG9ydGFsIiwiUGFydHlQb3J0YWxXaW5kb3ciLCJzZXRIYW5kbGVyIiwiYWRkUGxheWVyVG9QYXJ0eSIsInBvcHVsYXRlUGxheWVyT3B0aW9ucyIsInBsYXllcnMiLCJwbGF5ZXIiLCJldnQiLCJjdXJyZW50RXh0ZW50IiwiY3VycmVudEV4dCIsIm5ld1BhcnR5QXNIb3N0Iiwib25saW5lR3JvdXAiLCJob3N0IiwibmV3UGxheWVySW5QYXJ0eSIsIm5ld01lbWJlck5hbWUiLCJXaW5kb3dfQmFzZSIsImRyYXdUZXh0RXgiLCJXaW5kb3dfQ29tbWFuZCIsIl9vcGVuUGFydGllcyIsIm1ha2VDb21tYW5kTGlzdCIsIm1ha2VQYXJ0eUNvbW1hbmRzIiwicG9wdWxhdGVQYXJ0eU9wdGlvbnMiLCJjb250ZXh0Iiwib3BlblBhcnRpZXMiLCJtYWtlQ2hhcmFjdGVyQ29tbWFuZHMiLCJhZGRDb21tYW5kIiwicGFydHlOYW1lIiwiYnVpbGRXaW5kb3ciLCJjbGVhckNvbW1hbmRMaXN0IiwiQXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJpbnN0YW5jZSIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsInJlYWRGbG9hdExFIiwic2xpY2UiLCJpc1Nsb3dCdWZmZXIiLCJfaXNCdWZmZXIiLCJJbnRlcmNlcHRvck1hbmFnZXIiLCJkaXNwYXRjaFJlcXVlc3QiLCJpbnRlcmNlcHRvcnMiLCJjaGFpbiIsImludGVyY2VwdG9yIiwidW5zaGlmdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic2hpZnQiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsInRpdGxlIiwiYnJvd3NlciIsImVudiIsImFyZ3YiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJub3JtYWxpemVkTmFtZSIsImVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsInNlcmlhbGl6ZWRQYXJhbXMiLCJwYXJ0cyIsInYiLCJ0b0lTT1N0cmluZyIsImpvaW4iLCJpZ25vcmVEdXBsaWNhdGVPZiIsInBhcnNlZCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsIm9yaWdpblVSTCIsIm1zaWUiLCJ0ZXN0IiwidXNlckFnZW50IiwidXJsUGFyc2luZ05vZGUiLCJjcmVhdGVFbGVtZW50IiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsInNlYXJjaCIsImhhc2giLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsImNoYXJBdCIsImxvY2F0aW9uIiwicmVxdWVzdFVSTCIsImNoYXJzIiwiRSIsImlucHV0IiwiYmxvY2siLCJjaGFyQ29kZSIsIlN0cmluZyIsIm91dHB1dCIsImlkeCIsIm1hcCIsImNoYXJDb2RlQXQiLCJ3cml0ZSIsImV4cGlyZXMiLCJwYXRoIiwiZG9tYWluIiwic2VjdXJlIiwiY29va2llIiwiRGF0ZSIsInRvR01UU3RyaW5nIiwibWF0Y2giLCJSZWdFeHAiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJub3ciLCJoYW5kbGVycyIsInVzZSIsImVqZWN0IiwiaCIsInRyYW5zZm9ybURhdGEiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsImJhc2VVUkwiLCJyZWFzb24iLCJmbnMiLCJyZWxhdGl2ZVVSTCIsImV4ZWN1dG9yIiwiVHlwZUVycm9yIiwicmVzb2x2ZVByb21pc2UiLCJzb3VyY2UiLCJhcnIiLCJRdWVzdERlbHV4ZVBvcnRhbCIsIklucHV0IiwiU2NlbmVfQmFzZSIsInJlQmluZElucHV0IiwiY3JlYXRlQmFja2dyb3VuZCIsImNsZWFyU3RhY2siLCJzdGFydEZhZGVJbiIsImZhZGVTcGVlZCIsIkxvZ2luRm9ybSIsImlzQnVzeSIsInRlcm1pbmF0ZSIsInNuYXBGb3JCYWNrZ3JvdW5kIiwiUmVnaXN0cmF0aW9uU3VjY2VzcyIsInNjcmVlbldpZHRoIiwiYm94V2lkdGgiLCJodG1sIiwiY2xpY2siLCJSZWdpc3RyYXRpb25Gb3JtIiwicmVnaXN0cmF0aW9uRGF0YSIsImFjY291bnROYW1lIiwic2NyYXBlUmVnaXN0cmF0aW9uRm9ybSIsImxvZ2luRGF0YSIsInNjcmFwZUxvZ2luSW5mbyIsIkNoYXJhY3RlclNlbGVjdCIsImhpZGUiLCJzaG93IiwiY291bnQiLCJwYXJzZWREYXRhIiwiY2hhckRhdGEiLCJhcHBlbmQiLCJhdHRyIiwiaW5kZXgiLCJOdW1iZXIiLCJjdXJyZW50VGFyZ2V0IiwiZ2FtZSIsIk5ld0NoYXJhY3RlciIsInNjcmFwZUNoYXJOYW1lIiwibG9hZGluZ1NjcmVlbiIsIl9iYWNrU3ByaXRlMSIsIlNwcml0ZSIsIkltYWdlTWFuYWdlciIsImxvYWRUaXRsZTEiLCJ0aXRsZTFOYW1lIiwiX2JhY2tTcHJpdGUyIiwibG9hZFRpdGxlMiIsInRpdGxlMk5hbWUiLCJjZW50ZXJTcHJpdGUiLCJjcmVhdGVGb3JlZ3JvdW5kIiwiX2dhbWVUaXRsZVNwcml0ZSIsIkJpdG1hcCIsIndpZHRoIiwiaGVpZ2h0Iiwib3B0RHJhd1RpdGxlIiwiZHJhd0dhbWVUaXRsZSIsIm1heFdpZHRoIiwidGV4dCIsImdhbWVUaXRsZSIsImJpdG1hcCIsIm91dGxpbmVDb2xvciIsIm91dGxpbmVXaWR0aCIsImZvbnRTaXplIiwiZHJhd1RleHQiLCJzcHJpdGUiLCJhbmNob3IiLCJwbGF5VGl0bGVNdXNpYyIsIkF1ZGlvTWFuYWdlciIsInBsYXlCZ20iLCJ0aXRsZUJnbSIsInN0b3BCZ3MiLCJzdG9wTWUiLCJTY2VuZV9Cb290IiwiU291bmRNYW5hZ2VyIiwicHJlbG9hZEltcG9ydGFudFNvdW5kcyIsImlzQmF0dGxlVGVzdCIsInNldHVwQmF0dGxlVGVzdCIsImlzRXZlbnRUZXN0Iiwic2V0dXBFdmVudFRlc3QiLCJjaGVja1BsYXllckxvY2F0aW9uIiwic2V0dXBOZXdHYW1lIiwidXBkYXRlRG9jdW1lbnRUaXRsZSIsIl9vbktleURvd24iLCJfc2hvdWxkUHJldmVudERlZmF1bHQiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJjbGVhciIsImJ1dHRvbk5hbWUiLCJrZXlNYXBwZXIiLCJfY3VycmVudFN0YXRlIiwidGFyZ2V0IiwiaXMiXSwibWFwcGluZ3MiOiJ3QkFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBMERBLE9BckRBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFB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YUFBYUcsVUFDYkgsYUFBYUksVUFJakJDLFdBQVcza0IsVUFBVTZQLE1BQVEsV0FDekIwUSxXQUFXdmdCLFVBQVU2UCxNQUFNdFIsS0FBS2lGLE1BQ2hDb2hCLGFBQWFDLHlCQUNUdmhCLFlBQVl3aEIsZ0JBQ1p4aEIsWUFBWXloQixrQkFDWjNkLGFBQWE0TSxLQUFLOUQsZUFDWDVNLFlBQVkwaEIsZUFDbkIxaEIsWUFBWTJoQixpQkFDWjdkLGFBQWE0TSxLQUFLek8sYUFFbEIvQixLQUFLMGhCLHNCQUNMNWhCLFlBQVk2aEIsZUFDWi9kLGFBQWE0TSxLQUFLcU0sSUFFdEI3YyxLQUFLNGhCLHVCQVVSOUUsTUFBTStFLFdBQWEsU0FBUzdhLEdBQ3BCaEgsS0FBSzhoQixzQkFBc0I5YSxJQUMzQkEsRUFBTSthLGlCQUVZLE1BQWxCL2EsRUFBTWdiLFNBQ05oaUIsS0FBS2lpQixRQUVULElBQUlDLEVBQWFsaUIsS0FBS21pQixVQUFVbmIsRUFBTWdiLFNBQ2xDRSxJQUNBbGlCLEtBQUtvaUIsY0FBY0YsSUFBYyxJQVV6Q3BGLE1BQU1nRixzQkFBd0IsU0FBUzFnQixHQUNuQyxPQUFRQSxFQUFFNGdCLFNBQ1QsS0FBSyxFQUNKLEdBQUl2VSxFQUFFck0sRUFBRWloQixRQUFRQyxHQUFHLG1CQUNsQixNQUNGLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNMLEtBQUssR0FDTCxLQUFLLEdBQ0wsS0FBSyxHQUNELE9BQU8sRUFFWixPQUFPIiwiZmlsZSI6Ik9ubGluZVN5c3RlbS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIGlzQnVmZmVyID0gcmVxdWlyZSgnaXMtYnVmZmVyJyk7XG5cbi8qZ2xvYmFsIHRvU3RyaW5nOnRydWUqL1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsKSB7XG4gIHJldHVybiAodHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJykgJiYgKHZhbCBpbnN0YW5jZW9mIEZvcm1EYXRhKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAodmFsLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1VuZGVmaW5lZCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRmlsZSh2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQmxvYih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgQmxvYl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNTdHJlYW0odmFsKSB7XG4gIHJldHVybiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zO1xufVxuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmZ1bmN0aW9uIHRyaW0oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXlxccyovLCAnJykucmVwbGFjZSgvXFxzKiQvLCAnJyk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICovXG5mdW5jdGlvbiBpc1N0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiAoXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnXG4gICk7XG59XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuKSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGZ1bmN0aW9uIGFzc2lnblZhbHVlKHZhbCwga2V5KSB7XG4gICAgaWYgKHR5cGVvZiByZXN1bHRba2V5XSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gbWVyZ2UocmVzdWx0W2tleV0sIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmZ1bmN0aW9uIGV4dGVuZChhLCBiLCB0aGlzQXJnKSB7XG4gIGZvckVhY2goYiwgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodGhpc0FyZyAmJiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzQXJyYXk6IGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXI6IGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyOiBpc0J1ZmZlcixcbiAgaXNGb3JtRGF0YTogaXNGb3JtRGF0YSxcbiAgaXNBcnJheUJ1ZmZlclZpZXc6IGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZzogaXNTdHJpbmcsXG4gIGlzTnVtYmVyOiBpc051bWJlcixcbiAgaXNPYmplY3Q6IGlzT2JqZWN0LFxuICBpc1VuZGVmaW5lZDogaXNVbmRlZmluZWQsXG4gIGlzRGF0ZTogaXNEYXRlLFxuICBpc0ZpbGU6IGlzRmlsZSxcbiAgaXNCbG9iOiBpc0Jsb2IsXG4gIGlzRnVuY3Rpb246IGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtOiBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXM6IGlzVVJMU2VhcmNoUGFyYW1zLFxuICBpc1N0YW5kYXJkQnJvd3NlckVudjogaXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIGZvckVhY2g6IGZvckVhY2gsXG4gIG1lcmdlOiBtZXJnZSxcbiAgZXh0ZW5kOiBleHRlbmQsXG4gIHRyaW06IHRyaW1cbn07XG4iLCJpbXBvcnQge0dhbWVfTmV0d29ya30gZnJvbSBcIi4vb25saW5lQ29yZVwiO1xyXG5pbXBvcnQge09ubGluZV9QYXJ0eX0gZnJvbSBcIi4vb25saW5lUGFydHlcIjtcclxuaW1wb3J0ICogYXMgQnJvYWRjYXN0ZXIgZnJvbSBcIi4vb25saW5lTWFwQnJvYWRjYXN0ZXJcIjtcclxuaW1wb3J0ICogYXMgTG9naW5Qb3J0YWwgZnJvbSBcIi4vbG9naW5Qb3J0YWxcIjtcclxuZXhwb3J0IHskZ2FtZU5ldHdvcmssICRvbmxpbmVQYXJ0eX07XHJcblxyXG52YXIgJGdhbWVOZXR3b3JrID0gbnVsbDtcclxudmFyICRvbmxpbmVQYXJ0eSA9IG51bGw7XHJcblxyXG5sZXQgTWFnZUNvcmVDcmVhdGVHYW1lT2JqID0gRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHM7XHJcbkRhdGFNYW5hZ2VyLmNyZWF0ZUdhbWVPYmplY3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgTWFnZUNvcmVDcmVhdGVHYW1lT2JqLmNhbGwodGhpcyk7XHJcbiAgICAkZ2FtZU5ldHdvcmsgPSAkZ2FtZU5ldHdvcmsgfHwgbmV3IEdhbWVfTmV0d29yaygpO1xyXG4gICAgJG9ubGluZVBhcnR5ID0gJG9ubGluZVBhcnR5IHx8IG5ldyBPbmxpbmVfUGFydHkoKTtcclxufTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBub3JtYWxpemVIZWFkZXJOYW1lID0gcmVxdWlyZSgnLi9oZWxwZXJzL25vcm1hbGl6ZUhlYWRlck5hbWUnKTtcblxudmFyIERFRkFVTFRfQ09OVEVOVF9UWVBFID0ge1xuICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcbn07XG5cbmZ1bmN0aW9uIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCB2YWx1ZSkge1xuICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnMpICYmIHV0aWxzLmlzVW5kZWZpbmVkKGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSkge1xuICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gdmFsdWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdEFkYXB0ZXIoKSB7XG4gIHZhciBhZGFwdGVyO1xuICBpZiAodHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEZvciBicm93c2VycyB1c2UgWEhSIGFkYXB0ZXJcbiAgICBhZGFwdGVyID0gcmVxdWlyZSgnLi9hZGFwdGVycy94aHInKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3Igbm9kZSB1c2UgSFRUUCBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMvaHR0cCcpO1xuICB9XG4gIHJldHVybiBhZGFwdGVyO1xufVxuXG52YXIgZGVmYXVsdHMgPSB7XG4gIGFkYXB0ZXI6IGdldERlZmF1bHRBZGFwdGVyKCksXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgJ0NvbnRlbnQtVHlwZScpO1xuICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcpO1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7IC8qIElnbm9yZSAqLyB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICAvKipcbiAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyB0byBhYm9ydCBhIHJlcXVlc3QuIElmIHNldCB0byAwIChkZWZhdWx0KSBhXG4gICAqIHRpbWVvdXQgaXMgbm90IGNyZWF0ZWQuXG4gICAqL1xuICB0aW1lb3V0OiAwLFxuXG4gIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXG4gIHhzcmZIZWFkZXJOYW1lOiAnWC1YU1JGLVRPS0VOJyxcblxuICBtYXhDb250ZW50TGVuZ3RoOiAtMSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9XG59O1xuXG5kZWZhdWx0cy5oZWFkZXJzID0ge1xuICBjb21tb246IHtcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB1dGlscy5tZXJnZShERUZBVUxUX0NPTlRFTlRfVFlQRSk7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBkZWZhdWx0cztcbiIsIiAgICBpbXBvcnQgeyRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCI7XHJcbiAgICBleHBvcnQge1NjZW5lX01hcCwgU3ByaXRlc2V0X01hcCwgR2FtZV9QbGF5ZXIsIEdhbWVfTWFwLCBHYW1lX05ldHdvcmtQbGF5ZXJ9XHJcblxyXG4gICAgXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byBicm9hZGNhdCBwbGF5ZXIgbG9jYXRpb24vc3ByaXRlIGluZm8gdG8gb3RoZXIgcGxheWVycyBpbiBtYXAgZ3JvdXBcclxuICAgIC8vIGF3YWl0IGNvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUsIGdyb3VwTXNnKTtcclxuICAgIFxyXG4gICAgLy8gVXNlIHRoaXMgZnVuY3Rpb24gdG8gYWRkIHBsYXllciB0byBtYXAgZ3JvdXAgYmFzZWQgb24gbWFwIG5hbWVcclxuICAgIC8vIGF3YWl0IGNvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUpO1xyXG4gICAgXHJcbiAgICAvLyBVc2UgdGhpcyBmdW5jdGlvbiB0byByZW1vdmUgcGxheWVyIGZyb20gbWFwIGdyb3VwcyAod2hlbiBwbGF5ZXIgbGVhdmVzIG1hcCByb29tKVxyXG4gICAgLy8gYXdhaXQgY29ubmVjdGlvbi5pbnZva2UoXCJSZW1vdmVGcm9tTWFwR3JvdXBcIiwgbWFwR3JvdXBOYW1lKTtcclxuICAgIFxyXG4gICAgLy8gdmFyaWFibGUgdG8gaG9sZCBkYXRhIG9uIG90aGVyIHBsYXllcnMgaW4gbWFwR3JvdXBcclxuICAgIFxyXG4gICAgLy8gb3ZlcmxvYWQgbWFwIHNvY2tldCBjcmVhdGlvbiBmdW5jdGlvbiB0byBoYW5kbGUgYWRkaW5nIHBsYXllciB0byBtYXAgZ3JvdXAgaW5pdGlhbGx5IGFuZCB0b1xyXG4gICAgLy8gZGVmaW5lIGZ1bmN0aW9uIHVzZWQgdG8gYnJvYWRjYXN0IGluY29taW5nIHBsYXllciBkYXRhIHRvIG1hcFxyXG5cclxuICAgIFxyXG4gICAgY29uc3Qgb25NYXBMb2FkQUxpYXMgPSBTY2VuZV9NYXAucHJvdG90eXBlLm9uTWFwTG9hZGVkO1xyXG4gICAgU2NlbmVfTWFwLnByb3RvdHlwZS5vbk1hcExvYWRlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBvbk1hcExvYWRBTGlhcy5jYWxsKHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAoJGdhbWVNYXAuX21hcElkICE9PSAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJSZW1vdmVGcm9tTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0RGF0YUV2ZW50SW5kZXhlcyA9IFtdOyBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkZGF0YU1hcC5ldmVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZGF0YU1hcC5ldmVudHNbaV0gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXREYXRhRXZlbnRJbmRleGVzLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgaWYgKHRhcmdldERhdGFFdmVudEluZGV4ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0RGF0YUV2ZW50SW5kZXhlcy5mb3JFYWNoKGkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRkYXRhTWFwLmV2ZW50cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCB0YXJnZXRNYXBFdmVudEluZGV4ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAkZ2FtZU1hcC5fZXZlbnRzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRnYW1lTWFwLl9ldmVudHNbaV0uX2FjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU1hcC5fZXZlbnRzW2ldLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRNYXBFdmVudEluZGV4ZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0TWFwRXZlbnRJbmRleGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldE1hcEV2ZW50SW5kZXhlcy5mb3JFYWNoKGkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTWFwLl9ldmVudHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV0RXZlbnRzVG9SZW1vdmUgPSBbXTtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgZXZzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICBcclxuICAgICAgICAgICAgZm9yKGxldCBuZXRFdmVudCBpbiBldnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldnMuaGFzT3duUHJvcGVydHkobmV0RXZlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2c1tuZXRFdmVudF0uX2lzTmV0d29ya1BsYXllckV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldEV2ZW50c1RvUmVtb3ZlLnB1c2goZXZzW25ldEV2ZW50XS5fYWNjb3VudFVzZXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgXHJcbiAgICAgICAgICAgIGlmIChuZXRFdmVudHNUb1JlbW92ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBuZXRFdmVudHNUb1JlbW92ZS5mb3JFYWNoKG5ldEV2ZW50ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbbmV0RXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgIFNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldC5jbGVhckFsbE5ldHdvcmtQbGF5ZXJFdmVudHMoKTtcclxuXHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSAkZ2FtZU1hcC5fbWFwSWQ7XHJcblxyXG4gICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5pbnZva2UoXCJBZGRUb01hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmdhbWVfbG9hZGVkID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgU3ByaXRlc2V0X01hcC5wcm90b3R5cGUuY2xlYXJOZXR3b3JrUGxheWVyID0gZnVuY3Rpb24oYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0uX2NoYXJhY3RlcjtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Ll9hY2NvdW50VXNlck5hbWUgPT09IGFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZW1hcC5yZW1vdmVDaGlsZCh0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgU3ByaXRlc2V0X01hcC5wcm90b3R5cGUuY2xlYXJBbGxOZXR3b3JrUGxheWVyRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBldmVudCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbaV0uX2NoYXJhY3RlcjtcclxuICAgICAgICAgICAgaWYgKGV2ZW50Ll9pc05ldHdvcmtQbGF5ZXJFdmVudCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdGlsZW1hcC5yZW1vdmVDaGlsZCh0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICBsZXQgdXNlckFjY291bnQgPSBkYXRhLmFjY291bnRVc2VyTmFtZTtcclxuICAgICAgICBsZXQgbmV0RXZlbnRzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcblxyXG4gICAgICAgIG5ldEV2ZW50c1t1c2VyQWNjb3VudF0uc2V0TW92ZVNwZWVkKGRhdGEubW92ZVNwZWVkKTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLnNldE1vdmVGcmVxdWVuY3koZGF0YS5tb3ZlRnJlcXVlbnp5KTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLm1vdmVTdHJhaWdodChkYXRhLmRpcmVjdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChuZXRFdmVudHNbdXNlckFjY291bnRdLnghPT1kYXRhLnggfHwgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS55IT09ZGF0YS55KXtcclxuICAgICAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5zZXRQb3NpdGlvbihkYXRhLngsIGRhdGEueSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgbmV0RXZlbnRzW3VzZXJBY2NvdW50XS5fY2hhcmFjdGVyTmFtZSA9IGRhdGEuY2hhcmFjdGVyTmFtZTtcclxuICAgICAgICBuZXRFdmVudHNbdXNlckFjY291bnRdLl9jaGFyYWN0ZXJJbmRleCA9IGRhdGEuY2hhcmFjdGVySW5kZXg7XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBvdmVybG9hZCBNViBmdW5jdGlvbiB0byBicm9hZGNhc3QgcGxheWVyIG1vdmVtZW50IHRvIG1hcCBncm91cC4gbG9naWMgdG8gaGFuZGxlIG1hcEdyb3VwIGNoYW5nZXMgYWxzbyBoZXJlXHJcbiAgICBHYW1lX1BsYXllci5wcm90b3R5cGUubW92ZUJ5SW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNNb3ZpbmcoKSAmJiB0aGlzLmNhbk1vdmUoKSkge1xyXG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5nZXRJbnB1dERpcmVjdGlvbigpO1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgJGdhbWVUZW1wLmNsZWFyRGVzdGluYXRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICgkZ2FtZVRlbXAuaXNEZXN0aW5hdGlvblZhbGlkKCkpe1xyXG4gICAgICAgICAgICAgICAgdmFyIHggPSAkZ2FtZVRlbXAuZGVzdGluYXRpb25YKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeSA9ICRnYW1lVGVtcC5kZXN0aW5hdGlvblkoKTtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IHRoaXMuZmluZERpcmVjdGlvblRvKHgsIHkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID4gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXhlY3V0ZU1vdmUoZGlyZWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIGlmICgkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkICE9PSAkZ2FtZU1hcC5fbWFwSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiUmVtb3ZlRnJvbU1hcEdyb3VwXCIsIFwibWFwUm9vbVwiICsgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCwgSlNPTi5zdHJpbmdpZnkocGxheWVyRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSAkZ2FtZU1hcC5fbWFwSWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLmludm9rZShcIkFkZFRvTWFwR3JvdXBcIiwgXCJtYXBSb29tXCIgKyAkZ2FtZU5ldHdvcmsuY3VycmVudE1hcElkLCBKU09OLnN0cmluZ2lmeShwbGF5ZXJEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZS50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IG1hcEdyb3VwTmFtZSA9IFwibWFwUm9vbVwiICsgJGdhbWVNYXAuX21hcElkIFxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBtYXBHcm91cE5hbWUsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBcclxuXHJcbiAgICBHYW1lX1BsYXllci5wcm90b3R5cGUuc2VlZE5ld1BsYXllckV2ZW50ID0gZnVuY3Rpb24gKG5ld1BsYXllclgsIG5ld1BsYXllclksIHBsYXllckFjY291bnROYW1lKSB7XHJcbiAgICAgICAgbGV0IG5ld0V2ZW50SWQgPSAkZGF0YU1hcC5ldmVudHMubGVuZ3RoO1xyXG4gICAgICAgIGxldCBlbXB0eUV2ZW50ID0gYHtcImlkXCI6JHtuZXdFdmVudElkfSxcIm5hbWVcIjpcIiR7cGxheWVyQWNjb3VudE5hbWV9XCIsXCJub3RlXCI6XCJcIixcInBhZ2VzXCI6W3tcImNvbmRpdGlvbnNcIjp7XCJhY3RvcklkXCI6MSxcImFjdG9yVmFsaWRcIjpmYWxzZSxcIml0ZW1JZFwiOjEsXCJpdGVtVmFsaWRcIjpmYWxzZSxcInNlbGZTd2l0Y2hDaFwiOlwiQVwiLFwic2VsZlN3aXRjaFZhbGlkXCI6ZmFsc2UsXCJzd2l0Y2gxSWRcIjoxLFwic3dpdGNoMVZhbGlkXCI6ZmFsc2UsXCJzd2l0Y2gySWRcIjoxLFwic3dpdGNoMlZhbGlkXCI6ZmFsc2UsXCJ2YXJpYWJsZUlkXCI6MSxcInZhcmlhYmxlVmFsaWRcIjpmYWxzZSxcInZhcmlhYmxlVmFsdWVcIjowfSxcImRpcmVjdGlvbkZpeFwiOmZhbHNlLFwiaW1hZ2VcIjp7XCJjaGFyYWN0ZXJJbmRleFwiOjAsXCJjaGFyYWN0ZXJOYW1lXCI6XCJcIixcImRpcmVjdGlvblwiOjIsXCJwYXR0ZXJuXCI6MCxcInRpbGVJZFwiOjB9LFwibGlzdFwiOlt7XCJjb2RlXCI6MCxcImluZGVudFwiOjAsXCJwYXJhbWV0ZXJzXCI6W119XSxcIm1vdmVGcmVxdWVuY3lcIjozLFwibW92ZVJvdXRlXCI6e1wibGlzdFwiOlt7XCJjb2RlXCI6MCxcInBhcmFtZXRlcnNcIjpbXX1dLFwicmVwZWF0XCI6dHJ1ZSxcInNraXBwYWJsZVwiOmZhbHNlLFwid2FpdFwiOmZhbHNlfSxcIm1vdmVTcGVlZFwiOjMsXCJtb3ZlVHlwZVwiOjAsXCJwcmlvcml0eVR5cGVcIjowLFwic3RlcEFuaW1lXCI6ZmFsc2UsXCJ0aHJvdWdoXCI6ZmFsc2UsXCJ0cmlnZ2VyXCI6MCxcIndhbGtBbmltZVwiOnRydWV9XSxcInhcIjoke25ld1BsYXllclh9LFwieVwiOiR7bmV3UGxheWVyWX0sXCJtZXRhXCI6e30sXCJfaXNOZXR3b3JrUGxheWVyRXZlbnRcIjp0cnVlfWA7XHJcbiAgICAgICAgJGRhdGFNYXAuZXZlbnRzLnB1c2goSlNPTi5wYXJzZShlbXB0eUV2ZW50KSk7XHJcbiAgICAgICAgcmV0dXJuIG5ld0V2ZW50SWQ7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvL2xvZ2ljIHRvIGFkZCBuZXcgcGxheWVyIGluc3RhbmNlIHRvIG5ldHdvcmtNYXBFdmVudHNcclxuICAgIEdhbWVfTWFwLnByb3RvdHlwZS5hZGROZXR3b3JrUGxheWVyID0gZnVuY3Rpb24oeCwgeSwgcGxheWVyQWNjb3VudE5hbWUpIHtcclxuICAgICAgICBsZXQgbmV3UGxheWVyRXZlbnRJZCA9IEdhbWVfUGxheWVyLnByb3RvdHlwZS5zZWVkTmV3UGxheWVyRXZlbnQoeCwgeSwgcGxheWVyQWNjb3VudE5hbWUpO1xyXG4gICAgICAgIGxldCBuZXdQbGF5ZXJNYXBJZCA9IHRoaXMuX2V2ZW50cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHRoaXMuX2V2ZW50c1tuZXdQbGF5ZXJNYXBJZF0gPSBuZXcgR2FtZV9OZXR3b3JrUGxheWVyKHRoaXMuX21hcElkLCBuZXdQbGF5ZXJFdmVudElkLCB4LCB5KTtcclxuICAgICAgICB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdLl9hY2NvdW50VXNlck5hbWUgPSBwbGF5ZXJBY2NvdW50TmFtZTtcclxuICAgICAgICB0aGlzLl9ldmVudHNbbmV3UGxheWVyTWFwSWRdLl9pc05ldHdvcmtQbGF5ZXJFdmVudCA9IHRydWU7XHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5fc3ByaXRlc2V0LmNyZWF0ZU5ldHdvcmtQbGF5ZXIobmV3UGxheWVyTWFwSWQsIHBsYXllckFjY291bnROYW1lKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnRzW25ld1BsYXllck1hcElkXTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vIGxvZ2ljIHRvIGNyZWF0ZSBuZXcgcGxheWVyIGluc3RhbmNlIGZvciBuZXR3b3JrTWFwRXZlbnRzXHJcbiAgICBTcHJpdGVzZXRfTWFwLnByb3RvdHlwZS5jcmVhdGVOZXR3b3JrUGxheWVyID0gZnVuY3Rpb24odGFyZ2V0SW5kZXgsIHBsYXllckFjY291bnROYW1lKSB7XHJcbiAgICAgICAgbGV0IGV2ZW50ID0gJGdhbWVNYXAuX2V2ZW50c1t0YXJnZXRJbmRleF07XHJcbiAgICAgICAgdmFyIHNJZCA9IHRoaXMuX2NoYXJhY3RlclNwcml0ZXMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXSA9IG5ldyBTcHJpdGVfQ2hhcmFjdGVyKGV2ZW50KTtcclxuICAgICAgICB0aGlzLl9jaGFyYWN0ZXJTcHJpdGVzW3NJZF0uX2FjY291bnRVc2VyTmFtZSA9IHBsYXllckFjY291bnROYW1lO1xyXG4gICAgICAgIHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXS51cGRhdGUoKTtcclxuICAgICAgICB0aGlzLl90aWxlbWFwLmFkZENoaWxkKHRoaXMuX2NoYXJhY3RlclNwcml0ZXNbc0lkXSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIExvZ2ljIHRvIGNyZWF0ZSBhIG5ldyBjaGFyYWN0ZXIgaW5zdGFuY2UgdGhhdCB3aWxsIGJlIHVzZWQgdG8gYnJvYWRjYXN0IHRvIHRoZSBtYXBcclxuICAgIGZ1bmN0aW9uIEdhbWVfTmV0d29ya1BsYXllcigpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR2FtZV9FdmVudC5wcm90b3R5cGUpO1xyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdhbWVfTmV0d29ya1BsYXllcjtcclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrUGxheWVyLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24obWFwSWQsIGV2ZW50SWQseCx5KSB7XHJcbiAgICAgICAgR2FtZV9FdmVudC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsbWFwSWQsZXZlbnRJZCk7XHJcbiAgICAgICAgdGhpcy5faXNOZXR3b3JrUGxheWVyID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHgseSk7XHJcbiAgICB9O1xyXG4gICAgXHJcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcCgpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xudmFyIGJ0b2EgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmJ0b2EgJiYgd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpKSB8fCByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnRvYScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHZhciBsb2FkRXZlbnQgPSAnb25yZWFkeXN0YXRlY2hhbmdlJztcbiAgICB2YXIgeERvbWFpbiA9IGZhbHNlO1xuXG4gICAgLy8gRm9yIElFIDgvOSBDT1JTIHN1cHBvcnRcbiAgICAvLyBPbmx5IHN1cHBvcnRzIFBPU1QgYW5kIEdFVCBjYWxscyBhbmQgZG9lc24ndCByZXR1cm5zIHRoZSByZXNwb25zZSBoZWFkZXJzLlxuICAgIC8vIERPTidUIGRvIHRoaXMgZm9yIHRlc3RpbmcgYi9jIFhNTEh0dHBSZXF1ZXN0IGlzIG1vY2tlZCwgbm90IFhEb21haW5SZXF1ZXN0LlxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnICYmXG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIHdpbmRvdy5YRG9tYWluUmVxdWVzdCAmJiAhKCd3aXRoQ3JlZGVudGlhbHMnIGluIHJlcXVlc3QpICYmXG4gICAgICAgICFpc1VSTFNhbWVPcmlnaW4oY29uZmlnLnVybCkpIHtcbiAgICAgIHJlcXVlc3QgPSBuZXcgd2luZG93LlhEb21haW5SZXF1ZXN0KCk7XG4gICAgICBsb2FkRXZlbnQgPSAnb25sb2FkJztcbiAgICAgIHhEb21haW4gPSB0cnVlO1xuICAgICAgcmVxdWVzdC5vbnByb2dyZXNzID0gZnVuY3Rpb24gaGFuZGxlUHJvZ3Jlc3MoKSB7fTtcbiAgICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHt9O1xuICAgIH1cblxuICAgIC8vIEhUVFAgYmFzaWMgYXV0aGVudGljYXRpb25cbiAgICBpZiAoY29uZmlnLmF1dGgpIHtcbiAgICAgIHZhciB1c2VybmFtZSA9IGNvbmZpZy5hdXRoLnVzZXJuYW1lIHx8ICcnO1xuICAgICAgdmFyIHBhc3N3b3JkID0gY29uZmlnLmF1dGgucGFzc3dvcmQgfHwgJyc7XG4gICAgICByZXF1ZXN0SGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyBidG9hKHVzZXJuYW1lICsgJzonICsgcGFzc3dvcmQpO1xuICAgIH1cblxuICAgIHJlcXVlc3Qub3Blbihjb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIGJ1aWxkVVJMKGNvbmZpZy51cmwsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IGNvbmZpZy50aW1lb3V0O1xuXG4gICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZVxuICAgIHJlcXVlc3RbbG9hZEV2ZW50XSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QgfHwgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCAmJiAheERvbWFpbikpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIHZhciByZXNwb25zZUhlYWRlcnMgPSAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ID8gcGFyc2VIZWFkZXJzKHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpIDogbnVsbDtcbiAgICAgIHZhciByZXNwb25zZURhdGEgPSAhY29uZmlnLnJlc3BvbnNlVHlwZSB8fCBjb25maWcucmVzcG9uc2VUeXBlID09PSAndGV4dCcgPyByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICB2YXIgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgLy8gSUUgc2VuZHMgMTIyMyBpbnN0ZWFkIG9mIDIwNCAoaHR0cHM6Ly9naXRodWIuY29tL2F4aW9zL2F4aW9zL2lzc3Vlcy8yMDEpXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXMgPT09IDEyMjMgPyAnTm8gQ29udGVudCcgOiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGVuaGFuY2VFcnJvciA9IHJlcXVpcmUoJy4vZW5oYW5jZUVycm9yJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVycm9yKG1lc3NhZ2UsIGNvbmZpZywgY29kZSwgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBBIGBDYW5jZWxgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsKG1lc3NhZ2UpIHtcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbn1cblxuQ2FuY2VsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICByZXR1cm4gJ0NhbmNlbCcgKyAodGhpcy5tZXNzYWdlID8gJzogJyArIHRoaXMubWVzc2FnZSA6ICcnKTtcbn07XG5cbkNhbmNlbC5wcm90b3R5cGUuX19DQU5DRUxfXyA9IHRydWU7XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsO1xuIiwidmFyIEltcG9ydGVkID0gSW1wb3J0ZWQgfHwge307XHJcbkltcG9ydGVkLk9ubGluZUNvcmUgPSB0cnVlO1xyXG5cclxuaW1wb3J0IHskZ2FtZU5ldHdvcmssICRvbmxpbmVQYXJ0eX0gZnJvbSBcIi4vb25saW5lU3lzdGVtXCJcclxuaW1wb3J0IHsgR2FtZV9NYXAgfSBmcm9tIFwiLi9vbmxpbmVNYXBCcm9hZGNhc3RlclwiO1xyXG5leHBvcnQge0dhbWVfTmV0d29ya307XHJcblxyXG4gICAgLyo6XHJcbiAgICAgKiBAcGx1Z2luZGVzYyBQbHVnaW4gdG8gc3VwcG9ydCBvbmxpbmUgcGxheS5cclxuICAgICAqIEBhdXRob3IgR2FycmV0dCBXYXJkXHJcbiAgICAgKlxyXG4gICAgICogQGhlbHAgVEJEXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIEdhbWVfTmV0d29yaygpIHtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuYXBpVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGknO1xyXG4gICAgICAgIHRoaXMudG9rZW4gPSAnJztcclxuICAgICAgICB0aGlzLnVzZXJFbWFpbCA9IFwiXCI7XHJcbiAgICAgICAgdGhpcy51c2VyQWNjb3VudE5hbWUgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuY3VycmVudE1hcElkID0gMDsgXHJcbiAgICAgICAgdGhpcy5tYXBDb25uZWN0aW9uID0ge307XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrTWFwRXZlbnRzID0ge307XHJcbiAgICAgICAgdGhpcy5nYW1lX2xvYWRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMubG9hZGVkR2FtZXMgPSBbXTtcclxuICAgIH07XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5jb25uZWN0TWFwU29ja2V0QWZ0ZXJMb2dpbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGxldCBjb25uZWN0aW9uID0gbmV3IHNpZ25hbFIuSHViQ29ubmVjdGlvbkJ1aWxkZXIoKVxyXG4gICAgICAgIC53aXRoVXJsKFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2dhbWVNYXBIdWJcIilcclxuICAgICAgICAuYnVpbGQoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XHJcbiAgICAgICAgKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0ICRnYW1lTmV0d29yay5tYXBDb25uZWN0aW9uLnN0YXJ0KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcGxheWVyRGF0YSA9ICRnYW1lTmV0d29yay5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQWRkVG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBsYXllckRhdGEpKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIk5ld1BsYXllck9uTWFwXCIsIGZ1bmN0aW9uIChwbGF5ZXJEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnggPT09IDAgfHwgZGF0YS55ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEueCA9IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEueSA9IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdOZXR3b3JrUGxheWVyID0gJGdhbWVNYXAuYWRkTmV0d29ya1BsYXllcihkYXRhLngsIGRhdGEueSwgZGF0YS5hY2NvdW50VXNlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXSA9IG5ld05ldHdvcmtQbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgJG9ubGluZVBhcnR5Lm1lbWJlcnMucHVzaChuZXdOZXR3b3JrUGxheWVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBpbmdEYXRhID0gR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5HZXRQbGF5ZXJDYXN0ZXJEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLm1hcENvbm5lY3Rpb24uaW52b2tlKFwiQnJvYWRjYXN0VG9NYXBHcm91cFwiLCBcIm1hcFJvb21cIiArICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQsIEpTT04uc3RyaW5naWZ5KHBpbmdEYXRhKSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIlBsYXllck1hcFVwZGF0ZVwiLCBmdW5jdGlvbiAocGxheWVyRGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIVNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldCB8fCBTY2VuZU1hbmFnZXIuX3NjZW5lIGluc3RhbmNlb2YgU2NlbmVfQmF0dGxlKSB7ICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkZ2FtZU5ldHdvcmsubmV0d29ya01hcEV2ZW50c1tkYXRhLmFjY291bnRVc2VyTmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR2FtZV9QbGF5ZXIucHJvdG90eXBlLlVwZGF0ZU5ldHdvcmtQbGF5ZXIoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld05ldHdvcmtQbGF5ZXIgPSAkZ2FtZU1hcC5hZGROZXR3b3JrUGxheWVyKGRhdGEueCwgZGF0YS55LCBkYXRhLmFjY291bnRVc2VyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzW2RhdGEuYWNjb3VudFVzZXJOYW1lXSA9IG5ld05ldHdvcmtQbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRvbmxpbmVQYXJ0eS5tZW1iZXJzLnB1c2gobmV3TmV0d29ya1BsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdhbWVfUGxheWVyLnByb3RvdHlwZS5VcGRhdGVOZXR3b3JrUGxheWVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsubWFwQ29ubmVjdGlvbi5vbihcIlJlbW92ZVBsYXllckZyb21NYXBcIiwgZnVuY3Rpb24gKHBsYXllckRhdGEpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnBhcnNlKHBsYXllckRhdGEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0RGF0YUV2ZW50SW5kZXggPSAwOyBcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRkYXRhTWFwLmV2ZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGRhdGFNYXAuZXZlbnRzW2ldLm5hbWUgPT09IGRhdGEuYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0RGF0YUV2ZW50SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRkYXRhTWFwLmV2ZW50cy5zcGxpY2UodGFyZ2V0RGF0YUV2ZW50SW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0TWFwRXZlbnRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCAkZ2FtZU1hcC5fZXZlbnRzLmxlbmd0aDsgaSArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5fYWNjb3VudFVzZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGdhbWVNYXAuX2V2ZW50c1tpXS5fYWNjb3VudFVzZXJOYW1lID09PSBkYXRhLmFjY291bnRVc2VyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE1hcEV2ZW50SW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRnYW1lTWFwLl9ldmVudHMuc3BsaWNlKHRhcmdldE1hcEV2ZW50SW5kZXgsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHNbZGF0YS5hY2NvdW50VXNlck5hbWVdO1xyXG4gICAgICAgICAgICAgICAgICAgIFNjZW5lTWFuYWdlci5fc2NlbmUuX3Nwcml0ZXNldC5jbGVhck5ldHdvcmtQbGF5ZXIoZGF0YS5hY2NvdW50VXNlck5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DYXB0dXJlTG9naW5SZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZURhdGEpIHtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsudG9rZW4gPSByZXNwb25zZURhdGEudG9rZW47XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCA9IHJlc3BvbnNlRGF0YS5lbWFpbDtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lID0gcmVzcG9uc2VEYXRhLnVzZXI7XHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5HZXRQbGF5ZXJDYXN0ZXJEYXRhID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBsZXQgcGxheWVyRGF0YSA9IHtcclxuICAgICAgICAgICAgYWNjb3VudFVzZXJOYW1lOiAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246ICRnYW1lUGxheWVyLl9kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgIHg6ICRnYW1lUGxheWVyLl94LFxyXG4gICAgICAgICAgICB5OiAkZ2FtZVBsYXllci5feSxcclxuICAgICAgICAgICAgbW92ZVNwZWVkOiAkZ2FtZVBsYXllci5fbW92ZVNwZWVkLFxyXG4gICAgICAgICAgICBtb3ZlRnJlcXVlbnp5OiAkZ2FtZVBsYXllci5fbW92ZUZyZXF1ZW5jeSxcclxuICAgICAgICAgICAgY2hhcmFjdGVyTmFtZTogJGdhbWVQbGF5ZXIuX2NoYXJhY3Rlck5hbWUsXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckluZGV4OiAkZ2FtZVBsYXllci5fY2hhcmFjdGVySW5kZXhcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBsYXllckRhdGE7XHJcbiAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5Mb2FkR2FtZUZpbGVzRnJvbVNlcnZlciA9IGZ1bmN0aW9uKHVzZXJFbWFpbCwgY2FsbGJhY2spIHtcclxuICAgICAgICAkLmdldCgkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9HYW1lRGF0YS8ke3VzZXJFbWFpbH1gLCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcclxuICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuYWxlcnQoJ0xvYWQgZmFpbGVkJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuQ3JlYXRlTmV3VXNlciA9IGZ1bmN0aW9uKHVzZXJEYXRhLCBjYWxsYmFjaykge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvQWNjb3VudHMvcmVnaXN0ZXJgLFxyXG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgZGF0YTogdXNlckRhdGEsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIEdhbWVfTmV0d29yay5wcm90b3R5cGUuTG9nVXNlckluID0gZnVuY3Rpb24odXNlckRhdGEsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAkZ2FtZU5ldHdvcmsuYXBpVXJsICsgYC9BY2NvdW50cy9sb2dpbmAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiB1c2VyRGF0YSxcclxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCA9IHIuZW1haWw7XHJcbiAgICAgICAgICAgICAgICBHYW1lX05ldHdvcmsucHJvdG90eXBlLkNhcHR1cmVMb2dpblJlc3BvbnNlKHIpO1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DbGFzc1NlbGVjdCA9IGZ1bmN0aW9uIChzYXZlZmlsZSwgY2xhc3NDaG9pY2UsIGNoYXJOYW1lKSB7XHJcblxyXG4gICAgICAgIGxldCBuZXdBY3RvciA9IFtdO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjbGFzc0Nob2ljZSA9PT0gJ0NsYW5zbWVuJykge1xyXG4gICAgICAgICAgICBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6MSxcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjFfMVwiLFwiY2hhcmFjdGVySW5kZXhcIjowLFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IxXCIsXCJjbGFzc0lkXCI6MSxcImVxdWlwc1wiOlsxLDEsMiwzLDBdLFwiZmFjZUluZGV4XCI6MCxcImZhY2VOYW1lXCI6XCJBY3RvcjFcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdCaWcgSGF0Jykge1xyXG4gICAgICAgICAgICBuZXdBY3RvciA9IFtudWxsLFxyXG4gICAgICAgICAgICAgICAge1wiYWx0Q2xhc3NOYW1lXCI6YCR7Y2xhc3NDaG9pY2V9YCxcImlkXCI6MixcImJhdHRsZXJOYW1lXCI6XCJBY3RvcjJfNVwiLFwiY2hhcmFjdGVySW5kZXhcIjo0LFwiY2hhcmFjdGVyTmFtZVwiOlwiQWN0b3IyXCIsXCJjbGFzc0lkXCI6MyxcImVxdWlwc1wiOlszLDAsMCwwLDBdLFwiZmFjZUluZGV4XCI6NCxcImZhY2VOYW1lXCI6XCJBY3RvcjJcIixcInRyYWl0c1wiOltdLFwiaW5pdGlhbExldmVsXCI6MSxcIm1heExldmVsXCI6OTksXCJuYW1lXCI6YCR7Y2hhck5hbWV9YCxcIm5pY2tuYW1lXCI6XCJcIixcIm5vdGVcIjpcIlwiLFwicHJvZmlsZVwiOlwiXCJ9XHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xhc3NDaG9pY2UgPT09ICdEaXZpbmUnKSB7XHJcbiAgICAgICAgICAgIG5ld0FjdG9yID0gW251bGwsXHJcbiAgICAgICAgICAgICAgICB7XCJhbHRDbGFzc05hbWVcIjpgJHtjbGFzc0Nob2ljZX1gLFwiaWRcIjo0LFwiYmF0dGxlck5hbWVcIjpcIkFjdG9yMl80XCIsXCJjaGFyYWN0ZXJJbmRleFwiOjMsXCJjaGFyYWN0ZXJOYW1lXCI6XCJBY3RvcjNcIixcImNsYXNzSWRcIjo0LFwiZXF1aXBzXCI6WzQsMCwwLDAsMF0sXCJmYWNlSW5kZXhcIjozLFwiZmFjZU5hbWVcIjpcIkFjdG9yM1wiLFwidHJhaXRzXCI6W10sXCJpbml0aWFsTGV2ZWxcIjoxLFwibWF4TGV2ZWxcIjo5OSxcIm5hbWVcIjpgJHtjaGFyTmFtZX1gLFwibmlja25hbWVcIjpcIlwiLFwibm90ZVwiOlwiXCIsXCJwcm9maWxlXCI6XCJcIn1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfSBlbHNlIGlmIChjbGFzc0Nob2ljZSA9PT0gJ01lcmNlbmFyeScpIHtcclxuICAgICAgICAgICAgbmV3QWN0b3IgPSBbbnVsbCxcclxuICAgICAgICAgICAgICAgIHtcImFsdENsYXNzTmFtZVwiOmAke2NsYXNzQ2hvaWNlfWAsXCJpZFwiOjMsXCJiYXR0bGVyTmFtZVwiOlwiQWN0b3IxXzdcIixcImNoYXJhY3RlckluZGV4XCI6NixcImNoYXJhY3Rlck5hbWVcIjpcIkFjdG9yMVwiLFwiY2xhc3NJZFwiOjIsXCJlcXVpcHNcIjpbMiwwLDAsMCwwXSxcImZhY2VJbmRleFwiOjYsXCJmYWNlTmFtZVwiOlwiQWN0b3IxXCIsXCJ0cmFpdHNcIjpbXSxcImluaXRpYWxMZXZlbFwiOjEsXCJtYXhMZXZlbFwiOjk5LFwibmFtZVwiOmAke2NoYXJOYW1lfWAsXCJuaWNrbmFtZVwiOlwiXCIsXCJub3RlXCI6XCJcIixcInByb2ZpbGVcIjpcIlwifVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAkZGF0YUFjdG9ycyA9IG5ld0FjdG9yO1xyXG4gICAgICAgIGxldCBhY3RvcnNBcnJheSA9IG5ldyBHYW1lX0FjdG9ycygpO1xyXG4gICAgICAgIGxldCBnYW1lQWN0b3IgPSBuZXcgR2FtZV9BY3RvcigxKTtcclxuICAgICAgICBsZXQgaW5pdGlhbGl6ZWRBY3RvciA9IE9iamVjdC5hc3NpZ24oZ2FtZUFjdG9yLCBuZXdBY3RvclsxXSk7XHJcbiAgICAgICAgbmV3QWN0b3JbMV0gPSBpbml0aWFsaXplZEFjdG9yO1xyXG4gICAgICAgIGFjdG9yc0FycmF5Ll9kYXRhID0gbmV3QWN0b3I7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc2F2ZWZpbGUuYWN0b3JzID0gYWN0b3JzQXJyYXk7XHJcbiAgICAgICAgc2F2ZWZpbGUuZGF0YUFjdG9ycyA9ICRkYXRhQWN0b3JzO1xyXG5cclxuICAgICAgICByZXR1cm4gc2F2ZWZpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5Mb2FkU2F2ZWRHYW1lID0gZnVuY3Rpb24gKGNvbnRlbnRzKSB7XHJcblxyXG4gICAgICAgIERhdGFNYW5hZ2VyLmNyZWF0ZUdhbWVPYmplY3RzKCk7XHJcbiAgICAgICAgRGF0YU1hbmFnZXIuZXh0cmFjdFNhdmVDb250ZW50cyhjb250ZW50cyk7XHJcbiAgICAgICAgJGRhdGFBY3RvcnMgPSBjb250ZW50cy5kYXRhQWN0b3JzO1xyXG5cclxuICAgICAgICBsZXQgYWN0b3JzQXJyYXkgPSBuZXcgR2FtZV9BY3RvcnMoKTtcclxuICAgICAgICBsZXQgZ2FtZUFjdG9yID0gbmV3IEdhbWVfQWN0b3IoMSk7XHJcbiAgICAgICAgYWN0b3JzQXJyYXkuX2RhdGEgPSBbbnVsbCwgZ2FtZUFjdG9yXTtcclxuICAgICAgICAkZ2FtZUFjdG9ycyA9IGFjdG9yc0FycmF5O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmN1cnJlbnRNYXBJZCA9ICRkYXRhU3lzdGVtLnN0YXJ0TWFwSWQ7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBHcmFwaGljcy5mcmFtZUNvdW50ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICBTY2VuZU1hbmFnZXIuZ290byhTY2VuZV9NYXApO1xyXG5cclxuICAgICAgICAkZ2FtZU5ldHdvcmsuY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4oKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgR2FtZV9OZXR3b3JrLnByb3RvdHlwZS5DcmVhdGVOZXdHYW1lID0gZnVuY3Rpb24gKG93bmVyRW1haWwsIGNsYXNzQ2hvaWNlLCBjYWxsYmFjaywgY2hhck5hbWUpIHtcclxuICAgICAgICBsZXQgc2F2ZUNvbnRlbnRzID0gRGF0YU1hbmFnZXIubWFrZVNhdmVDb250ZW50cygpO1xyXG4gICAgICAgIGNvbnN0IG5ld2dhbWUgPSAkZ2FtZU5ldHdvcmsuQ2xhc3NTZWxlY3Qoc2F2ZUNvbnRlbnRzLCBjbGFzc0Nob2ljZSwgY2hhck5hbWUpO1xyXG4gICAgICAgIGxldCBqc29uID0gSnNvbkV4LnN0cmluZ2lmeShuZXdnYW1lKTtcclxuICAgICAgICAvLyBsZXQgZGF0YSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoanNvbik7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwieWlwcGVcIik7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJGdhbWVOZXR3b3JrLmFwaVVybCArIGAvR2FtZURhdGEvU2F2ZU5ld0dhbWUvJHtvd25lckVtYWlsfWAsXHJcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBkYXRhOiBqc29uLFxyXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuIiwiZXhwb3J0IHtPbmxpbmVfUGFydHksIE9ubGluZV9QYXJ0eV9XaW5kb3d9O1xyXG5pbXBvcnQgeyRvbmxpbmVQYXJ0eSwgJGdhbWVOZXR3b3JrfSBmcm9tIFwiLi9vbmxpbmVTeXN0ZW1cIjtcclxuaW1wb3J0IHtQYXJ0eVBvcnRhbFdpbmRvd30gZnJvbSBcIi4vcGFydHlQb3J0YWxcIjtcclxuaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5cclxuZnVuY3Rpb24gT25saW5lX1BhcnR5KCkge1xyXG4gICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubWVtYmVycyA9IFtdO1xyXG4gICAgdGhpcy5wYXJ0eUNvbm5lY3Rpb24gPSB7fTtcclxuICAgIHRoaXMuaXNIb3N0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnBhcnRpZXNTZWVraW5nID0gW107XHJcbiAgICB0aGlzLnBsYXllck9wdGlvbnMgPSBbXTtcclxuICAgIHRoaXMucGFydHlPcHRpb25zID0gW107XHJcbiAgICB0aGlzLmN1cnJlbnRPbmxpbmVQQXJ0eSA9IHt9O1xyXG4gICAgdGhpcy5jdXJyZW50UGFydHlQb3J0YWwgPSB7fTtcclxufTtcclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUubWFrZU5ld1BhcnR5Q29ubmVjdGlvbiA9IGZ1bmN0aW9uIChhc0hvc3QpIHtcclxuXHJcbiAgICBsZXQgY29ubmVjdGlvbiA9IG5ldyBzaWduYWxSLkh1YkNvbm5lY3Rpb25CdWlsZGVyKClcclxuICAgIC53aXRoVXJsKFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL29ubGluZVBhcnR5SHViXCIpXHJcbiAgICAuYnVpbGQoKTtcclxuXHJcbiAgICAkb25saW5lUGFydHkucGFydHlDb25uZWN0aW9uID0gY29ubmVjdGlvbjtcclxuICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgJG9ubGluZVBhcnR5LnBhcnR5Q29ubmVjdGlvbi5zdGFydCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFzSG9zdCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHBpbmcgPSBcImhlbGxvXCI7XHJcbiAgICAgICAgICAgICAgICAkb25saW5lUGFydHkucGFydHlDb25uZWN0aW9uLm9uKFwiTmV3UGFydHlXaXRoSG9zdFwiLCBmdW5jdGlvbiAocGFydHlTdHJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAkb25saW5lUGFydHkuaXNIb3N0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkZ2FtZU1lc3NhZ2UuYWRkKFwiWW91ciBQYXJ0eSBXYXMgQ3JlYXRlZCAhIVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBTY2VuZU1hbmFnZXIuX3NjZW5lLmFkZENoaWxkKG5ldyBPbmxpbmVfUGFydHlfV2luZG93KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcGFydHkgPSAkb25saW5lUGFydHkuY3JlYXRlTmV3T25saW5lUGFydHkocGFydHlTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcnR5KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAkb25saW5lUGFydHkucGFydHlDb25uZWN0aW9uLmludm9rZShcIkFkZFRvUGFydHlBc0hvc3RcIiwgYHBhcnR5OiR7JGdhbWVOZXR3b3JrLnVzZXJBY2NvdW50TmFtZX1gLCBwaW5nKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICRnYW1lTWVzc2FnZXMuYWRkKFwiWW91ciBQYXJ0eSBmYWlsZWQgdG8gY3JlYXRlIFwiKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgfSkoKTtcclxufTtcclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUuY3JlYXRlTmV3T25saW5lUGFydHkgPSBmdW5jdGlvbiAocGFydHlTdHJpbmcpIHtcclxuICAgIGxldCBwYXJ0eU9iaiA9IEpTT04ucGFyc2UocGFydHlTdHJpbmcpO1xyXG4gICAgcmV0dXJuIHBhcnR5T2JqO1xyXG59O1xyXG5cclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUubWFrZU9ubGluZVBhcnR5UG9ydGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gJG9ubGluZVBhcnR5LnBvcHVsYXRlUGxheWVyT3B0aW9ucygpO1xyXG5cclxuICAgIGF4aW9zLmdldCgkZ2FtZU5ldHdvcmsuYXBpVXJsICsgJy9wYXJ0aWVzJywgeyBjb250ZW50VHlwZTogXCJhcHBsaWNhdGlvbi9qc29uXCJ9KVxyXG4gICAgLnRoZW4ociA9PiB7XHJcbiAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5T3B0aW9ucyA9IHIuZGF0YTtcclxuICAgICAgICBsZXQgcGFydHlQb3J0YWwgPSBuZXcgUGFydHlQb3J0YWxXaW5kb3coMzAwLCAzMDApO1xyXG4gICAgICAgICRvbmxpbmVQYXJ0eS5jdXJyZW50UGFydHlQb3J0YWwgPSBwYXJ0eVBvcnRhbDtcclxuICAgICAgICAkb25saW5lUGFydHkuY3VycmVudFBhcnR5UG9ydGFsLnNldEhhbmRsZXIoJ2pvaW5QYXJ0eScsIHRoaXMuYWRkUGxheWVyVG9QYXJ0eS5iaW5kKHRoaXMpKTsgXHJcbiAgICAgICAgU2NlbmVNYW5hZ2VyLl9zY2VuZS5hZGRDaGlsZChwYXJ0eVBvcnRhbCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG59O1xyXG5cclxuXHJcblxyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5wb3B1bGF0ZVBsYXllck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgcGxheWVycyA9ICRnYW1lTmV0d29yay5uZXR3b3JrTWFwRXZlbnRzO1xyXG4gICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMgPSBbXTtcclxuICAgIGZvciAobGV0IGtleSBpbiBwbGF5ZXJzKSB7XHJcbiAgICAgICAgbGV0IHBsYXllciA9IHBsYXllcnNba2V5XTtcclxuICAgICAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucy5wdXNoKHBsYXllcik7XHJcbiAgICB9O1xyXG59O1xyXG5cclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUuYWRkUGxheWVyVG9QYXJ0eSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdzY29yZScpO1xyXG4gICAgbGV0IGN1cnJlbnRFeHRlbnQgPSB0aGlzLmN1cnJlbnRQYXJ0eVBvcnRhbC5jdXJyZW50RXh0KCk7XHJcbiAgICAkb25saW5lUGFydHkucGFydHlDb25uZWN0aW9uLmludm9rZShcIkFkZFRvUGFydHlcIiwgYHBhcnR5OiR7Y3VycmVudEV4dGVudH1gLCBgJHskZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lfWApO1xyXG59O1xyXG5cclxuT25saW5lX1BhcnR5LnByb3RvdHlwZS5uZXdQYXJ0eUFzSG9zdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBvbmxpbmVHcm91cCA9IHtcclxuICAgICAgICBob3N0OiAkZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lLFxyXG4gICAgICAgIHBsYXllcnM6IFskZ2FtZU5ldHdvcmsudXNlckFjY291bnROYW1lXVxyXG4gICAgfTtcclxuXHJcbiAgICAkb25saW5lUGFydHkucGFydGllc1NlZWtpbmcucHVzaChvbmxpbmVHcm91cCk7XHJcbiAgICAkb25saW5lUGFydHkubWFrZU5ld1BhcnR5Q29ubmVjdGlvbih0cnVlKTtcclxufTtcclxuXHJcbk9ubGluZV9QYXJ0eS5wcm90b3R5cGUubmV3UGxheWVySW5QYXJ0eSA9IGZ1bmN0aW9uIChuZXdNZW1iZXJOYW1lKSB7XHJcblxyXG5cclxuXHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gT25saW5lX1BhcnR5X1dpbmRvdygpIHtcclxuICAgIHRoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5PbmxpbmVfUGFydHlfV2luZG93LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV2luZG93X0Jhc2UucHJvdG90eXBlKTtcclxuT25saW5lX1BhcnR5X1dpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPbmxpbmVfUGFydHlfV2luZG93O1xyXG5cclxuT25saW5lX1BhcnR5X1dpbmRvdy5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgV2luZG93X0Jhc2UucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCAwLCAwLCAyMDAsIDEwMCk7XHJcblxyXG4gICAgbGV0IHBhcnR5U3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICB0aGlzLmRyYXdUZXh0RXgoYCR7JGdhbWVOZXR3b3JrLnVzZXJBY2NvdW50TmFtZX1gLCAyLCAyKVxyXG59XHJcblxyXG4iLCJleHBvcnQge1BhcnR5UG9ydGFsV2luZG93fTtcclxuaW1wb3J0IHskb25saW5lUGFydHksICRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCI7XHJcbmltcG9ydCBPbmxpbmVQYXJ0eSBmcm9tIFwiLi9vbmxpbmVQYXJ0eUNsYXNzXCI7XHJcbmltcG9ydCBBeGlvcyBmcm9tIFwiYXhpb3NcIjtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFdpbmRvd19Db21tYW5kLnByb3RvdHlwZSk7XHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0eVBvcnRhbFdpbmRvdztcclxuXHJcbiAgICBmdW5jdGlvbiBQYXJ0eVBvcnRhbFdpbmRvdyh4LCB5KSB7XHJcbiAgICAgICAgV2luZG93X0NvbW1hbmQucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCB4LCB5LCAxMDAsIDEwMCk7XHJcbiAgICAgICAgLy8gdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX29wZW5QYXJ0aWVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgUGFydHlQb3J0YWxXaW5kb3cucHJvdG90eXBlLm1ha2VDb21tYW5kTGlzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm1ha2VQYXJ0eUNvbW1hbmRzKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBsYXllck9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgICAgIGxldCBwbGF5ZXJzID0gJGdhbWVOZXR3b3JrLm5ldHdvcmtNYXBFdmVudHM7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIHBsYXllcnMpIHtcclxuICAgICAgICAgICAgbGV0IHBsYXllciA9IHBsYXllcnNba2V5XTtcclxuICAgICAgICAgICAgJG9ubGluZVBhcnR5LnBsYXllck9wdGlvbnMucHVzaChwbGF5ZXIpO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5wb3B1bGF0ZVBhcnR5T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICAgICAgbGV0IHBhcnRpZXMgPSAkb25saW5lUGFydHkub3BlblBhcnRpZXM7XHJcbiAgICAgICAgcGFydGllcy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LnBhcnR5T3B0aW9ucy5wdXNoKHApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZUNoYXJhY3RlckNvbW1hbmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjb250ZXh0ID0gdGhpcztcclxuICAgICAgICAkb25saW5lUGFydHkucGxheWVyT3B0aW9ucy5mb3JFYWNoKHAgPT4ge1xyXG4gICAgICAgICAgICBjb250ZXh0LmFkZENvbW1hbmQoYCR7cC5fYWNjb3VudFVzZXJOYW1lfWAsICdhZGRQbGF5ZXJUb1BhcnR5JywgdHJ1ZSwgYCR7cC5fYWNjb3VudFVzZXJOYW1lfWApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBQYXJ0eVBvcnRhbFdpbmRvdy5wcm90b3R5cGUubWFrZVBhcnR5Q29tbWFuZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJG9ubGluZVBhcnR5LnBhcnR5T3B0aW9ucy5mb3JFYWNoKHBhcnR5ID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb21tYW5kKGAke3BhcnR5LnBhcnR5TmFtZX1gLCAnam9pblBhcnR5JywgdHJ1ZSwgYCR7cGFydHkucGFydHlOYW1lfWApO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIFBhcnR5UG9ydGFsV2luZG93LnByb3RvdHlwZS5idWlsZFdpbmRvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhckNvbW1hbmRMaXN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMubWFrZVBhcnR5Q29tbWFuZHMoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRIYW5kbGVyKCdhZGRQbGF5ZXJUb1BhcnR5JywgJG9ubGluZVBhcnR5LmN1cnJlbnRQYXJ0eVBvcnRhbC5hZGRQbGF5ZXJUb1BhcnR5LmJpbmQodGhpcykpOyAgIFxyXG4gICAgfVxyXG4gXHJcblxyXG5cclxuXHJcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbi8vIFRoZSBfaXNCdWZmZXIgY2hlY2sgaXMgZm9yIFNhZmFyaSA1LTcgc3VwcG9ydCwgYmVjYXVzZSBpdCdzIG1pc3Npbmdcbi8vIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHlcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgKGlzQnVmZmVyKG9iaikgfHwgaXNTbG93QnVmZmVyKG9iaikgfHwgISFvYmouX2lzQnVmZmVyKVxufVxuXG5mdW5jdGlvbiBpc0J1ZmZlciAob2JqKSB7XG4gIHJldHVybiAhIW9iai5jb25zdHJ1Y3RvciAmJiB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG5cbi8vIEZvciBOb2RlIHYwLjEwIHN1cHBvcnQuIFJlbW92ZSB0aGlzIGV2ZW50dWFsbHkuXG5mdW5jdGlvbiBpc1Nsb3dCdWZmZXIgKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iai5yZWFkRmxvYXRMRSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygb2JqLnNsaWNlID09PSAnZnVuY3Rpb24nICYmIGlzQnVmZmVyKG9iai5zbGljZSgwLCAwKSlcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmF1bHRzID0gcmVxdWlyZSgnLi8uLi9kZWZhdWx0cycpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xudmFyIEludGVyY2VwdG9yTWFuYWdlciA9IHJlcXVpcmUoJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJyk7XG52YXIgZGlzcGF0Y2hSZXF1ZXN0ID0gcmVxdWlyZSgnLi9kaXNwYXRjaFJlcXVlc3QnKTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gQXhpb3MoaW5zdGFuY2VDb25maWcpIHtcbiAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICByZXF1ZXN0OiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKCksXG4gICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICB9O1xufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICovXG5BeGlvcy5wcm90b3R5cGUucmVxdWVzdCA9IGZ1bmN0aW9uIHJlcXVlc3QoY29uZmlnKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgIGNvbmZpZyA9IHV0aWxzLm1lcmdlKHtcbiAgICAgIHVybDogYXJndW1lbnRzWzBdXG4gICAgfSwgYXJndW1lbnRzWzFdKTtcbiAgfVxuXG4gIGNvbmZpZyA9IHV0aWxzLm1lcmdlKGRlZmF1bHRzLCB7bWV0aG9kOiAnZ2V0J30sIHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gIGNvbmZpZy5tZXRob2QgPSBjb25maWcubWV0aG9kLnRvTG93ZXJDYXNlKCk7XG5cbiAgLy8gSG9vayB1cCBpbnRlcmNlcHRvcnMgbWlkZGxld2FyZVxuICB2YXIgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LCB1bmRlZmluZWRdO1xuICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbiB1bnNoaWZ0UmVxdWVzdEludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnVuc2hpZnQoaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgY2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgfSk7XG5cbiAgd2hpbGUgKGNoYWluLmxlbmd0aCkge1xuICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW4uc2hpZnQoKSwgY2hhaW4uc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHV0aWxzLm1lcmdlKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICB1cmw6IHVybFxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmwsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXhpb3M7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlck5hbWUoaGVhZGVycywgbm9ybWFsaXplZE5hbWUpIHtcbiAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiBwcm9jZXNzSGVhZGVyKHZhbHVlLCBuYW1lKSB7XG4gICAgaWYgKG5hbWUgIT09IG5vcm1hbGl6ZWROYW1lICYmIG5hbWUudG9VcHBlckNhc2UoKSA9PT0gbm9ybWFsaXplZE5hbWUudG9VcHBlckNhc2UoKSkge1xuICAgICAgaGVhZGVyc1tub3JtYWxpemVkTmFtZV0gPSB2YWx1ZTtcbiAgICAgIGRlbGV0ZSBoZWFkZXJzW25hbWVdO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYnVpbGRVUkwodXJsLCBwYXJhbXMsIHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gIGlmICghcGFyYW1zKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuXG4gIHZhciBzZXJpYWxpemVkUGFyYW1zO1xuICBpZiAocGFyYW1zU2VyaWFsaXplcikge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXNTZXJpYWxpemVyKHBhcmFtcyk7XG4gIH0gZWxzZSBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSkge1xuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcblxuICAgIHV0aWxzLmZvckVhY2gocGFyYW1zLCBmdW5jdGlvbiBzZXJpYWxpemUodmFsLCBrZXkpIHtcbiAgICAgIGlmICh2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodXRpbHMuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIGtleSA9IGtleSArICdbXSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWwgPSBbdmFsXTtcbiAgICAgIH1cblxuICAgICAgdXRpbHMuZm9yRWFjaCh2YWwsIGZ1bmN0aW9uIHBhcnNlVmFsdWUodikge1xuICAgICAgICBpZiAodXRpbHMuaXNEYXRlKHYpKSB7XG4gICAgICAgICAgdiA9IHYudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfSBlbHNlIGlmICh1dGlscy5pc09iamVjdCh2KSkge1xuICAgICAgICAgIHYgPSBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZShrZXkpICsgJz0nICsgZW5jb2RlKHYpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHBhcnRzLmpvaW4oJyYnKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKFxuICB1dGlscy5pc1N0YW5kYXJkQnJvd3NlckVudigpID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3RcbiAgLy8gd2hldGhlciB0aGUgcmVxdWVzdCBVUkwgaXMgb2YgdGhlIHNhbWUgb3JpZ2luIGFzIGN1cnJlbnQgbG9jYXRpb24uXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgdmFyIG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIHZhciB1cmxQYXJzaW5nTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICB2YXIgb3JpZ2luVVJMO1xuXG4gICAgLyoqXG4gICAgKiBQYXJzZSBhIFVSTCB0byBkaXNjb3ZlciBpdCdzIGNvbXBvbmVudHNcbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFRoZSBVUkwgdG8gYmUgcGFyc2VkXG4gICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICovXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVSTCh1cmwpIHtcbiAgICAgIHZhciBocmVmID0gdXJsO1xuXG4gICAgICBpZiAobXNpZSkge1xuICAgICAgICAvLyBJRSBuZWVkcyBhdHRyaWJ1dGUgc2V0IHR3aWNlIHRvIG5vcm1hbGl6ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuICAgICAgICBocmVmID0gdXJsUGFyc2luZ05vZGUuaHJlZjtcbiAgICAgIH1cblxuICAgICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XG5cbiAgICAgIC8vIHVybFBhcnNpbmdOb2RlIHByb3ZpZGVzIHRoZSBVcmxVdGlscyBpbnRlcmZhY2UgLSBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGhyZWY6IHVybFBhcnNpbmdOb2RlLmhyZWYsXG4gICAgICAgIHByb3RvY29sOiB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbCA/IHVybFBhcnNpbmdOb2RlLnByb3RvY29sLnJlcGxhY2UoLzokLywgJycpIDogJycsXG4gICAgICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXG4gICAgICAgIHNlYXJjaDogdXJsUGFyc2luZ05vZGUuc2VhcmNoID8gdXJsUGFyc2luZ05vZGUuc2VhcmNoLnJlcGxhY2UoL15cXD8vLCAnJykgOiAnJyxcbiAgICAgICAgaGFzaDogdXJsUGFyc2luZ05vZGUuaGFzaCA/IHVybFBhcnNpbmdOb2RlLmhhc2gucmVwbGFjZSgvXiMvLCAnJykgOiAnJyxcbiAgICAgICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxuICAgICAgICBwb3J0OiB1cmxQYXJzaW5nTm9kZS5wb3J0LFxuICAgICAgICBwYXRobmFtZTogKHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gJy8nKSA/XG4gICAgICAgICAgICAgICAgICB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZSA6XG4gICAgICAgICAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgdmFyIHBhcnNlZCA9ICh1dGlscy5pc1N0cmluZyhyZXF1ZXN0VVJMKSkgPyByZXNvbHZlVVJMKHJlcXVlc3RVUkwpIDogcmVxdWVzdFVSTDtcbiAgICAgIHJldHVybiAocGFyc2VkLnByb3RvY29sID09PSBvcmlnaW5VUkwucHJvdG9jb2wgJiZcbiAgICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKVxuKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gYnRvYSBwb2x5ZmlsbCBmb3IgSUU8MTAgY291cnRlc3kgaHR0cHM6Ly9naXRodWIuY29tL2RhdmlkY2hhbWJlcnMvQmFzZTY0LmpzXG5cbnZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIEUoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICdTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXInO1xufVxuRS5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG5FLnByb3RvdHlwZS5jb2RlID0gNTtcbkUucHJvdG90eXBlLm5hbWUgPSAnSW52YWxpZENoYXJhY3RlckVycm9yJztcblxuZnVuY3Rpb24gYnRvYShpbnB1dCkge1xuICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgdmFyIG91dHB1dCA9ICcnO1xuICBmb3IgKFxuICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyXG4gICAgdmFyIGJsb2NrLCBjaGFyQ29kZSwgaWR4ID0gMCwgbWFwID0gY2hhcnM7XG4gICAgLy8gaWYgdGhlIG5leHQgc3RyIGluZGV4IGRvZXMgbm90IGV4aXN0OlxuICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgLy8gICBjaGVjayBpZiBkIGhhcyBubyBmcmFjdGlvbmFsIGRpZ2l0c1xuICAgIHN0ci5jaGFyQXQoaWR4IHwgMCkgfHwgKG1hcCA9ICc9JywgaWR4ICUgMSk7XG4gICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICBvdXRwdXQgKz0gbWFwLmNoYXJBdCg2MyAmIGJsb2NrID4+IDggLSBpZHggJSAxICogOClcbiAgKSB7XG4gICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMyAvIDQpO1xuICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgIHRocm93IG5ldyBFKCk7XG4gICAgfVxuICAgIGJsb2NrID0gYmxvY2sgPDwgOCB8IGNoYXJDb2RlO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYnRvYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gSW50ZXJjZXB0b3JNYW5hZ2VyKCkge1xuICB0aGlzLmhhbmRsZXJzID0gW107XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkKSB7XG4gIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgcmVqZWN0ZWQ6IHJlamVjdGVkXG4gIH0pO1xuICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUuZWplY3QgPSBmdW5jdGlvbiBlamVjdChpZCkge1xuICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gZm9yRWFjaChmbikge1xuICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgZm4oaCk7XG4gICAgfVxuICB9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBUcmFuc2Zvcm0gdGhlIGRhdGEgZm9yIGEgcmVxdWVzdCBvciBhIHJlc3BvbnNlXG4gKlxuICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBkYXRhIFRoZSBkYXRhIHRvIGJlIHRyYW5zZm9ybWVkXG4gKiBAcGFyYW0ge0FycmF5fSBoZWFkZXJzIFRoZSBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdCBvciByZXNwb25zZVxuICogQHBhcmFtIHtBcnJheXxGdW5jdGlvbn0gZm5zIEEgc2luZ2xlIGZ1bmN0aW9uIG9yIEFycmF5IG9mIGZ1bmN0aW9uc1xuICogQHJldHVybnMgeyp9IFRoZSByZXN1bHRpbmcgdHJhbnNmb3JtZWQgZGF0YVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZGF0YSwgaGVhZGVycywgZm5zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuKGRhdGEsIGhlYWRlcnMpO1xuICB9KTtcblxuICByZXR1cm4gZGF0YTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIENhbmNlbCA9IHJlcXVpcmUoJy4vQ2FuY2VsJyk7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsVG9rZW4oZXhlY3V0b3IpIHtcbiAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4ZWN1dG9yIG11c3QgYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciByZXNvbHZlUHJvbWlzZTtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gIH0pO1xuXG4gIHZhciB0b2tlbiA9IHRoaXM7XG4gIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlKSB7XG4gICAgaWYgKHRva2VuLnJlYXNvbikge1xuICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbChtZXNzYWdlKTtcbiAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICovXG5DYW5jZWxUb2tlbi5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZCA9IGZ1bmN0aW9uIHRocm93SWZSZXF1ZXN0ZWQoKSB7XG4gIGlmICh0aGlzLnJlYXNvbikge1xuICAgIHRocm93IHRoaXMucmVhc29uO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBuZXcgYENhbmNlbFRva2VuYCBhbmQgYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCxcbiAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gKi9cbkNhbmNlbFRva2VuLnNvdXJjZSA9IGZ1bmN0aW9uIHNvdXJjZSgpIHtcbiAgdmFyIGNhbmNlbDtcbiAgdmFyIHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICBjYW5jZWwgPSBjO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICB0b2tlbjogdG9rZW4sXG4gICAgY2FuY2VsOiBjYW5jZWxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQ2FuY2VsVG9rZW47XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyRnYW1lTmV0d29ya30gZnJvbSBcIi4vb25saW5lU3lzdGVtXCJcclxuZXhwb3J0IHtRdWVzdERlbHV4ZVBvcnRhbCwgSW5wdXR9XHJcblxyXG5mdW5jdGlvbiBRdWVzdERlbHV4ZVBvcnRhbCAoKSB7XHJcbiAgICB0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNjZW5lX0Jhc2UucHJvdG90eXBlKTtcclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUXVlc3REZWx1eGVQb3J0YWw7XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgU2NlbmVfQmFzZS5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMpO1xyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucmVCaW5kSW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIElucHV0LmluaXRpYWxpemUoKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMpO1xyXG4gICAgdGhpcy5jcmVhdGVCYWNrZ3JvdW5kKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUucmVCaW5kSW5wdXQgPSBmdW5jdGlvbigpIHtcclxuICAgIElucHV0LmluaXRpYWxpemUoKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLnN0YXJ0LmNhbGwodGhpcyk7XHJcbiAgICBTY2VuZU1hbmFnZXIuY2xlYXJTdGFjaygpO1xyXG4gICAgLy8gdGhpcy5wbGF5VGl0bGVNdXNpYygpO1xyXG4gICAgdGhpcy5zdGFydEZhZGVJbih0aGlzLmZhZGVTcGVlZCgpLCBmYWxzZSk7XHJcbiAgICB0aGlzLkxvZ2luRm9ybSgpO1xyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5pc0J1c3kgPSBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBTY2VuZV9CYXNlLnByb3RvdHlwZS5pc0J1c3kuY2FsbCh0aGlzKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS50ZXJtaW5hdGUgPSBmdW5jdGlvbigpIHtcclxuICAgIFNjZW5lX0Jhc2UucHJvdG90eXBlLnRlcm1pbmF0ZS5jYWxsKHRoaXMpO1xyXG4gICAgU2NlbmVNYW5hZ2VyLnNuYXBGb3JCYWNrZ3JvdW5kKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuUmVnaXN0cmF0aW9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJCgnI0Vycm9yUHJpbnRlcicpLmh0bWwoXHJcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzV3JhcHBlclwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVnaXN0cmF0aW9uU3VjY2Vzc0lubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NUZXh0V3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25TdWNjZXNzVGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWdpc3RyYXRpb24gU3VjY2VzZnVsISBcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NCdXR0b25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlZ2lzdHJhdGlvblN1Y2Nlc3NCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgTE9HIElOXHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYFxyXG4gICAgKTtcclxuICAgICQoJy5yZWdpc3RyYXRpb25TdWNjZXNzQnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5Mb2dpbkZvcm0oKTtcclxuICAgIH0pXHJcbn1cclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5SZWdpc3RyYXRpb25Gb3JtID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwiUmVnaXN0ZXJGb3JtXCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RyYXRpb25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3Rlci10ZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFByb3ZpZGUgeW91ciBlbWFpbCBhZGRyZXNzLCBhIGRlc2lyZWQgdXNlciBuYW1lLCBhbmQgYSBwYXNzd29yZC4gXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZW1haWxXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsSW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZW1haWxUZXh0XCIgcGxhY2Vob2xkZXI9XCJlbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWNjb3VudE5hbWVXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFjY291bnROYW1lSW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiYWNjb3VudE5hbWVUZXh0XCIgcGxhY2Vob2xkZXI9XCJ1c2VyIG5hbWVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhc3N3b3JkV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYXNzd29yZElucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cInBhc3N3b3JkVGV4dFwiIHR5cGU9XCJwYXNzd29yZFwiIHBsYWNlaG9sZGVyPVwicGFzc3dvcmRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJlZ2lzdGVyQnV0dG9uV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyZWdpc3RlckJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVnaXN0ZXJTdWJtaXRCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJFR0lTVEVSIE5PV1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvTG9naW5CdXR0b25XcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvTG9naW5CdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvTG9naW5TdWJtaXRCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExPR0lOIFBPUlRBTFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gXHJcbiAgICApXHJcblxyXG4gICAgbGV0IHNjcmFwZVJlZ2lzdHJhdGlvbkZvcm0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGVtYWlsID0gJCgnLmVtYWlsVGV4dCcpLnZhbCgpO1xyXG4gICAgICAgIGxldCB1c2VybmFtZSA9ICQoJy5hY2NvdW50TmFtZVRleHQnKS52YWwoKTtcclxuICAgICAgICBsZXQgcGFzc3dvcmQgPSAkKCcucGFzc3dvcmRUZXh0JykudmFsKCk7XHJcblxyXG4gICAgICAgIGxldCByZWdpc3RyYXRpb25EYXRhID0ge1xyXG4gICAgICAgICAgICBhY2NvdW50TmFtZTogdXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkocmVnaXN0cmF0aW9uRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH07XHJcblxyXG4gICAgJCgnLnJlZ2lzdGVyU3VibWl0QnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBsZXQgZGF0YSA9IHNjcmFwZVJlZ2lzdHJhdGlvbkZvcm0oKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3VXNlcihkYXRhLCBjb250ZXh0LlJlZ2lzdHJhdGlvblN1Y2Nlc3MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnLnRvTG9naW5CdXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5Mb2dpbkZvcm0oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTG9naW5Gb3JtID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwiTG9naW5Gb3JtXCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJMb2dpbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndlbGNvbWUtdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBXZWxjb21lLiBMb2cgSW4gYmVsb3csIG9yIGNsaWNrIHRoZSBTaWduIFVwIGJ1dHRvbiB0byBjcmVhdGUgYSBuZXcgYWNjb3VudC4gXHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbkVtYWlsV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbkVtYWlsSW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwibG9naW5FbWFpbFRleHRcIiBwbGFjZWhvbGRlcj1cImVtYWlsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpblBhc3N3b3JkV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpblBhc3N3b3JkSW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwibG9naW5QYXNzd29yZFRleHRcIiBwbGFjZWhvbGRlcj1cInBhc3N3b3JkXCIgdHlwZT1cInBhc3N3b3JkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dpbkJ1dHRvbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9naW5CdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImxvZ2luU3VibWl0QnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMT0dJTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvUmVnaXN0ZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvUmVnaXN0ZXJCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvUmVnaXN0ZXJTdWJtaXRCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJR04gVVAhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgIClcclxuXHJcbiAgICBsZXQgc2NyYXBlTG9naW5JbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBlbWFpbCA9ICQoJy5sb2dpbkVtYWlsVGV4dCcpLnZhbCgpO1xyXG4gICAgICAgIGxldCBwYXNzd29yZCA9ICQoJy5sb2dpblBhc3N3b3JkVGV4dCcpLnZhbCgpO1xyXG5cclxuICAgICAgICBsZXQgbG9naW5EYXRhID0ge1xyXG4gICAgICAgICAgICBlbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkobG9naW5EYXRhKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcubG9naW5TdWJtaXRCdXR0b24nKS5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGxldCBkYXRhID0gc2NyYXBlTG9naW5JbmZvKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkxvZ1VzZXJJbihkYXRhLCBjb250ZXh0LkNoYXJhY3RlclNlbGVjdCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcudG9SZWdpc3RlclN1Ym1pdEJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLlJlZ2lzdHJhdGlvbkZvcm0oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwiQ2hhcmFjdGVyU2VsZWN0U2NyZWVuXCIgc3R5bGU9XCJ3aWR0aDoke3NjcmVlbldpZHRofXB4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyU2VsZWN0V3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndlbGNvbWUtdGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCB5b3VyIGNoYXJhY3Rlciwgb3IgY3JlYXRlIGEgbmV3IG9uZSBieSBjbGlja2luZyB0aGUgbmV3IGNoYXJhY3RlciBidXR0b24uIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhclNlbGVjdEJ1dHRvbnNXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RCdXR0b25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJuZXdDaGFyYWN0ZXJCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5FVyBDSEFSQUNURVJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJsb2dvdXRCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExPRyBPVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJhY2NvdW50T3B0aW9uc0J1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BUSU9OU1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3RlcnNUYWJsZVdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyc1RhYmxlQ29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOjEwMCVcIiBjbGFzcz1cImNoYXJhY3RlcnNUYWJsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5TZWxlY3Q8L3RoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5MZXZlbDwvdGg+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5DbGFzczwvdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkNoYXJhY3RlciBOYW1lPC90aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGFyYWN0ZXJzTG9hZGluZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkaW5nIHlvdXIgY2hhcmFjdGVycy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDoxMnB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi4vZXh0cmFfaW1hZ2VzL2xvYWRpbmcuZ2lmXCIgYWx0PVwibG9hZGluZy1naWZcIiBoZWlnaHQ9XCI1MHB4XCIgd2lkdGg9XCI1MHB4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgIClcclxuXHJcbiAgICAkKCcuY2hhcmFjdGVyc1RhYmxlJykuaGlkZSgpO1xyXG5cclxuICAgIGxldCBwcmludEdhbWVzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgJCgnLmNoYXJhY3RlcnNMb2FkaW5nJykuaGlkZSgpO1xyXG4gICAgICAgICQoJy5jaGFyYWN0ZXJzVGFibGUnKS5zaG93KCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLmxvYWRlZEdhbWVzID0gW107XHJcbiAgICAgICAgbGV0IGNvdW50ID0gMTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsubG9hZGVkR2FtZXMucHVzaChudWxsKTtcclxuICAgICAgICByZXNwb25zZS5mb3JFYWNoKGQgPT4ge1xyXG4gICAgICAgICAgICAvLyBsZXQgc3RyaW5nID0gTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoZClcclxuICAgICAgICAgICAgbGV0IHBhcnNlZERhdGEgPSBKc29uRXgucGFyc2UoZCk7XHJcbiAgICAgICAgICAgICRnYW1lTmV0d29yay5sb2FkZWRHYW1lcy5wdXNoKHBhcnNlZERhdGEpO1xyXG4gICAgICAgICAgICBsZXQgY2hhckRhdGEgPSBwYXJzZWREYXRhLmFjdG9ycy5fZGF0YVsxXTtcclxuICAgICAgICAgICAgJCgnLmNoYXJhY3RlcnNUYWJsZScpLmFwcGVuZChgIFxyXG4gICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz1cImdhbWUke2NvdW50fVwiPkNIT09TRTwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICA8dGQ+JHtjaGFyRGF0YS5pbml0aWFsTGV2ZWx9PC90ZD4gXHJcbiAgICAgICAgICAgICAgICA8dGQ+JHtjaGFyRGF0YS5hbHRDbGFzc05hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgIDx0ZD4ke2NoYXJEYXRhLm5hbWV9PC90ZD5cclxuICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgICQoYC5nYW1lJHtjb3VudH1gKS5hdHRyKFwiZ2FtZUluZGV4XCIsIGAke2NvdW50fWApLmNsaWNrKCBmdW5jdGlvbiAoZXZ0KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbCgnJylcclxuICAgICAgICAgICAgICAgIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5yZUJpbmRJbnB1dCgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBOdW1iZXIoJChldnQuY3VycmVudFRhcmdldCkuYXR0cihcImdhbWVJbmRleFwiKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ2FtZSA9ICRnYW1lTmV0d29yay5sb2FkZWRHYW1lc1tpbmRleF07XHJcbiAgICAgICAgICAgICAgICAkZ2FtZU5ldHdvcmsuTG9hZFNhdmVkR2FtZShnYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vICRnYW1lTmV0d29yay5Qb3B1bGF0ZURhdGFiYXNlKGQpO1xyXG4gICAgICAgICAgICAgICAgLy8gRGF0YU1hbmFnZXIuY3JlYXRlR2FtZU9iamVjdHMoKTtcclxuICAgICAgICAgICAgICAgIC8vICRnYW1lUGFydHkuc2V0dXBTdGFydGluZ01lbWJlcnMoKTtcclxuICAgICAgICAgICAgICAgIC8vICRnYW1lTmV0d29yay5jdXJyZW50TWFwSWQgPSBkLiRkYXRhU3lzdGVtLnN0YXJ0TWFwSWQ7XHJcbiAgICAgICAgICAgICAgICAvLyAkZ2FtZVBsYXllci5yZXNlcnZlVHJhbnNmZXIoJGRhdGFTeXN0ZW0uc3RhcnRNYXBJZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAkZGF0YVN5c3RlbS5zdGFydFgsICRkYXRhU3lzdGVtLnN0YXJ0WSk7XHJcbiAgICAgICAgICAgICAgICAvLyBHcmFwaGljcy5mcmFtZUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIC8vIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX01hcCk7XHJcbiAgICAgICAgICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuY29ubmVjdE1hcFNvY2tldEFmdGVyTG9naW4oKTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvdW50ICsrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgICRnYW1lTmV0d29yay5Mb2FkR2FtZUZpbGVzRnJvbVNlcnZlcigkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCBwcmludEdhbWVzKTtcclxuXHJcbiAgICAkKCcubmV3Q2hhcmFjdGVyQnV0dG9uJykuY2xpY2soIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuTmV3Q2hhcmFjdGVyKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLk5ld0NoYXJhY3RlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgbGV0IGNvbnRleHQgPSB0aGlzO1xyXG4gICAgbGV0IHNjcmVlbldpZHRoID0gKEdyYXBoaWNzLmJveFdpZHRoIC0gKEdyYXBoaWNzLmJveFdpZHRoIC8gMykpO1xyXG4gICAgJChcIiNFcnJvclByaW50ZXJcIikuaHRtbChcclxuICAgICAgICBgPGRpdiBpZD1cIk5ld0NoYXJhY3RlclNjcmVlblwiIGNsYXNzPVwicGFuZWwgcGFuZWwtcHJpbWFyeVwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibmV3Q2hhcmFjdGVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm5hbWVXYXJuaW5nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFlvdSBtdXN0IGVudGVyIGEgbmFtZSBmb3IgeW91ciBjaGFyYWN0ZXJcclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb25maXJtTmFtZVdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgT0tcclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJTZWxlY3RNYWluXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm9UZXh0V3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mb1RleHRJbm5lcldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbmZvVGV4dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVudGVyIGEgY2hhcmFjdGVyIG5hbWUgYW5kIHNlbGVjdCB5b3VyIGJhc2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhcmFjdGVyTmFtZVdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXJhY3Rlck5hbWVJbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiY2hhcmFjdGVyTmFtZUlucHV0VGV4dFwiIHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJjaGFyYWN0ZXIgbmFtZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNsYW5zbWFuQ2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGFuc21hbkNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY2xhbnNtZW5CdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDTEFOU01FTlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmlnaGF0Q2xhc3NXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiaWdoYXRDbGFzc0lubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJpZ2hhdEJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJJRyBIQVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpdmluZUNsYXNzV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGl2aW5DbGFzc0lubmVyV3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRpdmluZUNsYXNzQnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRElWSU5FXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXJjZW5hcnlDbGFzc1dyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lcmNlbmFyeUNsYXNzSW5uZXJXcmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwibWVyY2VuYXJ5Q2xhc3NCdXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRVJDRU5BUllcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4gICAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmBcclxuICAgIClcclxuXHJcbiAgICAkKCcubmFtZVdhcm5pbmcnKS5oaWRlKCk7XHJcblxyXG4gICAgbGV0IHNjcmFwZUNoYXJOYW1lID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiAkKCcuY2hhcmFjdGVyTmFtZUlucHV0VGV4dCcpLnZhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5jb25maXJtTmFtZVdhcm5pbmcnKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoJy5uYW1lV2FybmluZycpLmhpZGUoKTsgXHJcbiAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuc2hvdygpO1xyXG4gICAgfSk7XHJcblxyXG5cclxuICAgICQoJy5jbGFuc21lbkJ1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnQ2xhbnNtZW4nLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSk7XHJcbiAgICAgICAgLy8kZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0NsYW5zbWVuJywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5iaWdoYXRCdXR0b24nKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjaGFyTmFtZSA9IHNjcmFwZUNoYXJOYW1lKCk7XHJcbiAgICAgICAgaWYgKGNoYXJOYW1lID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoJy5jaGFyU2VsZWN0TWFpbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gJGdhbWVOZXR3b3JrLkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld0dhbWUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0JpZyBIYXQnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSk7XHJcbiAgICAgICAgLy8kZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3U2F2ZUZpbGUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ0JpZyBIYXQnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSlcclxuICAgICAgICBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUubG9hZGluZ1NjcmVlbigpO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5kaXZpbmVDbGFzc0J1dHRvbicpLmNsaWNrKCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJOYW1lID0gc2NyYXBlQ2hhck5hbWUoKTtcclxuICAgICAgICBpZiAoY2hhck5hbWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgJCgnLmNoYXJTZWxlY3RNYWluJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkKCcubmFtZVdhcm5pbmcnKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAkZ2FtZU5ldHdvcmsuQ2FwdHVyZUNvcmVHYW1lTWV0YURhdGEoKTtcclxuICAgICAgICAkZ2FtZU5ldHdvcmsuQ3JlYXRlTmV3R2FtZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnRGl2aW5lJywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpO1xyXG4gICAgICAgIC8vJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld1NhdmVGaWxlKCRnYW1lTmV0d29yay51c2VyRW1haWwsICdEaXZpbmUnLCBRdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuQ2hhcmFjdGVyU2VsZWN0LCBjaGFyTmFtZSkgXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcubWVyY2VuYXJ5Q2xhc3NCdXR0b24nKS5jbGljayggZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxldCBjaGFyTmFtZSA9IHNjcmFwZUNoYXJOYW1lKCk7XHJcbiAgICAgICAgaWYgKGNoYXJOYW1lID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICQoJy5jaGFyU2VsZWN0TWFpbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgJCgnLm5hbWVXYXJuaW5nJykuc2hvdygpO1xyXG4gICAgICAgICAgICByZXR1cm5cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gJGdhbWVOZXR3b3JrLkNhcHR1cmVDb3JlR2FtZU1ldGFEYXRhKCk7XHJcbiAgICAgICAgJGdhbWVOZXR3b3JrLkNyZWF0ZU5ld0dhbWUoJGdhbWVOZXR3b3JrLnVzZXJFbWFpbCwgJ01lcmNlbmFyeScsIFF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5DaGFyYWN0ZXJTZWxlY3QsIGNoYXJOYW1lKTtcclxuICAgICAgICAvLyRnYW1lTmV0d29yay5DcmVhdGVOZXdTYXZlRmlsZSgkZ2FtZU5ldHdvcmsudXNlckVtYWlsLCAnTWVyY2VuYXJ5JywgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLkNoYXJhY3RlclNlbGVjdCwgY2hhck5hbWUpXHJcbiAgICAgICAgUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4oKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmxvYWRpbmdTY3JlZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY29udGV4dCA9IHRoaXM7XHJcbiAgICBsZXQgc2NyZWVuV2lkdGggPSAoR3JhcGhpY3MuYm94V2lkdGggLSAoR3JhcGhpY3MuYm94V2lkdGggLyAzKSk7XHJcbiAgICAkKFwiI0Vycm9yUHJpbnRlclwiKS5odG1sKFxyXG4gICAgICAgIGA8ZGl2IGlkPVwibG9hZGluZ1NjcmVlblwiIHN0eWxlPVwid2lkdGg6JHtzY3JlZW5XaWR0aH1weFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZ1NjcmVlbldyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRpbmcgTmV3IEdhbWUuLi5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cIm1hcmdpbi10b3A6MTJweDtcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4uL2V4dHJhX2ltYWdlcy9sb2FkaW5nLmdpZlwiIGFsdD1cImxvYWRpbmctZ2lmXCIgaGVpZ2h0PVwiODBweFwiIHdpZHRoPVwiODBweFwiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmApOyAgIFxyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLmNyZWF0ZUJhY2tncm91bmQgPSBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2JhY2tTcHJpdGUxID0gbmV3IFNwcml0ZShJbWFnZU1hbmFnZXIubG9hZFRpdGxlMSgkZGF0YVN5c3RlbS50aXRsZTFOYW1lKSk7XHJcbiAgICB0aGlzLl9iYWNrU3ByaXRlMiA9IG5ldyBTcHJpdGUoSW1hZ2VNYW5hZ2VyLmxvYWRUaXRsZTIoJGRhdGFTeXN0ZW0udGl0bGUyTmFtZSkpO1xyXG4gICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2JhY2tTcHJpdGUyKTtcclxuICAgICAgICB0aGlzLmNlbnRlclNwcml0ZSh0aGlzLl9iYWNrU3ByaXRlMSk7XHJcbiAgICB0aGlzLmNlbnRlclNwcml0ZSh0aGlzLl9iYWNrU3ByaXRlMik7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVGb3JlZ3JvdW5kKCk7XHJcbn07XHJcblxyXG5RdWVzdERlbHV4ZVBvcnRhbC5wcm90b3R5cGUuY3JlYXRlRm9yZWdyb3VuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlID0gbmV3IFNwcml0ZShuZXcgQml0bWFwKEdyYXBoaWNzLndpZHRoLCBHcmFwaGljcy5oZWlnaHQpKTtcclxuICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fZ2FtZVRpdGxlU3ByaXRlKTtcclxuICAgIGlmICgkZGF0YVN5c3RlbS5vcHREcmF3VGl0bGUpIHtcclxuICAgICAgICB0aGlzLmRyYXdHYW1lVGl0bGUoKTtcclxuICAgIH1cclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5kcmF3R2FtZVRpdGxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgeCA9IDIwO1xyXG4gICAgdmFyIHkgPSBHcmFwaGljcy5oZWlnaHQgLyA0O1xyXG4gICAgdmFyIG1heFdpZHRoID0gR3JhcGhpY3Mud2lkdGggLSB4ICogMjtcclxuICAgIHZhciB0ZXh0ID0gJGRhdGFTeXN0ZW0uZ2FtZVRpdGxlO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5vdXRsaW5lQ29sb3IgPSAnYmxhY2snO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5vdXRsaW5lV2lkdGggPSA4O1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5mb250U2l6ZSA9IDcyO1xyXG4gICAgdGhpcy5fZ2FtZVRpdGxlU3ByaXRlLmJpdG1hcC5kcmF3VGV4dCh0ZXh0LCB4LCB5LCBtYXhXaWR0aCwgNDgsICdjZW50ZXInKTtcclxufTtcclxuXHJcblF1ZXN0RGVsdXhlUG9ydGFsLnByb3RvdHlwZS5jZW50ZXJTcHJpdGUgPSBmdW5jdGlvbihzcHJpdGUpIHtcclxuICAgIHNwcml0ZS54ID0gR3JhcGhpY3Mud2lkdGggLyAyO1xyXG4gICAgc3ByaXRlLnkgPSBHcmFwaGljcy5oZWlnaHQgLyAyO1xyXG4gICAgc3ByaXRlLmFuY2hvci54ID0gMC41O1xyXG4gICAgc3ByaXRlLmFuY2hvci55ID0gMC41O1xyXG59O1xyXG5cclxuUXVlc3REZWx1eGVQb3J0YWwucHJvdG90eXBlLnBsYXlUaXRsZU11c2ljID0gZnVuY3Rpb24oKSB7XHJcbiAgICBBdWRpb01hbmFnZXIucGxheUJnbSgkZGF0YVN5c3RlbS50aXRsZUJnbSk7XHJcbiAgICBBdWRpb01hbmFnZXIuc3RvcEJncygpO1xyXG4gICAgQXVkaW9NYW5hZ2VyLnN0b3BNZSgpO1xyXG59O1xyXG5cclxuXHJcblNjZW5lX0Jvb3QucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICBTY2VuZV9CYXNlLnByb3RvdHlwZS5zdGFydC5jYWxsKHRoaXMpO1xyXG4gICAgU291bmRNYW5hZ2VyLnByZWxvYWRJbXBvcnRhbnRTb3VuZHMoKTtcclxuICAgIGlmIChEYXRhTWFuYWdlci5pc0JhdHRsZVRlc3QoKSkge1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLnNldHVwQmF0dGxlVGVzdCgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX0JhdHRsZSk7XHJcbiAgICB9IGVsc2UgaWYgKERhdGFNYW5hZ2VyLmlzRXZlbnRUZXN0KCkpIHtcclxuICAgICAgICBEYXRhTWFuYWdlci5zZXR1cEV2ZW50VGVzdCgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFNjZW5lX01hcCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuY2hlY2tQbGF5ZXJMb2NhdGlvbigpO1xyXG4gICAgICAgIERhdGFNYW5hZ2VyLnNldHVwTmV3R2FtZSgpO1xyXG4gICAgICAgIFNjZW5lTWFuYWdlci5nb3RvKFF1ZXN0RGVsdXhlUG9ydGFsKTtcclxuICAgIH1cclxuICAgIHRoaXMudXBkYXRlRG9jdW1lbnRUaXRsZSgpO1xyXG59O1xyXG4gICAgXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cdC8vXHJcblx0Ly8gT3ZlcnJpZGluZyAnSW5wdXQuX29uS2V5RG93bicgdG8gcGFzcyAnZXZlbnQnIGFzIHBhcmFtZXRlclxyXG5cdC8vIHRvICdJbnB1dC5fc2hvdWxkUHJldmVudERlZmF1bHQnXHJcblx0Ly9cclxuXHJcblx0SW5wdXQuX29uS2V5RG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblx0ICAgIGlmICh0aGlzLl9zaG91bGRQcmV2ZW50RGVmYXVsdChldmVudCkpIHtcclxuXHQgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0ICAgIH1cclxuXHQgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDE0NCkgeyAgICAvLyBOdW1sb2NrXHJcblx0ICAgICAgICB0aGlzLmNsZWFyKCk7XHJcblx0ICAgIH1cclxuXHQgICAgdmFyIGJ1dHRvbk5hbWUgPSB0aGlzLmtleU1hcHBlcltldmVudC5rZXlDb2RlXTtcclxuXHQgICAgaWYgKGJ1dHRvbk5hbWUpIHtcclxuXHQgICAgICAgIHRoaXMuX2N1cnJlbnRTdGF0ZVtidXR0b25OYW1lXSA9IHRydWU7XHJcblx0ICAgIH1cclxuXHR9O1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHQvL1xyXG5cdC8vIE92ZXJyaWRpbmcgSW5wdXQuX3Nob3VsZFByZXZlbnREZWZhdWx0IHRvIGFsbG93IHRoZSB1c2Ugb2YgdGhlICdiYWNrc3BhY2Uga2V5J1xyXG5cdC8vIGluIGlucHV0IGZvcm1zLlxyXG5cdC8vXHJcblxyXG5cdElucHV0Ll9zaG91bGRQcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKGUpIHtcclxuXHQgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcclxuXHRcdCAgICBjYXNlIDg6ICAgICAvLyBiYWNrc3BhY2VcclxuXHRcdCAgICBcdGlmICgkKGUudGFyZ2V0KS5pcyhcImlucHV0LCB0ZXh0YXJlYVwiKSlcclxuXHRcdCAgICBcdFx0YnJlYWs7XHJcblx0XHQgICAgY2FzZSAzMzogICAgLy8gcGFnZXVwXHJcblx0XHQgICAgY2FzZSAzNDogICAgLy8gcGFnZWRvd25cclxuXHRcdCAgICBjYXNlIDM3OiAgICAvLyBsZWZ0IGFycm93XHJcblx0XHQgICAgY2FzZSAzODogICAgLy8gdXAgYXJyb3dcclxuXHRcdCAgICBjYXNlIDM5OiAgICAvLyByaWdodCBhcnJvd1xyXG5cdFx0ICAgIGNhc2UgNDA6ICAgIC8vIGRvd24gYXJyb3dcclxuXHRcdCAgICAgICAgcmV0dXJuIHRydWU7XHJcblx0ICAgIH1cclxuXHQgICAgcmV0dXJuIGZhbHNlO1xyXG5cdH07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=